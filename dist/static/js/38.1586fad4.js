(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{607:function(t,a,i){},807:function(t,a,i){"use strict";var s=i(607);i.n(s).a},859:function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"pond-page"},[t._m(0),t._v(" "),i("div",{staticClass:"content from-box"},[i("ol",{staticClass:"clearfix"},[i("li",[i("p",{staticClass:"v-data"},[t._v("\n          "+t._s(t.info.total)+"\n        ")]),t._v(" "),i("p",{staticClass:"v-title"},[t._v("\n          用户总数\n        ")])]),t._v(" "),i("li",[i("p",{staticClass:"v-data"},[i("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.highQuality+"/1"}},[t._v("\n            "+t._s(t.uersInfo[1].val))])]),t._v(" "),i("p",{staticClass:"v-title"},[t._v("\n          优质用户 ("+t._s(t.uersInfo[1].centage)+"%)\n        ")])]),t._v(" "),i("li",[i("p",{staticClass:"v-data"},[i("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.highValue+"/1"}},[t._v("\n            "+t._s(t.uersInfo[2].val))])]),t._v(" "),i("p",{staticClass:"v-title"},[t._v("\n          高价值用户 ("+t._s(t.uersInfo[2].centage)+"%)\n        ")])]),t._v(" "),i("li",[i("p",{staticClass:"v-data"},[i("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.general+"/1"}},[t._v("\n            "+t._s(t.uersInfo[3].val))])]),t._v(" "),i("p",{staticClass:"v-title"},[t._v("\n          一般用户 ("+t._s(t.uersInfo[3].centage)+"%)\n        ")])]),t._v(" "),i("li",[i("p",{staticClass:"v-data"},[i("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.potential+"/1"}},[t._v("\n            "+t._s(t.uersInfo[4].val))])]),t._v(" "),i("p",{staticClass:"v-title"},[t._v("\n          潜力用户 ("+t._s(t.uersInfo[4].centage)+"%)\n        ")])]),t._v(" "),i("li",[i("p",{staticClass:"v-data"},[i("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.loss+"/1"}},[t._v("\n            "+t._s(t.uersInfo[5].val))])]),t._v(" "),i("p",{staticClass:"v-title"},[t._v("\n          流失用户 ("+t._s(t.uersInfo[5].centage)+"%)\n        ")])])])]),t._v(" "),i("div",{staticClass:"v-data-chart"},[i("p",{staticClass:"v-title"},[t._v("\n      各级别用户趋势图\n    ")]),t._v(" "),i("ul",{staticClass:"v-btns clearfix"},[i("li",{class:{active:t.isActive3},on:{click:function(a){t.selectCount(a,"isActive3")}}},[t._v("3场")]),t._v(" "),i("li",{class:{active:t.isActive7},on:{click:function(a){t.selectCount(a,"isActive7")}}},[t._v("7场")]),t._v(" "),i("li",{class:{active:t.isActive10},on:{click:function(a){t.selectCount(a,"isActive10")}}},[t._v("10场")])]),t._v(" "),i("div",{staticClass:"chart-item",staticStyle:{height:"380px"},attrs:{id:"chart01"}})]),t._v(" "),i("div",{staticClass:"v-data-list clearfix"},[i("p",{staticClass:"v-title"},[t._v("\n      数据详情\n    ")]),t._v(" "),i("ol",[t._m(1),t._v(" "),t._l(t.tableList,function(a){return i("li",{key:a.id,staticClass:"clearfix"},[i("div",{staticClass:"v-activity-content v-name"},[t._v("\n          "+t._s(a.title)+"\n        ")]),t._v(" "),i("div",{staticClass:"v-activity-content v-time"},[t._v("\n          "+t._s(a.startTime)+"\n        ")]),t._v(" "),i("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(a.val0)+"\n        ")]),t._v(" "),i("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(a.val1)+"\n        ")]),t._v(" "),i("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(a.val2)+"\n        ")]),t._v(" "),i("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(a.val3)+"\n        ")]),t._v(" "),i("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(a.val4)+"\n        ")])])})],2)])])};s._withStripped=!0;var e=i(96),n=i(476),v=i(480),c=i(481),l={data:function(){return{info:{},datas:{},uersInfo:[{val:0,centage:0},{val:0,centage:0},{val:0,centage:0},{val:0,centage:0},{val:0,centage:0},{val:0,centage:0}],tableList:[],isActive3:!0,isActive7:!1,isActive10:!1,url:{total:"",highQuality:"",highValue:"",general:"",potential:"",loss:""}}},beforeDestroy:function(){window.callbackResize=null,this.effectChart&&this.effectChart.dispose()},created:function(){var t=this;this.$config({handlers:!0}).$get(e.a.GET_CUSTOMER_OVERVIEW,{}).then(function(a){t.info=a.data;var i=t.info.userLevel;i.forEach(function(a){t.uersInfo[i.indexOf(a)].val=a,t.uersInfo[i.indexOf(a)].centage=Math.round(a/t.info.total)})}).catch(function(a){t.$messageBox({header:"提示",content:a.msg,confirmText:"确定",handleClick:function(t){"cancel"===t.action||t.action}})}),window.callbackResize=function(){t.resizeRenderChart()},this.getData(3),this.getGroudList()},methods:{resizeRenderChart:function(){this.effectChart&&this.effectChart.resize()},getData:function(t){var a=this;this.$get(n.a.GET_ACTIVITY_RECENT,{count:t}).then(function(t){a.datas=t.data,a.tableList.splice(0,a.tableList.length),a.effectChart=Object(v.b)("chart01",{legendData:a.datas.types,list:a.datas.list},{left:130,bottom:70,top:30,right:20},{left:"center",top:"350px"}),a.datas.list.forEach(function(t,i){var s={};s.title=a.datas.names[i],s.startTime=t.name.toString().substring(0,10),s.val0=t.data[0],s.val1=t.data[1],s.val2=t.data[2],s.val3=t.data[3],s.val4=t.data[4],a.tableList.push(s)})})},getGroudList:function(){var t=this;this.$post(c.a.GROUPS_LIST,{page:1}).then(function(a){for(var i=a.data.list,s=0;s<i.length;s++)"优质用户"===i[s].title?t.url.highQuality=i[s].group_id:"流失用户"===i[s].title?t.url.loss=i[s].group_id:"一般用户"===i[s].title?t.url.general=i[s].group_id:"高价值用户"===i[s].title?t.url.highValue=i[s].group_id:"潜力用户"===i[s].title&&(t.url.potential=i[s].group_id)})},selectCount:function(t,a){switch(a){case"isActive3":this.isActive3=!0,this.isActive7=!1,this.isActive10=!1,this.getData(3);break;case"isActive7":this.isActive3=!1,this.isActive7=!0,this.isActive10=!1,this.getData(7);break;case"isActive10":this.isActive3=!1,this.isActive7=!1,this.isActive10=!0,this.getData(10)}}}},r=(i(807),i(2)),o=Object(r.a)(l,s,[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"pond-title"},[a("span",{staticClass:"title"},[this._v("总览")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("li",{staticClass:"clearfix"},[i("div",{staticClass:"v-activity-content v-name"},[t._v("\n          活动名称\n        ")]),t._v(" "),i("div",{staticClass:"v-activity-content v-time"},[t._v("\n          时间\n        ")]),t._v(" "),i("div",{staticClass:"v-activity-content v-type"},[t._v("\n          流失用户\n        ")]),t._v(" "),i("div",{staticClass:"v-activity-content v-operation"},[t._v("\n          一般用户\n        ")]),t._v(" "),i("div",{staticClass:"v-activity-content v-operation"},[t._v("\n          潜力用户\n        ")]),t._v(" "),i("div",{staticClass:"v-activity-content v-operation"},[t._v("\n          高价值用户\n        ")]),t._v(" "),i("div",{staticClass:"v-activity-content v-operation"},[t._v("\n          优质用户\n        ")])])}],!1,null,"13470d66",null);o.options.__file="src/pages/users-manage/overview/index.vue";a.default=o.exports}}]);
//# sourceMappingURL=38.1586fad4.js.map