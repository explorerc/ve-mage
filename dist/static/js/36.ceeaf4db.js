(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{318:function(t,i,a){},501:function(t,i,a){t.exports=a.p+"static/img/site_tp1.eb5d3cb.png"},502:function(t,i,a){t.exports=a.p+"static/img/site_tp2.fb7891c.png"},503:function(t,i,a){"use strict";var e=a(318);a.n(e).a},579:function(t,i,a){"use strict";a.r(i);var e=a(74),s=a.n(e),n=a(345),o=a(341),c={data:function(){return{enable:!1,data:{}}},mounted:function(){this.init()},methods:{init:function(){var t=this;n.a.getSiteData({__loading:!0,activityId:this.$route.params.id}).then(function(i){"Y"===i.data.enabled&&(t.enable=!0),i.data.value&&(t.data=JSON.parse(i.data.value))})},goEdit:function(){this.data.tid&&this.$router.push("/site/edit/"+this.$route.params.id)},goPreview:function(){this.data.tid&&this.$router.push("/site/preview/"+this.$route.params.id)},updateState:function(){var t=this;n.a.updateSiteState({__loading:!0,activityId:this.$route.params.id,submodule:"TEMPLATE",enabled:this.enable?"Y":"N"}).then(function(i){t.$toast({content:"保存成功",autoClose:2e3})})},showPreview:function(t){this.$router.push("/site/preview/"+this.$route.params.id+"?tid="+t)},useTemplate:function(t){var i=this,a=o.a[t]();n.a.updateSiteData({__loading:!0,activityId:this.$route.params.id,template:s()(a)}).then(function(t){i.data=a,i.$toast({content:"设置成功",autoClose:2e3})})}}},l=(a(503),a(1)),u=Object(l.a)(c,function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"site-container"},[e("div",{staticClass:"group"},[e("div",{staticClass:"title"},[t._v("活动官网 "),e("el-switch",{attrs:{"inactive-color":"#DEE1FF",width:32,"active-color":"#FFD021"},on:{change:t.updateState},model:{value:t.enable,callback:function(i){t.enable=i},expression:"enable"}})],1)]),t._v(" "),e("div",{staticClass:"group"},[e("div",{staticClass:"fwn"},[t._v("我的模版")]),t._v(" "),e("div",{staticClass:"group-content"},[this.data.tid?e("div",{staticClass:"template-block"},[e("img",{attrs:{src:"",alt:""}}),t._v(" "),e("div",{staticClass:"option-wrap"},[e("div",{staticClass:"option-group"},[e("a",{on:{click:t.goEdit}},[t._v("编辑")]),t._v(" "),e("a",{on:{click:t.goPreview}},[t._v("预览")])])])]):e("div",[t._v("\n        没有模板\n      ")])])]),t._v(" "),e("div",{staticClass:"group"},[e("div",{staticClass:"fwn"},[t._v("模板库")]),t._v(" "),e("div",{staticClass:"group-content fs0"},[e("div",{staticClass:"template-block"},[e("img",{attrs:{src:a(501),alt:""}}),t._v(" "),e("div",{staticClass:"option-wrap"},[e("div",{staticClass:"option-group"},[e("a",{on:{click:function(i){t.useTemplate("template1")}}},[t._v("使用模版")]),t._v(" "),e("a",{on:{click:function(i){t.showPreview("0478320")}}},[t._v("预览")])])])]),t._v(" "),e("div",{staticClass:"template-block"},[e("img",{attrs:{src:a(502),alt:""}}),t._v(" "),e("div",{staticClass:"option-wrap"},[e("div",{staticClass:"option-group"},[e("a",{on:{click:function(i){t.useTemplate("template2")}}},[t._v("使用模版")]),t._v(" "),e("a",{on:{click:function(i){t.showPreview("0478321")}}},[t._v("预览")])])])])])])])},[],!1,null,"7bcb71fe",null);u.options.__file="index.vue";i.default=u.exports}}]);