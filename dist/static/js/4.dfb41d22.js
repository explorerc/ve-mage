(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{172:function(a,e,t){"use strict";var i=t(5);const s={queryList:a=>i.a.ajax({method:"post",url:"/manage/base-manage/list-activity",params:a}),deleteById:a=>i.a.ajax({method:"post",url:"/manage/base-manage/del-activity",params:{id:a}}),queryWarmInfoById:a=>i.a.ajax({method:"post",url:"/manage/warm-up-manage/get",params:{activityId:a}}),saveAndEditWarmInfo:a=>i.a.ajax({method:"post",url:"/manage/warm-up-manage/edit",params:a}),queryReminderInfoById:a=>i.a.ajax({method:"post",url:"/",params:{id:a}}),saveReminderInfo:a=>i.a.ajax({method:"post",url:"/",params:a}),roleList:a=>i.a.ajax({method:"GET",url:"/manage/role-manage/list-role",params:{activityId:a}}),delAss:a=>i.a.ajax({method:"POST",url:"/manage/role-manage/del-assistant",params:a}),handleAss:(a,e)=>i.a.ajax({method:"POST",url:a?"/manage/role-manage/update-assistant":"/manage/role-manage/add-assistant",params:e}),getLimit:a=>i.a.ajax({method:"GET",url:"/manage/view-limit/get-limit",params:{activityId:a}}),saveLimit:a=>i.a.ajax({method:"POST",url:"/manage/view-limit/update-limit",params:a}),webinarInfo:a=>i.a.ajax({method:"GET",url:"/manage/base-manage/detail-activity",params:{id:a}}),updateWebinfo:(a,e)=>i.a.ajax({method:"POST",url:a?"/manage/base-manage/add-activity":"/manage/base-manage/update-activity",params:e}),queryEmailList:a=>i.a.ajax({method:"post",url:"/expand/email-invite/list",params:a}),deleteEmailById:a=>i.a.ajax({method:"post",url:"/expand/email-invite/delete",params:{emailInviteId:a}}),queryEmailInfoById:a=>i.a.ajax({method:"post",url:"/expand/email-invite/query",params:{emailInviteId:a}}),queryEmailTemplateList:()=>i.a.ajax({method:"post",url:"/expand/email-invite/templates",params:{}}),sendEmailInfo:a=>i.a.ajax({method:"post",url:"/expand/email-invite/send",params:a}),sendTimerEmailInfo:a=>i.a.ajax({method:"post",url:"/expand/email-invite/save-and-plansend",params:a}),sendTestEmailInfo:a=>i.a.ajax({method:"post",url:"/expand/email-invite/test-send",params:a}),saveAndsendEmail:a=>i.a.ajax({method:"post",url:"/expand/email-invite/save-and-send",params:a}),saveEmailInfo:a=>i.a.ajax({method:"post",url:"/expand/email-invite/save-draft",params:a}),saveWechat:a=>i.a.ajax({method:"post",url:"/expand/wechat-invite/save",params:a}),saveMsg:a=>i.a.ajax({method:"post",url:"/expand/sms-invite/save",params:a}),queryWechat:a=>i.a.ajax({method:"post",url:"/expand/wechat-invite/query",params:{inviteId:a}}),queryMsg:a=>i.a.ajax({method:"post",url:"/expand/sms-invite/query",params:{inviteId:a}}),queryWechatlist:a=>i.a.ajax({method:"post",url:"/expand/wechat-invite/list",params:a}),queryMsglist:a=>i.a.ajax({method:"post",url:"/expand/sms-invite/list",params:a}),deleteWechat:a=>i.a.ajax({method:"post",url:"/expand/wechat-invite/delete",params:{inviteId:a}}),deleteMsg:a=>i.a.ajax({method:"post",url:"/expand/sms-invite/delete",params:{inviteId:a}}),queryPassSdkInfo:()=>i.a.ajax({method:"post",url:"/common/pass-sdk/create-access-token",params:{}})};e.a=s},174:function(a,e,t){},184:function(a,e,t){},185:function(a,e,t){},186:function(a,e,t){"use strict";var i=t(174);t.n(i).a},188:function(a,e,t){},233:function(a,e,t){"use strict";var i=function(){var a=this.$createElement,e=this._self._c||a;return e("div",{staticClass:"pagination-box"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":this.pageSize,"current-page":this.currentPage,total:this.total},on:{"current-change":this.changePage}})],1)};i._withStripped=!0;var s={name:"ve-pagination",props:{total:{type:Number,default:0},pageSize:{type:Number,default:10},currentPage:{type:Number,default:1}},methods:{changePage(a){this.$emit("changePage",a)}}},n=(t(186),t(1)),l=Object(n.a)(s,i,[],!1,null,null,null);l.options.__file="src\\components\\ve-pagination.vue";e.a=l.exports},243:function(a,e,t){"use strict";var i=t(184);t.n(i).a},245:function(a,e,t){"use strict";var i=t(185);t.n(i).a},247:function(a,e,t){"use strict";var i=t(188);t.n(i).a},350:function(a,e,t){"use strict";t.r(e);var i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{directives:[{name:"ComLoading",rawName:"v-ComLoading",value:a.loading,expression:"loading"}],staticClass:"live-mager",attrs:{"com-loading-text":"拼命加载中"}},[t("div",{staticClass:"live-title"},[t("span",[a._v("直播列表")]),a._v(" "),t("el-button",{staticClass:"live-btn fr",attrs:{type:"primary",plain:""},on:{click:a.createLive}},[a._v("创建直播")])],1),a._v(" "),t("div",{staticClass:"mager-box"},[t("div",{staticClass:"live-search"},[t("el-select",{attrs:{placeholder:"直播状态"},on:{change:a.changeSearch},model:{value:a.searchParams.status,callback:function(e){a.$set(a.searchParams,"status",e)},expression:"searchParams.status"}},a._l(a.optionsStates,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),a._v(" "),t("el-select",{attrs:{placeholder:"请选择"},on:{change:a.changeSearch},model:{value:a.searchParams.sortBy,callback:function(e){a.$set(a.searchParams,"sortBy",e)},expression:"searchParams.sortBy"}},a._l(a.optionsOrder,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),a._v(" "),t("div",{staticClass:"search-box"},[t("com-input",{staticClass:"fr",attrs:{type:"search",value:a.searchParams.keyword,placeholder:"输入直播名称"},on:{"update:value":function(e){a.$set(a.searchParams,"keyword",e)}},nativeOn:{keyup:function(e){return"button"in e||!a._k(e.keyCode,"enter",13,e.key,"Enter")?a.searchEnter(e):null}}})],1)],1),a._v(" "),t("live-table",{attrs:{tableList:a.tableList},on:{handleClick:a.handleClick}}),a._v(" "),t("div",{staticClass:"pagination-box"},[t("div",{staticClass:"page-pagination"},[t("ve-pagination",{attrs:{total:a.total,pageSize:a.pageSize,currentPage:a.searchParams.page},on:{changePage:a.changePage}})],1)])],1)])};i._withStripped=!0;var s=t(172),n=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"live-list"},a._l(a.tableList,function(e){return t("div",{key:e.id},[t("live-item",{attrs:{liveData:e},on:{handleClick:a.handleClick}})],1)}))};n._withStripped=!0;var l=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"live-item",style:{height:this.height+"px"}},["PREPARE"==a.liveData.status?t("span",{staticClass:"live-state",staticStyle:{"background-color":"#5ea6ec"}},[a._v("预告")]):a._e(),a._v(" "),"LIVING"==a.liveData.status?t("span",{staticClass:"live-state",staticStyle:{"background-color":"#fc5659"}},[a._v("直播中")]):a._e(),a._v(" "),"PLAYBACK"==a.liveData.status?t("span",{staticClass:"live-state",staticStyle:{"background-color":"#2ab804"}},[a._v("回放")]):a._e(),a._v(" "),"FINISH"==a.liveData.status?t("span",{staticClass:"live-state",staticStyle:{"background-color":"#999"}},[a._v("结束")]):a._e(),a._v(" "),t("div",{staticClass:"live-img",style:a.imgStyle}),a._v(" "),t("div",{staticClass:"live-md"},[t("span",[a._v(a._s(a.liveData.title))]),a._v(" "),t("span",{staticClass:"time"},[a._v(a._s(a.liveData.startTime))])]),a._v(" "),t("div",{staticClass:"live-bottom"},[t("span",{staticClass:"item",on:{click:function(e){e.stopPropagation(),a.handleClick(a.action.play)}}},[a._v("开播")]),a._v(" "),t("span",{staticClass:"item",on:{click:function(e){e.stopPropagation(),a.handleClick(a.action.share)}}},[a._v("推广")]),a._v(" "),t("span",{staticClass:"item",on:{click:function(e){e.stopPropagation(),a.handleClick(a.action.info)}}},[a._v("详情")]),a._v(" "),t("span",{staticClass:"item",on:{mouseover:function(e){e.stopPropagation(),a.showMore=!0},mouseout:function(e){e.stopPropagation(),a.showMore=!1}}},[a._v("\n      更多\n      "),t("transition",{attrs:{name:"slide-fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:a.showMore,expression:"showMore"}],staticClass:"live-more"},[t("span",{on:{click:function(e){e.stopPropagation(),a.handleClick(a.action.role)}}},[a._v("角色")]),a._v(" "),t("span",{staticClass:"disabled",on:{click:function(e){e.stopPropagation(),a.handleClick(a.action.viewer)}}},[a._v("观众")]),a._v(" "),t("span",{staticClass:"disabled",on:{click:function(e){e.stopPropagation(),a.handleClick(a.action.data)}}},[a._v("数据")]),a._v(" "),t("span",{on:{click:function(e){e.stopPropagation(),a.handleClick(a.action.delete)}}},[a._v("删除")])])])],1)])])};l._withStripped=!0;var r=t(11),o=t.n(r);const c={play:{type:"play",text:"开播"},share:{type:"share",text:"推广"},info:{type:"info",text:"详情"},role:{type:"role",text:"角色"},viewer:{type:"viewer",text:"观众"},data:{type:"data",text:"数据"},edit:{type:"edit",text:"编辑"},delete:{type:"delete",text:"删除"}};var d={name:"live-item",data:()=>({showMore:!1,action:c}),props:{liveData:{type:Object,default:{id:0,title:"-",status:"-",imgUrl:"//cnstatic01.e.vhall.com/static/img/v35-webinar.png",startTime:"0000-00-00 00-00"}},height:{type:String,default:"260"}},computed:{imgStyle(){return{backgroundImage:"url("+(this.liveData.imgUrl?this.liveData.imgUrl:"//cnstatic01.e.vhall.com/static/img/v35-webinar.png")+")"}}},methods:{handleClick(a){this.$emit("handleClick",o()({},a,this.liveData))}}},m=(t(243),t(1)),p=Object(m.a)(d,l,[],!1,null,"9b7622e6",null);p.options.__file="src\\pages\\live-mager\\live\\live-item.vue";var v={name:"live-table",components:{LiveItem:p.exports},props:{tableList:{type:Array,default:[]}},data:()=>({}),methods:{handleClick(a){this.$emit("handleClick",a)}}},u=(t(245),Object(m.a)(v,n,[],!1,null,"bbdbbd78",null));u.options.__file="src\\pages\\live-mager\\live\\live-table.vue";var h={name:"index",components:{LiveTable:u.exports,VePagination:t(233).a},data:()=>({show:!1,pageSize:8,loading:!1,optionsStates:[{value:"",label:"全部"},{value:"PREPARE",label:"预告"},{value:"LIVING",label:"直播中"},{value:"FINISH",label:"已结束"},{value:"PLAYBACK",label:"回放"}],optionsOrder:[{value:"createTime",label:"按创建时间排序"},{value:"startTime",label:"按直播开始时间排序"}],searchParams:{status:"",sortBy:"createTime",keyword:"",page:1,pageSize:8},tableList:[],total:0}),created(){console.log("999999999"),console.log(this.$imgHost),this.queryList()},methods:{handleClick(a){console.log(a),"delete"===a.type?this.$messageBox({header:"删除活动",content:"活动删除后，所有数据将一并删除，并且不可恢复。确定要删除吗？",cancelText:"暂不删除",confirmText:"仍要删除",handleClick:e=>{"confirm"===e.action&&this.deleteLive(a.id)}}):"share"===a.type&&this.share(a)},changePage(a){this.searchParams.page=a,this.queryList()},changeSearch(){this.searchParams.page=1,this.queryList()},searchEnter(){this.queryList()},createLive(){this.$router.push("/liveMager/create")},deleteLive(a){s.a.deleteById(a).then(a=>{200===a.code&&this.queryList()})},queryList(){this.loading=!0,s.a.queryList(this.searchParams).then(a=>{this.loading=!1,200===a.code&&(a.data.list.map((a,e)=>(a.imgUrl&&(a.imgUrl=this.$imgHost+"/"+a.imgUrl),a)),this.tableList=a.data.list,this.total=a.data.total)}).catch(()=>{this.loading=!1})},share(a){this.$router.push(`liveMager/detail/${a.id}`)}}},g=(t(247),Object(m.a)(h,i,[],!1,null,"6f9d3f66",null));g.options.__file="src\\pages\\live-mager\\index.vue";e.default=g.exports}}]);
//# sourceMappingURL=4.dfb41d22.js.map