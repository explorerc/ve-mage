(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{480:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"pond-page"},[t._m(0),t._v(" "),a("div",{staticClass:"content from-box"},[a("ol",{staticClass:"clearfix"},[a("li",[a("p",{staticClass:"v-data"},[t._v("\n          "+t._s(t.info.total)+"\n        ")]),t._v(" "),a("p",{staticClass:"v-title"},[t._v("\n          用户总数\n        ")])]),t._v(" "),a("li",[a("p",{staticClass:"v-data"},[a("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.highQuality+"/1"}},[t._v("\n            "+t._s(t.uersInfo[1].val))])]),t._v(" "),a("p",{staticClass:"v-title"},[t._v("\n          优质用户 ("+t._s(t.uersInfo[1].centage)+")"),a("ve-msg-tips",{staticClass:"user-tips",attrs:{tip:"近期经常参加您的直播活动，并且在直播中通过聊天、红包雨、调查问卷等互动方式与主持人进行互动，同时还分享了本次直播的用户"}})],1)]),t._v(" "),a("li",[a("p",{staticClass:"v-data"},[a("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.highValue+"/1"}},[t._v("\n            "+t._s(t.uersInfo[2].val))])]),t._v(" "),a("p",{staticClass:"v-title"},[t._v("\n          高价值用户 ("+t._s(t.uersInfo[2].centage)+")"),a("ve-msg-tips",{staticClass:"user-tips",attrs:{tip:"近期偶尔参加过您的直播活动，并且在直播中非常积极与主持人进行互动，同时还分享了本次直播的用户"}})],1)]),t._v(" "),a("li",[a("p",{staticClass:"v-data"},[a("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.potential+"/1"}},[t._v("\n            "+t._s(t.uersInfo[4].val))])]),t._v(" "),a("p",{staticClass:"v-title"},[t._v("\n          潜力用户 ("+t._s(t.uersInfo[4].centage)+")"),a("ve-msg-tips",{staticClass:"user-tips",attrs:{"tip-type":"html",tip:"近期偶尔参加过您的直播活动，<br>在直播中偶尔与主持人的互动"}})],1)]),t._v(" "),a("li",[a("p",{staticClass:"v-data"},[a("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.general+"/1"}},[t._v("\n            "+t._s(t.uersInfo[3].val))])]),t._v(" "),a("p",{staticClass:"v-title"},[t._v("\n          一般用户 ("+t._s(t.uersInfo[3].centage)+")"),a("ve-msg-tips",{staticClass:"user-tips",attrs:{"tip-type":"html",tip:"近期偶尔参加过您的直播活动，<br>在直播中几乎不予主持人进行互动"}})],1)]),t._v(" "),a("li",[a("p",{staticClass:"v-data"},[a("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.loss+"/1"}},[t._v("\n            "+t._s(t.uersInfo[5].val))])]),t._v(" "),a("p",{staticClass:"v-title"},[t._v("\n          流失用户 ("+t._s(t.uersInfo[5].centage)+")"),a("ve-msg-tips",{staticClass:"user-tips",attrs:{"tip-type":"html",tip:"很久没有参加过您的直播活动了，<br>之前参与过直播，其活跃度也很低"}})],1)])])]),t._v(" "),a("div",{staticClass:"v-data-chart"},[a("p",{staticClass:"v-title"},[t._v("\n      各级别用户趋势图\n    ")]),t._v(" "),a("ul",{staticClass:"v-btns clearfix"},[a("li",{class:{active:t.isActive3},on:{click:function(s){t.selectCount(s,"isActive3")}}},[t._v("3场")]),t._v(" "),a("li",{class:{active:t.isActive7},on:{click:function(s){t.selectCount(s,"isActive7")}}},[t._v("7场")]),t._v(" "),a("li",{class:{active:t.isActive10},on:{click:function(s){t.selectCount(s,"isActive10")}}},[t._v("10场")])]),t._v(" "),a("div",{staticClass:"chart-item",staticStyle:{height:"380px"},attrs:{id:"chart01"}})]),t._v(" "),a("div",{staticClass:"v-data-list clearfix"},[a("p",{staticClass:"v-title"},[t._v("\n      数据详情\n    ")]),t._v(" "),a("ol",[t._m(1),t._v(" "),t._l(t.tableList,function(s,i){return a("li",{key:s.id,staticClass:"clearfix"},[a("div",{staticClass:"v-activity-content v-name"},[t._v("\n          "+t._s(s.title)+"\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-time"},[t._v("\n          "+t._s(t.times[i]?t.times[i].toString().substring(0,10):"-")+"\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(s.val5)+"\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(s.val4)+"\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-high"},[t._v("\n          "+t._s(s.val3)+"\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(s.val2)+"\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(s.val1)+"\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(s.val0)+"\n        ")])])})],2)])])};i._withStripped=!0;var e=a(521),n=a(94),v=a(522),l=a(528),c=a(529),r=a(59),o={components:{VeMsgTips:e.a},data:function(){return{info:{},datas:{},uersInfo:[{val:0,centage:""},{val:0,centage:""},{val:0,centage:""},{val:0,centage:""},{val:0,centage:""},{val:0,centage:""}],tableList:[],isActive3:!0,isActive7:!1,isActive10:!1,url:{total:"",highQuality:"",highValue:"",general:"",potential:"",loss:""},times:[]}},beforeDestroy:function(){window.callbackResize=null,this.effectChart&&this.effectChart.dispose()},created:function(){var t=this;r.a.$emit("breads",[{title:"用户管理"},{title:"用户总览"}]),this.$config({handlers:!0}).$get(n.a.GET_CUSTOMER_OVERVIEW,{}).then(function(s){t.info=s.data;for(var a=t.info.userLevel,i=0;i<a.length;i++)t.uersInfo[i].val=a[i],t.info.total>0?t.uersInfo[i].centage=a[i]/t.info.total==0?0:(a[i]/t.info.total*100).toFixed(2)+"%":t.uersInfo[i].centage=0}).catch(function(s){t.$messageBox({header:"提示",content:s.msg,confirmText:"确定",handleClick:function(t){"cancel"===t.action||t.action}})}),window.callbackResize=function(){t.resizeRenderChart()},this.getData(3),this.getGroudList()},methods:{resizeRenderChart:function(){this.effectChart&&this.effectChart.resize()},getData:function(t){var s=this;this.$get(v.a.GET_ACTIVITY_RECENT,{count:t}).then(function(t){s.datas=t.data;for(var a=0;a<s.datas.list.length;a++)s.times[a]=s.datas.list[a].name,s.datas.list[a].name=s.datas.names[a].length>10?s.datas.names[a].substring(0,10):s.datas.names[a];for(var i=[],e=0,n=s.datas.list.length-1;n>=0;n--)i[e]=s.datas.list[n],e++;s.tableList.splice(0,s.tableList.length),s.effectChart=Object(l.b)("chart01",{legendData:s.datas.types,list:i},{left:130,bottom:70,top:30,right:50},{left:"center",top:"350px"},"人"),s.datas.list.forEach(function(t,a){var i={};i.title=s.datas.names[a],i.startTime=t.name.toString().substring(0,10),i.val0=t.data[0],i.val1=t.data[1],i.val2=t.data[2],i.val3=t.data[3],i.val4=t.data[4],i.val5=t.data[5],s.tableList.push(i)})})},getGroudList:function(){var t=this;this.$post(c.a.GROUPS_LIST,{page:1}).then(function(s){for(var a=s.data.list,i=0;i<a.length;i++)"优质用户"===a[i].title?t.url.highQuality=a[i].group_id:"流失用户"===a[i].title?t.url.loss=a[i].group_id:"一般用户"===a[i].title?t.url.general=a[i].group_id:"高价值用户"===a[i].title?t.url.highValue=a[i].group_id:"潜力用户"===a[i].title&&(t.url.potential=a[i].group_id)})},selectCount:function(t,s){switch(s){case"isActive3":this.isActive3=!0,this.isActive7=!1,this.isActive10=!1,this.getData(3);break;case"isActive7":this.isActive3=!1,this.isActive7=!0,this.isActive10=!1,this.getData(7);break;case"isActive10":this.isActive3=!1,this.isActive7=!1,this.isActive10=!0,this.getData(10)}}}},_=(a(872),a(1)),u=Object(_.a)(o,i,[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"pond-title"},[s("span",{staticClass:"title"},[this._v("用户总览")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"clearfix"},[a("div",{staticClass:"v-activity-content v-name"},[t._v("\n          活动名称\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-time"},[t._v("\n          时间\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-type"},[t._v("\n          观众总数\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-operation"},[t._v("\n          优质用户\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-high"},[t._v("\n          高价值用户\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-operation"},[t._v("\n          潜力用户\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-operation"},[t._v("\n          一般用户\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-type"},[t._v("\n          流失用户\n        ")])])}],!1,null,"13470d66",null);u.options.__file="src/pages/users-manage/overview/index.vue";s.default=u.exports},659:function(t,s,a){},872:function(t,s,a){"use strict";var i=a(659);a.n(i).a}}]);
//# sourceMappingURL=38.b2a14858.js.map