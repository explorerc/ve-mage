(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{607:function(t,s,a){},807:function(t,s,a){"use strict";var i=a(607);a.n(i).a},859:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"pond-page"},[t._m(0),t._v(" "),a("div",{staticClass:"content from-box"},[a("ol",{staticClass:"clearfix"},[a("li",[a("p",{staticClass:"v-data"},[t._v("\n          "+t._s(t.info.total)+"\n        ")]),t._v(" "),a("p",{staticClass:"v-title"},[t._v("\n          用户总数\n        ")])]),t._v(" "),a("li",[a("p",{staticClass:"v-data"},[a("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.highQuality+"/1"}},[t._v("\n            "+t._s(t.uersInfo[1].val))])]),t._v(" "),a("p",{staticClass:"v-title"},[t._v("\n          优质用户 ("+t._s(t.uersInfo[1].centage)+"%)\n        ")])]),t._v(" "),a("li",[a("p",{staticClass:"v-data"},[a("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.highValue+"/1"}},[t._v("\n            "+t._s(t.uersInfo[2].val))])]),t._v(" "),a("p",{staticClass:"v-title"},[t._v("\n          高价值用户 ("+t._s(t.uersInfo[2].centage)+"%)\n        ")])]),t._v(" "),a("li",[a("p",{staticClass:"v-data"},[a("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.general+"/1"}},[t._v("\n            "+t._s(t.uersInfo[3].val))])]),t._v(" "),a("p",{staticClass:"v-title"},[t._v("\n          一般用户 ("+t._s(t.uersInfo[3].centage)+"%)\n        ")])]),t._v(" "),a("li",[a("p",{staticClass:"v-data"},[a("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.potential+"/1"}},[t._v("\n            "+t._s(t.uersInfo[4].val))])]),t._v(" "),a("p",{staticClass:"v-title"},[t._v("\n          潜力用户 ("+t._s(t.uersInfo[4].centage)+"%)\n        ")])]),t._v(" "),a("li",[a("p",{staticClass:"v-data"},[a("a",{attrs:{href:"/userManage/userGroupsDetails/"+t.url.loss+"/1"}},[t._v("\n            "+t._s(t.uersInfo[5].val))])]),t._v(" "),a("p",{staticClass:"v-title"},[t._v("\n          流失用户 ("+t._s(t.uersInfo[5].centage)+"%)\n        ")])])])]),t._v(" "),a("div",{staticClass:"v-data-chart"},[a("p",{staticClass:"v-title"},[t._v("\n      各级别用户趋势图\n    ")]),t._v(" "),a("ul",{staticClass:"v-btns clearfix"},[a("li",{class:{active:t.isActive3},on:{click:function(s){t.selectCount(s,"isActive3")}}},[t._v("3场")]),t._v(" "),a("li",{class:{active:t.isActive7},on:{click:function(s){t.selectCount(s,"isActive7")}}},[t._v("7场")]),t._v(" "),a("li",{class:{active:t.isActive10},on:{click:function(s){t.selectCount(s,"isActive10")}}},[t._v("10场")])]),t._v(" "),a("div",{staticClass:"chart-item",staticStyle:{height:"380px"},attrs:{id:"chart01"}})]),t._v(" "),a("div",{staticClass:"v-data-list clearfix"},[a("p",{staticClass:"v-title"},[t._v("\n      数据详情\n    ")]),t._v(" "),a("ol",[t._m(1),t._v(" "),t._l(t.tableList,function(s){return a("li",{key:s.id,staticClass:"clearfix"},[a("div",{staticClass:"v-activity-content v-name"},[t._v("\n          "+t._s(s.title)+"\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-time"},[t._v("\n          "+t._s(s.startTime)+"\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(s.val0)+"\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(s.val1)+"\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(s.val2)+"\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(s.val3)+"\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content"},[t._v("\n          "+t._s(s.val4)+"\n        ")])])})],2)])])};i._withStripped=!0;var e=a(96),n=a(476),v=a(480),c=a(481),l={data:function(){return{info:{},datas:{},uersInfo:[{val:0,centage:0},{val:0,centage:0},{val:0,centage:0},{val:0,centage:0},{val:0,centage:0},{val:0,centage:0}],tableList:[],isActive3:!0,isActive7:!1,isActive10:!1,url:{total:"",highQuality:"",highValue:"",general:"",potential:"",loss:""}}},beforeDestroy:function(){window.callbackResize=null,this.effectChart&&this.effectChart.dispose()},created:function(){var t=this;this.$config({handlers:!0}).$get(e.a.GET_CUSTOMER_OVERVIEW,{}).then(function(s){t.info=s.data;var a=t.info.userLevel;a.forEach(function(s){t.uersInfo[a.indexOf(s)].val=s,t.uersInfo[a.indexOf(s)].centage=Math.round(s/t.info.total)})}).catch(function(s){t.$messageBox({header:"提示",content:s.msg,confirmText:"确定",handleClick:function(t){"cancel"===t.action||t.action}})}),window.callbackResize=function(){t.resizeRenderChart()},this.getData(3),this.getGroudList()},methods:{resizeRenderChart:function(){this.effectChart&&this.effectChart.resize()},getData:function(t){var s=this;this.$get(n.a.GET_ACTIVITY_RECENT,{count:t}).then(function(t){s.datas=t.data,s.tableList.splice(0,s.tableList.length),s.effectChart=Object(v.b)("chart01",{legendData:s.datas.types,list:s.datas.list},{left:130,bottom:70,top:30,right:20},{left:"center",top:"350px"}),s.datas.list.forEach(function(t,a){var i={};i.title=s.datas.names[a],i.startTime=t.name.toString().substring(0,10),i.val0=t.data[0],i.val1=t.data[1],i.val2=t.data[2],i.val3=t.data[3],i.val4=t.data[4],s.tableList.push(i)})})},getGroudList:function(){var t=this;this.$post(c.a.GROUPS_LIST,{page:1}).then(function(s){for(var a=s.data.list,i=0;i<a.length;i++)"优质用户"===a[i].title?t.url.highQuality=a[i].business_uid:"流失用户"===a[i].title?t.url.loss=a[i].business_uid:"一般用户"===a[i].title?t.url.general=a[i].business_uid:"高价值用户"===a[i].title?t.url.highValue=a[i].business_uid:"潜力用户"===a[i].title&&(t.url.potential=a[i].business_uid)})},selectCount:function(t,s){switch(s){case"isActive3":this.isActive3=!0,this.isActive7=!1,this.isActive10=!1,this.getData(3);break;case"isActive7":this.isActive3=!1,this.isActive7=!0,this.isActive10=!1,this.getData(7);break;case"isActive10":this.isActive3=!1,this.isActive7=!1,this.isActive10=!0,this.getData(10)}}}},r=(a(807),a(2)),o=Object(r.a)(l,i,[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"pond-title"},[s("span",{staticClass:"title"},[this._v("总览")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"clearfix"},[a("div",{staticClass:"v-activity-content v-name"},[t._v("\n          活动名称\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-time"},[t._v("\n          时间\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-type"},[t._v("\n          流失用户\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-operation"},[t._v("\n          一般用户\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-operation"},[t._v("\n          潜力用户\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-operation"},[t._v("\n          高价值用户\n        ")]),t._v(" "),a("div",{staticClass:"v-activity-content v-operation"},[t._v("\n          优质用户\n        ")])])}],!1,null,"13470d66",null);o.options.__file="src/pages/users-manage/overview/index.vue";s.default=o.exports}}]);
//# sourceMappingURL=54.9517ac90.js.map