{"version":3,"sources":["webpack:///./src/pages/live-mager/email/info.vue?f2a6","webpack:///src/pages/live-mager/email/info.vue","webpack:///./src/pages/live-mager/email/info.vue?6319","webpack:///./src/pages/live-mager/email/info.vue","webpack:///./src/pages/live-mager/css/live.scss?4114","webpack:///./src/pages/live-mager/email/info.vue?a593"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","class","_s","email","title","_f","senderName","from-content","receiver","send-detail","status","selectedGroupList","length","selectedTagList","_l","item","idx","name","_e","expectNum","on","click","$event","sendDetail","statusName","sendTime","domProps","innerHTML","content","editEmail","sendEmail","attrs","mode","_type","handleClick","_withStripped","statusType","DRAFT","SEND","AWAIT","email_infovue_type_script_lang_js_","data","activityId","emailInviteId","desc","planTime","sendCount","groupList","tagList","components","comDetail","com_detail","computed","Object","vuex_esm","emailInfo","state","watch","handler","newVal","extends_default","immediate","created","$route","params","id","query","queryTagList","then","queryGroupList","queryEmailInfo","$router","go","mounted","eventBus","$emit","url","methods","storeEmailInfo","mutation_types","_this","$get","activity_service","GET_EMAIL_INFO","res","setTimeout","reArrangeList","groupIds","split","tagIds","_this2","checkEmail","$messageBox","header","confirmText","cancelText","e","action","$post","POST_SEND_EMAIL_INFO","console","log","push","prePage","keyword","_this3","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","userManage_service","GET_GROUP_LIST","temArray","list","forEach","group_id","count","user_count","isChecked","stop","_this4","_callee2","_context2","GET_TAG_LIST","tag_name","tag_id","group","tag","_this5","ele","i","parseInt","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_live_scss_vue_type_style_index_0_id_306415dd_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_info_vue_vue_type_style_index_1_id_306415dd_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"static/js/18.0a1e3e41.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"live-mager edit-step-box\" },\n    [\n      _c(\n        \"div\",\n        { staticClass: \"live-title\" },\n        [\n          _c(\"span\", { staticClass: \"title\" }, [_vm._v(\"查看邮件\")]),\n          _vm._v(\" \"),\n          _c(\"com-back\", { class: \"back-btn\" })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"tip-box\" }, [\n        _vm._v(\n          \"\\n    通过邮件邀约，定制邀约邮件，邀请特定客户群参加直播活动\\n  \"\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"mager-box border-box\" }, [\n        _c(\"div\", { staticClass: \"from-box\" }, [\n          _c(\"div\", { staticClass: \"from-row\" }, [\n            _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"邮件标题：\")]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"from-content\" }, [\n              _vm._v(_vm._s(_vm.email.title))\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"from-row\" }, [\n            _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"发件人：\")]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"from-content\" }, [\n              _vm._v(_vm._s(_vm._f(\"isEmpty\")(_vm.email.senderName, \"-\")))\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"from-row\" }, [\n            _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"收件人：\")]),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              {\n                class: {\n                  \"from-content\": true,\n                  receiver: true,\n                  \"send-detail\": _vm.email.status == \"SEND\"\n                }\n              },\n              [\n                _vm.selectedGroupList.length || _vm.selectedTagList.length\n                  ? [\n                      _vm.selectedGroupList.length\n                        ? _c(\n                            \"div\",\n                            { staticClass: \"receiver-item\" },\n                            _vm._l(_vm.selectedGroupList, function(item, idx) {\n                              return _c(\n                                \"span\",\n                                [\n                                  _vm._v(_vm._s(item.name)),\n                                  idx + 1 < _vm.selectedGroupList.length\n                                    ? [_vm._v(\"、\")]\n                                    : _vm._e()\n                                ],\n                                2\n                              )\n                            })\n                          )\n                        : _vm._e(),\n                      _vm._v(\" \"),\n                      _vm.selectedTagList.length\n                        ? _c(\n                            \"div\",\n                            { staticClass: \"receiver-item\" },\n                            [\n                              _vm._l(_vm.selectedTagList, function(item, idx) {\n                                return _c(\n                                  \"span\",\n                                  [\n                                    _vm._v(_vm._s(item.name)),\n                                    idx + 1 < _vm.selectedTagList.length\n                                      ? [_vm._v(\"、\")]\n                                      : _vm._e()\n                                  ],\n                                  2\n                                )\n                              }),\n                              _vm._v(\n                                \"（合计\" +\n                                  _vm._s(_vm.email.expectNum) +\n                                  \"人）\\n            \"\n                              )\n                            ],\n                            2\n                          )\n                        : _vm._e(),\n                      _vm._v(\" \"),\n                      _vm.email.status == \"SEND\"\n                        ? _c(\n                            \"el-button\",\n                            {\n                              staticClass: \"send-detail default-button\",\n                              on: {\n                                click: function($event) {\n                                  _vm.sendDetail = true\n                                }\n                              }\n                            },\n                            [_vm._v(\"发送详情\")]\n                          )\n                        : _vm._e()\n                    ]\n                  : [_vm._v(\"\\n            暂未选择\\n          \")]\n              ],\n              2\n            )\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"from-row\" }, [\n            _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"发件状态：\")]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"from-content\" }, [\n              _vm.email.status == \"DRAFT\"\n                ? _c(\"span\", { staticClass: \"cg-status\" }, [\n                    _c(\"i\", { staticClass: \"iconfont icon-shijian\" }),\n                    _vm._v(_vm._s(_vm.email.statusName))\n                  ])\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm.email.status == \"SEND\"\n                ? _c(\"span\", { staticClass: \"fs-status\" }, [\n                    _c(\"i\", { staticClass: \"iconfont icon-shijian\" }),\n                    _vm._v(_vm._s(_vm.email.statusName))\n                  ])\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm.email.status == \"AWAIT\"\n                ? _c(\"span\", { staticClass: \"dd-status\" }, [\n                    _c(\"i\", { staticClass: \"iconfont icon-shijian\" }),\n                    _vm._v(_vm._s(_vm.email.statusName))\n                  ])\n                : _vm._e()\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"from-row\" }, [\n            _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"发件时间：\")]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"from-content\" }, [\n              _vm._v(_vm._s(_vm._f(\"isEmpty\")(_vm.email.sendTime, \"-\")))\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"from-row\" }, [\n            _c(\"div\", {\n              staticClass: \"email-info-box\",\n              domProps: { innerHTML: _vm._s(_vm.email.content) }\n            })\n          ]),\n          _vm._v(\" \"),\n          _vm.email.status !== \"SEND\"\n            ? _c(\"div\", { staticClass: \"step-btns\" }, [\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"default-button margin-fl\",\n                    on: { click: _vm.editEmail }\n                  },\n                  [_vm._v(\"编辑邮件\")]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"primary-button\",\n                    on: { click: _vm.sendEmail }\n                  },\n                  [_vm._v(\"立即发送\")]\n                )\n              ])\n            : _vm._e()\n        ])\n      ]),\n      _vm._v(\" \"),\n      _vm.sendDetail\n        ? _c(\n            \"transition\",\n            { attrs: { name: \"fade\", mode: \"out-in\" } },\n            [\n              _c(\"com-detail\", {\n                attrs: { _type: \"EMAIL\" },\n                on: { handleClick: _vm.handleClick }\n              })\n            ],\n            1\n          )\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"live-mager edit-step-box\">\n    <div class=\"live-title\">\n      <span class=\"title\">查看邮件</span>\n      <com-back :class='\"back-btn\"'></com-back>\n    </div>\n    <div class=\"tip-box\">\n      通过邮件邀约，定制邀约邮件，邀请特定客户群参加直播活动\n    </div>\n    <div class=\"mager-box border-box\">\n      <div class=\"from-box\">\n        <div class=\"from-row\">\n          <div class=\"from-title\">邮件标题：</div>\n          <div class=\"from-content\">{{email.title}}</div>\n        </div>\n        <div class=\"from-row\">\n          <div class=\"from-title\">发件人：</div>\n          <div class=\"from-content\">{{email.senderName | isEmpty('-')}}</div>\n        </div>\n        <div class=\"from-row\">\n          <div class=\"from-title\">收件人：</div>\n          <div :class=\"{'from-content':true, receiver:true, 'send-detail':email.status=='SEND'}\" >\n            <template v-if=\"selectedGroupList.length || selectedTagList.length\">\n              <div class=\"receiver-item\" v-if=\"selectedGroupList.length\">\n                <span v-for='(item,idx) in selectedGroupList'>{{item.name}}<template v-if=\"idx + 1< selectedGroupList.length\">、</template></span>\n              </div>\n              <div class=\"receiver-item\" v-if=\"selectedTagList.length\">\n                <span v-for='(item,idx) in selectedTagList'>{{item.name}}<template v-if=\"idx + 1< selectedTagList.length\">、</template></span>（合计{{email.expectNum}}人）\n              </div>\n              <el-button  class='send-detail default-button' @click='sendDetail = true' v-if=\"email.status=='SEND'\">发送详情</el-button>\n            </template>\n            <template v-else>\n              暂未选择\n            </template>\n            <!-- <div style=\"border: solid 1px #e5e5e5;\">\n              <div>邮件1</div>\n              <div>邮件2</div>\n              <div>邮件3</div>\n              <div>邮件4</div>\n              <div>邮件5</div>\n              <div>邮件6</div>\n            </div> -->\n          </div>\n        </div>\n        <div class=\"from-row\">\n          <div class=\"from-title\">发件状态：</div>\n          <div class=\"from-content\">\n            <span v-if=\"email.status=='DRAFT'\"\n                  class=\"cg-status\"><i class=\"iconfont icon-shijian\"></i>{{email.statusName}}</span>\n            <span v-if=\"email.status=='SEND'\"\n                  class=\"fs-status\"><i class=\"iconfont icon-shijian\"></i>{{email.statusName}}</span>\n            <span v-if=\"email.status=='AWAIT'\"\n                  class=\"dd-status\"><i class=\"iconfont icon-shijian\"></i>{{email.statusName}}</span>\n          </div>\n        </div>\n        <div class=\"from-row\">\n          <div class=\"from-title\">发件时间：</div>\n          <div class=\"from-content\">{{email.sendTime | isEmpty('-')}}</div>\n        </div>\n        <div class=\"from-row\">\n          <!--<div class=\"from-title\">邮件内容：</div>-->\n          <!--<div class=\"from-content\">-->\n          <div class=\"email-info-box\"\n               v-html=\"email.content\"></div>\n          <!--</div>-->\n        </div>\n        <div class=\"step-btns\" v-if=\"email.status!=='SEND'\">\n          <!--<button class=\"primary-button fr\" @click=\"prePage\">返回上级</button>-->\n          <button class=\"default-button margin-fl\"\n                  @click=\"editEmail\">编辑邮件</button>\n          <button class=\"primary-button\"\n                  @click=\"sendEmail\">立即发送</button>\n        </div>\n      </div>\n    </div>\n    <transition name='fade' mode='out-in' v-if=\"sendDetail\">\n      <com-detail _type=\"EMAIL\"  @handleClick=\"handleClick\"></com-detail>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport userManage from 'src/api/userManage-service'\n// import noticeService from 'src/api/notice-service'\nimport activityService from 'src/api/activity-service'\nimport { mapState, mapMutations } from 'vuex'\nimport * as types from '../../../store/mutation-types'\nimport comDetail from 'src/pages/live-mager/promote/com-detail'\nimport EventBus from 'src/utils/eventBus'\n\nconst statusType = {\n  DRAFT: '草稿',\n  SEND: '已发送',\n  AWAIT: '等待发送'\n}\nexport default {\n  name: 'info',\n  data () {\n    return {\n      email: {\n        activityId: 0,\n        emailInviteId: 0,\n        title: '',\n        content: '',\n        desc: '',\n        planTime: '',\n        sendTime: '',\n        senderName: '',\n        sendCount: 0,\n        status: '',\n        statusName: ''\n      },\n      selectedGroupList: [],\n      selectedTagList: [],\n      groupList: [],\n      tagList: [],\n      sendDetail: false\n    }\n  },\n  components: {\n    comDetail\n  },\n  computed: mapState('liveMager', {\n    emailInfo: state => state.emailInfo\n  }),\n  watch: {\n    emailInfo: {\n      handler (newVal) {\n        this.email = { ...newVal }\n      },\n      immediate: true\n    }\n  },\n  created () {\n    // 如果vuex可以取到值就return\n    // if (this.email.emailInviteId) {\n    //   debugger\n    //   const listStr = this.emailInfo.groupIds ? this.emailInfo.groupIds : ''\n    //   const tagStr = this.emailInfo.tagIds ? this.emailInfo.tagIds : ''\n    //   this.queryTagList().then(this.queryGroupList()).then(() => {\n    //     setTimeout(() => {\n    //       this.reArrangeList(listStr.split(','), tagStr.split(','))\n    //     }, 500)\n    //   })\n    //   return false\n    // }\n    // debugger\n    // 如果vuex不能取到值就查询接口\n    const queryId = this.$route.params.id\n    if (!queryId) {\n      this.$router.go(-1)\n      return\n    }\n    this.email.emailInviteId = this.$route.query.email\n    this.queryTagList().then(this.queryGroupList()).then(this.queryEmailInfo())\n  },\n  mounted () {\n    EventBus.$emit('breads', [{\n      title: '活动管理'\n    }, {\n      title: '活动列表',\n      url: '/liveMager/list'\n    }, {\n      title: '活动详情',\n      url: `/liveMager/detail/${this.$route.params.id}`\n    }, {\n      title: '邮件邀约',\n      url: `/liveMager/email/${this.$route.params.id}`\n    }, {\n      title: '预览'\n    }])\n  },\n  methods: {\n    ...mapMutations('liveMager', {\n      storeEmailInfo: types.EMAIL_INFO\n    }),\n    queryEmailInfo () {\n      // 如果不是编辑页面就return\n      if (!this.email.emailInviteId) return\n      this.$get(activityService.GET_EMAIL_INFO, {\n        emailInviteId: this.email.emailInviteId\n      }).then((res) => {\n        res.data.statusName = statusType[res.data.status]\n        this.email = res.data\n        setTimeout(() => {\n          this.reArrangeList(res.data.groupIds ? res.data.groupIds.split(',') : [], res.data.tagIds ? res.data.tagIds.split(',') : [])\n        }, 500)\n        this.storeEmailInfo(this.email)\n      })\n    },\n    sendEmail () {\n      if (this.checkEmail()) {\n        this.$messageBox({\n          header: '提示',\n          content: '是否立即发送此邮件？',\n          confirmText: '确定',\n          cancelText: '取消',\n          handleClick: (e) => {\n            if (e.action === 'confirm') {\n              this.$post(activityService.POST_SEND_EMAIL_INFO, {\n                emailInviteId: this.email.emailInviteId\n              }).then(() => {\n                console.log('邮件发送成功')\n                this.$router.push(`/liveMager/email/${this.$route.params.id}`)\n              })\n            }\n          }\n        })\n      } else {\n        this.$messageBox({\n          header: '提示',\n          content: '邮件未编辑完成，无法发送邮件！',\n          confirmText: '立即编辑',\n          cancelText: '取消',\n          handleClick: (e) => {\n            if (e.action === 'confirm') {\n              this.editEmail()\n            }\n          }\n        })\n      }\n    },\n    checkEmail () {\n      if (!this.email.content) return false\n      if (!(this.email.groupIds || this.email.tagIds)) return false\n      if (!this.email.senderName) return false\n      if (this.email.status === 'AWAIT' && !this.email.planTime) return false\n      return true\n    },\n    editEmail () {\n      this.$router.push(`/liveMager/emailEditOne/${this.email.activityId}?email=${this.email.emailInviteId}`)\n    },\n    prePage () {\n      this.$router.go(-1)\n    },\n    // 查询群组\n    async queryGroupList (keyword) {\n      await this.$get(userManage.GET_GROUP_LIST).then((res) => {\n        let temArray = []\n        res.data.list.forEach((item) => {\n          temArray.push({\n            id: item.group_id,\n            name: item.title,\n            count: item.user_count,\n            isChecked: false\n          })\n        })\n        this.groupList = temArray\n      })\n    },\n    /* 查询标签 */\n    async queryTagList () {\n      await this.$get(userManage.GET_TAG_LIST).then((res) => {\n        let temArray = []\n        res.data.list.forEach(item => {\n          temArray.push({\n            name: item.tag_name,\n            id: item.tag_id,\n            count: item.user_count,\n            isChecked: false\n          })\n        })\n        this.tagList = temArray\n      })\n    },\n    reArrangeList (group, tag) {\n      this.email.expectNum = 0\n      this.groupList.forEach((item, idx) => {\n        group.forEach((ele, i) => {\n          if (ele * 1 === item.id * 1) {\n            // this.groupList[idx].isChecked = true\n            this.email.expectNum = this.email.expectNum + parseInt(item.count)\n            this.selectedGroupList.push({\n              count: item.count,\n              id: item.id,\n              isChecked: true,\n              name: item.name\n            })\n          }\n        })\n      })\n      this.tagList.forEach((item, idx) => {\n        tag.forEach((ele, i) => {\n          if (ele * 1 === item.id * 1) {\n            this.email.expectNum = this.email.expectNum + parseInt(item.count)\n            // this.tagList[idx].isChecked = true\n            this.selectedTagList.push({\n              count: item.count,\n              id: item.id,\n              isChecked: true,\n              name: item.name\n            })\n          }\n        })\n      })\n      console.log(this.selectedGroupList)\n      console.log(this.selectedTagList)\n    },\n    /* 点击取消 */\n    handleClick (e) {\n      if (e.action === 'cancel') {\n        this.sendDetail = false\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped src=\"../css/live.scss\">\n</style>\n<style lang=\"scss\" scoped>\n.edit-step-box {\n  .live-mager .mager-box {\n    margin-top: 0;\n  }\n  .step-btns {\n    margin-top: 20px;\n    text-align: center;\n    .margin-fl {\n      margin: 0 10px;\n    }\n  }\n  .tip-box {\n    margin-bottom: 20px;\n  }\n  .cg-status {\n    color: #1bcab7;\n    i {\n      margin-right: 10px;\n    }\n  }\n  .fs-status {\n    color: #4b5afe;\n    i {\n      margin-right: 10px;\n    }\n  }\n  .dd-status {\n    color: #ff8b0e;\n    i {\n      margin-right: 10px;\n    }\n  }\n  .email-info-box {\n    position: relative;\n    width: 750px;\n    margin: 20px auto;\n    border: solid 1px #e2e2e2;\n    border-radius: 4px;\n    padding: 20px;\n    overflow: hidden;\n    &:before {\n      display: block;\n      content: '';\n      position: absolute;\n      height: 74px;\n      width: 74px;\n      top: -37px;\n      left: -37px;\n      transform: rotate(45deg);\n      background-color: #ffd021;\n    }\n    &:after {\n      display: block;\n      content: '预览';\n      position: absolute;\n      height: 20px;\n      width: 30px;\n      top: 8px;\n      left: 3px;\n      transform: rotate(-45deg);\n      background-color: #ffd021;\n    }\n  }\n  .receiver {\n    position: relative;\n    width: 710px;\n    flex: inherit !important;\n    &.send-detail{\n      margin-top: -10px;\n    }\n    .el-button {\n      // position: absolute;\n      // top: -10px;\n      // margin-left: 10px;\n    }\n    div {\n      display: inline-block;\n      span {\n        display: inline-block;\n        padding: 0 5px 10px 5px;\n        padding-bottom: 0px;\n        margin-bottom: 10px;\n      }\n    }\n    .receiver-item:last-child{\n      margin-bottom: -10px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=306415dd&scoped=true&\"\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"../css/live.scss?vue&type=style&index=0&id=306415dd&lang=scss&scoped=true&\"\nimport style1 from \"./info.vue?vue&type=style&index=1&id=306415dd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"306415dd\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/chenqi/Desktop/Wswork/fe_management/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('306415dd', component.options)\n    } else {\n      api.reload('306415dd', component.options)\n    }\n    module.hot.accept(\"./info.vue?vue&type=template&id=306415dd&scoped=true&\", function () {\n      api.rerender('306415dd', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/live-mager/email/info.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=306415dd&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=306415dd&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=1&id=306415dd&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=1&id=306415dd&lang=scss&scoped=true&\""],"sourceRoot":""}