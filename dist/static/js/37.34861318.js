(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{331:function(t,i,e){},529:function(t,i,e){"use strict";var a=e(331);e.n(a).a},580:function(t,i,e){"use strict";e.r(i);var a=e(74),s=e.n(a),n=e(345),o=e(234),l=e(544),c=e(545),d={components:{t0478320:l.default,t0478321:c.default},data:function(){return{com:"",isPreview:!1,data:{},ptid:this.$route.query.tid,tid:this.$route.params.id,title:"",published:"N",platform:"PC"}},mounted:function(){-1===this.$route.path.indexOf("edit")&&(this.isPreview=!0),this.init()},methods:{init:function(){var t=this;this.ptid?this.com="t"+this.ptid:(o.a.webinarInfo(this.tid).then(function(i){var e=i.data;t.title=e.title,t.published=e.published}),n.a.getSiteData({__loading:!0,activityId:this.tid}).then(function(i){var e=JSON.parse(i.data.value);t.com="t"+e.tid,e.editAble=!0,t.data=e}))},doSave:function(){var t=this;n.a.updateSiteData({__loading:!0,activityId:this.tid,template:s()(this.data)}).then(function(i){t.$toast({content:"保存成功",autoClose:2e3})})}},computed:{publishState:function(){return"N"===this.published?"未发布":"已发布"}}},r=(e(529),e(1)),u=Object(r.a)(d,function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"template-container"},[e("div",{staticClass:"header"},[t.ptid?t._e():e("div",{staticClass:"title"},[t._v(t._s(t.title)+"-"),e("span",[t._v(t._s(t.publishState))])]),t._v(" "),e("router-link",{staticClass:"back",attrs:{to:"/liveMager/site/"+t.tid}},[t._v("返回")]),t._v(" "),t.isPreview&&!t.ptid?e("div",{staticClass:"preview-group"},[e("a",{on:{click:function(i){t.platform="PC"}}},[t._v("电脑版")]),t._v(" "),e("a",{on:{click:function(i){t.platform="H5"}}},[t._v("手机版")]),t._v(" "),e("a",[t._v("分享")])]):t._e(),t._v(" "),t.isPreview||t.ptid?t._e():e("a",{staticClass:"save",on:{click:t.doSave}},[t._v("保存")])],1),t._v(" "),"PC"===t.platform?e(t.com,{tag:"component",staticClass:"template-content",attrs:{editAble:!t.isPreview},model:{value:t.data,callback:function(i){t.data=i},expression:"data"}}):t._e(),t._v(" "),"H5"===t.platform?e("div",{staticClass:"template-content"},[e("iframe",{staticClass:"h5-preview",attrs:{src:"http://localhost:8866/site/131",frameborder:"0"}})]):t._e()],1)},[],!1,null,"6aee8216",null);u.options.__file="template.vue";i.default=u.exports}}]);