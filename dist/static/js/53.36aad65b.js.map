{"version":3,"sources":["webpack:///./src/assets/image/not-goodlist.png","webpack:///./src/pages/sales-tools/recommend-goods/index.vue?e1a0","webpack:///./src/pages/sales-tools/recommend-goods/index.vue?cb25","webpack:///./src/pages/sales-tools/recommend-goods/index.vue?f0cc","webpack:///src/pages/sales-tools/recommend-goods/index.vue","webpack:///./src/pages/sales-tools/recommend-goods/index.vue"],"names":["module","exports","__webpack_require__","p","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_2e5cf102_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","n","render","_vm","this","_h","$createElement","_c","_self","attrs","id","_v","tableData","length","round","disabled","isShowlive","on","click","check","staticClass","createGoods","_s","_e","border","_m","element","options","handle","model","value","callback","$$v","expression","_l","row","ind","key","number","src","image","$imgHost","name","alt","title","directives","rawName","preferential","price","size","type","$event","handleEdit","handleShelf","added","handleDelete","_withStripped","sales_tools_recommend_goodsvue_type_script_lang_js_","components","draggable","vuedraggable_default","a","created","getList","isShowLiveData","data","activity_id","$route","params","timerShelf","watch","handler","val","oldVal","sortGoods","deep","methods","_this","$post","salesGoods_service","GOODS_LISTS","then","res","forEach","ite","JSON","parse","console","log","catch","$router","push","goods","map","goods_id","SORT_GOODS","goods_ids","join","_this2","$get","GET_DETAILS","activityId","time","_this3","setTimeout","clearTimeout","GOODS_SHELF","$toast","content","position","index","_this4","$messageBox","header","width","cancelText","confirmText","handleClick","e","action","GOODS_DELETE","splice","component","Object","componentNormalizer","__file","__webpack_exports__"],"mappings":"oGAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,wECAxC,IAAAC,EAAAF,EAAA,KAAAA,EAAAG,EAAAD,GAA0c,2CCA1c,IAAAE,EAAA,WACA,IAAAC,EAAAC,KACAC,EAAAF,EAAAG,eACAC,EAAAJ,EAAAK,MAAAD,IAAAF,EACA,OAAAE,EAAA,OAAoBE,OAASC,GAAA,gBAC7BH,EACA,UAEAA,EAAA,KAAAJ,EAAAQ,GAAA,UACAR,EAAAQ,GAAA,KACAJ,EAAA,YACAJ,EAAAQ,GAAA,KACAR,EAAAS,UAAAC,QAAA,EACAN,EACA,OAEAA,EACA,aAEAE,OAA4BK,MAAA,GAAAC,UAAAZ,EAAAa,YAC5BC,IAAyBC,MAAAf,EAAAgB,SAEzBhB,EAAAQ,GAAA,YAEAR,EAAAQ,GAAA,KACAJ,EACA,aAEAa,YAAA,2BACAX,OAA4BM,SAAAZ,EAAAS,UAAAC,QAAA,GAAAC,MAAA,IAC5BG,IAAyBC,MAAAf,EAAAkB,eAGzBlB,EAAAQ,GACA,kBACAR,EAAAmB,GAAAnB,EAAAS,UAAAC,QACA,qBAKA,GAEAV,EAAAoB,MAEA,GAEApB,EAAAQ,GAAA,KACAR,EAAAS,UAAAC,QAAA,EACAN,EAAA,OAAmBa,YAAA,cACnBb,EACA,SACaE,OAASe,OAAA,OAEtBrB,EAAAsB,GAAA,GACAtB,EAAAQ,GAAA,KACAJ,EACA,aAEAE,OAA0BiB,QAAA,QAAAC,SAA6BC,OAAA,UACvDC,OACAC,MAAA3B,EAAAS,UACAmB,SAAA,SAAAC,GACA7B,EAAAS,UAAAoB,GAEAC,WAAA,cAGA9B,EAAA+B,GAAA/B,EAAAS,UAAA,SAAAuB,EAAAC,GACA,OAAA7B,EAAA,MAAmC8B,IAAAD,IACnC7B,EAAA,MACAJ,EAAAQ,GACAR,EAAAmB,GAAAa,EAAAG,OAAA,OAAAH,EAAAG,OAAAH,EAAAG,WAGAnC,EAAAQ,GAAA,KACAJ,EAAA,MACAA,EAAA,OACAE,OACA8B,IAAAJ,EAAAK,MACArC,EAAAsC,SAAA,IAAAN,EAAAK,MAAA,GAAAE,KAC8B5C,EAAQ,KACtC6C,IAAA,QAIAxC,EAAAQ,GAAA,KACAJ,EAAA,MAAAJ,EAAAQ,GAAAR,EAAAmB,GAAAa,EAAAS,UACAzC,EAAAQ,GAAA,KACAJ,EAAA,MACAA,EACA,OAEAsC,aAEAH,KAAA,OACAI,QAAA,SACAhB,MAAA,SAAAK,EAAAY,aACAd,WAAA,kCAKA9B,EAAAQ,GACAR,EAAAmB,GACA,SAAAa,EAAAa,MAAA,SAAAb,EAAAa,UAKA7C,EAAAQ,GAAA,KACAJ,EACA,QAEAsC,aAEAH,KAAA,OACAI,QAAA,SACAhB,MAAA,SAAAK,EAAAY,aACAd,WAAA,kCAKA9B,EAAAQ,GACAR,EAAAmB,GACA,SAAAa,EAAAa,MAAA,SAAAb,EAAAa,YAMA7C,EAAAQ,GAAA,KACAJ,EAAA,MAA8Ba,YAAA,eAC9BjB,EAAAQ,GACAR,EAAAmB,GACA,SAAAa,EAAAa,MACA,KACA,IAAAb,EAAAY,iBAIA5C,EAAAQ,GAAA,KACAJ,EAAA,MACAA,EACA,OAEAA,EACA,aAEAE,OAAsCwC,KAAA,OAAAC,KAAA,QACtCjC,IACAC,MAAA,SAAAiC,GACAhD,EAAAiD,WAAAjB,EAAAC,OAIAjC,EAAAQ,GAAA,QAEAR,EAAAQ,GAAA,KACAJ,EACA,aAEAE,OAAsCwC,KAAA,OAAAC,KAAA,QACtCjC,IACAC,MAAA,SAAAiC,GACAhD,EAAAkD,YAAAlB,EAAAC,OAKAjC,EAAAQ,GACAR,EAAAmB,GAAA,MAAAa,EAAAmB,MAAA,WACA,sBAIAnD,EAAAQ,GAAA,KACAJ,EACA,aAEAa,YAAA,OACAX,OAAsCwC,KAAA,OAAAC,KAAA,UAEtC/C,EAAAQ,GAAA,QAEAR,EAAAQ,GAAA,KACAJ,EACA,aAEAE,OAAsCwC,KAAA,OAAAC,KAAA,QACtCjC,IACAC,MAAA,SAAAiC,GACAhD,EAAAoD,aAAApB,EAAAC,OAIAjC,EAAAQ,GAAA,SAGA,WAOA,KAGAJ,EACA,OACWa,YAAA,aAEXb,EAAA,OACAE,OAAsB8B,IAAMzC,EAAQ,KAA+B6C,IAAA,MAEnExC,EAAAQ,GAAA,KACAJ,EAAA,KAAAJ,EAAAQ,GAAA,cACAR,EAAAQ,GAAA,KACAR,EAAAsB,GAAA,GACAtB,EAAAQ,GAAA,KACAJ,EACA,aAEAa,YAAA,2BACAX,OAAwBK,MAAA,IACxBG,IAAqBC,MAAAf,EAAAkB,eAErBlB,EAAAQ,GAAA,WAGA,MAoCAT,EAAAsD,eAAA,iCC5QiMC,GCgEjMC,YAAAC,UAAAC,EAAAC,GACAC,QAFA,WAGA1D,KAAA2D,UACA3D,KAAA4D,kBAEAC,KANA,WAOA,OACAC,YAAA9D,KAAA+D,OAAAC,OAAAF,YACAtD,aACAyD,WAAA,KACArD,WAAA,OAGAsD,OACA1D,WACA2D,QADA,SACAC,EAAAC,GACAD,EAAA3D,QAAA,GACAT,KAAAsE,aAGAC,MAAA,IAGAC,SACAb,QADA,WACA,IAAAc,EAAAzE,KACAA,KAAA0E,MAAAC,EAAA,EAAAC,aAAAd,YAAA9D,KAAA8D,cACAe,KAAA,SAAAC,GACAA,EAAAjB,KAAAkB,QAAA,SAAAC,EAAAhD,GACAgD,EAAA5C,MAAA6C,KAAAC,MAAAF,EAAA5C,SAEAqC,EAAAjE,UAAAsE,EAAAjB,KACAsB,QAAAC,IAAAX,EAAAjE,aAEA6E,MAAA,WACAZ,EAAAjE,gBAIAS,YAfA,WAgBAjB,KAAAsF,QAAAC,KAAA,kCAAAvF,KAAA8D,YAAA,YAEAQ,UAlBA,WAmBA,IAAAkB,EAAAxF,KAAAQ,UAAAiF,IAAA,SAAAT,EAAAhD,GACA,OAAAgD,EAAAU,WAEA1F,KAAA0E,MAAAC,EAAA,EAAAgB,YAAA7B,YAAA9D,KAAA8D,YAAA8B,UAAAJ,EAAAK,UAEA9E,MAxBA,WAyBAf,KAAAY,YACAZ,KAAAsF,QAAAC,KAAA,cAAAvF,KAAA8D,cAGAF,eA7BA,WA6BA,IAAAkC,EAAA9F,KACAA,KAAA+F,KAAApB,EAAA,EAAAqB,aAAAC,WAAAjG,KAAA8D,cACAe,KAAA,SAAAC,GACAgB,EAAAlF,WAAAkE,EAAAjB,UAAAqC,QAIAjD,YApCA,SAoCAlB,GAAA,IAAAoE,EAAAnG,KACAA,KAAAiE,aACAjE,KAAAiE,WAAAmC,WAAA,WACAC,aAAAF,EAAAlC,YACAkC,EAAAlC,WAAA,KACAkC,EAAAzB,MAAAC,EAAA,EAAA2B,aAAAZ,SAAA3D,EAAA2D,SAAA5C,KAAA,MAAAf,EAAAmB,MAAA,UACA2B,KAAA,SAAAC,GACAsB,WAAA,WACAD,EAAAxC,WACA,KACAwC,EAAAI,QACAC,QAAA,QACAC,SAAA,cAGA,OAGAzD,WAtDA,SAsDAjB,EAAA2E,GACA1G,KAAAsF,QAAAC,KAAA,kCAAAxD,EAAA2D,SAAA,YAEAvC,aAzDA,SAyDApB,EAAA2E,GAAA,IAAAC,EAAA3G,KACAmF,QAAAC,IAAArD,GACA/B,KAAA4G,aACAC,OAAA,QACA/D,KAAA,QACAgE,MAAA,QACAN,QAAA,iBACAO,WAAA,KACAC,YAAA,KACAC,YAAA,SAAAC,GACA,WAAAA,EAAAC,OACAR,EAAAJ,QACAC,QAAA,QACAC,SAAA,WAEA,YAAAS,EAAAC,QACAR,EAAAjC,MAAAC,EAAA,EAAAyC,cAAA1B,SAAA3D,EAAA2D,WACAb,KAAA,SAAAC,GACA6B,EAAAnG,UAAA6G,OAAAX,EAAA,GACAN,WAAA,WACAO,EAAAhD,WACA,KACAgD,EAAAJ,QACAC,QAAA,QACAC,SAAA,mCChKAa,EAAgBC,OAAAC,EAAA,EAAAD,CACdlE,EACAvD,GHmOF,WACA,IAAAC,EAAAC,KACAC,EAAAF,EAAAG,eACAC,EAAAJ,EAAAK,MAAAD,IAAAF,EACA,OAAAE,EAAA,SACAA,EAAA,MACAA,EAAA,MAAAJ,EAAAQ,GAAA,QACAR,EAAAQ,GAAA,KACAJ,EAAA,MAAAJ,EAAAQ,GAAA,SACAR,EAAAQ,GAAA,KACAJ,EAAA,MAAAJ,EAAAQ,GAAA,UACAR,EAAAQ,GAAA,KACAJ,EAAA,MAAAJ,EAAAQ,GAAA,UACAR,EAAAQ,GAAA,KACAJ,EAAA,MAAAJ,EAAAQ,GAAA,UACAR,EAAAQ,GAAA,KACAJ,EAAA,MAAAJ,EAAAQ,GAAA,aAIA,WACA,IACAN,EADAD,KACAE,eACAC,EAFAH,KAEAI,MAAAD,IAAAF,EACA,OAAAE,EAAA,KAHAH,KAIAO,GAAA,0BACAJ,EAAA,MALAH,KAMAO,GAAA,mCG5PA,EACA,KACA,WACA,MAuBA+G,EAAA/F,QAAAkG,OAAA,kDACeC,EAAA,QAAAJ","file":"static/js/53.36aad65b.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/not-goodlist.23f39de.png\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2e5cf102&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2e5cf102&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { attrs: { id: \"goods-list\" } }, [\n    _c(\n      \"header\",\n      [\n        _c(\"p\", [_vm._v(\"商品推荐\")]),\n        _vm._v(\" \"),\n        _c(\"com-back\"),\n        _vm._v(\" \"),\n        _vm.tableData.length >= 1\n          ? _c(\n              \"div\",\n              [\n                _c(\n                  \"el-button\",\n                  {\n                    attrs: { round: \"\", disabled: !_vm.isShowlive },\n                    on: { click: _vm.check }\n                  },\n                  [_vm._v(\"查看活动数据\")]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"el-button\",\n                  {\n                    staticClass: \"add-goods primary-button\",\n                    attrs: { disabled: _vm.tableData.length >= 20, round: \"\" },\n                    on: { click: _vm.createGoods }\n                  },\n                  [\n                    _vm._v(\n                      \"\\n        新建商品（\" +\n                        _vm._s(_vm.tableData.length) +\n                        \" / 20）\\n      \"\n                    )\n                  ]\n                )\n              ],\n              1\n            )\n          : _vm._e()\n      ],\n      1\n    ),\n    _vm._v(\" \"),\n    _vm.tableData.length >= 1\n      ? _c(\"div\", { staticClass: \"table-box\" }, [\n          _c(\n            \"table\",\n            { attrs: { border: \"1\" } },\n            [\n              _vm._m(0),\n              _vm._v(\" \"),\n              _c(\n                \"draggable\",\n                {\n                  attrs: { element: \"tbody\", options: { handle: \".item\" } },\n                  model: {\n                    value: _vm.tableData,\n                    callback: function($$v) {\n                      _vm.tableData = $$v\n                    },\n                    expression: \"tableData\"\n                  }\n                },\n                _vm._l(_vm.tableData, function(row, ind) {\n                  return _c(\"tr\", { key: ind }, [\n                    _c(\"td\", [\n                      _vm._v(\n                        _vm._s(row.number < 10 ? \"0\" + row.number : row.number)\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\"img\", {\n                        attrs: {\n                          src: row.image\n                            ? _vm.$imgHost + \"/\" + row.image[0].name\n                            : require(\"assets/image/avatar@2x.png\"),\n                          alt: \"\"\n                        }\n                      })\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [_vm._v(_vm._s(row.title))]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\n                        \"del\",\n                        {\n                          directives: [\n                            {\n                              name: \"show\",\n                              rawName: \"v-show\",\n                              value: row.preferential !== \"0.00\",\n                              expression: \"row.preferential !== '0.00'\"\n                            }\n                          ]\n                        },\n                        [\n                          _vm._v(\n                            _vm._s(\n                              row.price === \"0.00\" ? \"免费\" : \"￥\" + row.price\n                            )\n                          )\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"span\",\n                        {\n                          directives: [\n                            {\n                              name: \"show\",\n                              rawName: \"v-show\",\n                              value: row.preferential === \"0.00\",\n                              expression: \"row.preferential === '0.00'\"\n                            }\n                          ]\n                        },\n                        [\n                          _vm._v(\n                            _vm._s(\n                              row.price === \"0.00\" ? \"免费\" : \"￥\" + row.price\n                            )\n                          )\n                        ]\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", { staticClass: \"dis-prices\" }, [\n                      _vm._v(\n                        _vm._s(\n                          row.price === \"0.00\"\n                            ? \"免费\"\n                            : \"￥\" + row.preferential\n                        )\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\n                        \"div\",\n                        [\n                          _c(\n                            \"el-button\",\n                            {\n                              attrs: { size: \"mini\", type: \"text\" },\n                              on: {\n                                click: function($event) {\n                                  _vm.handleEdit(row, ind)\n                                }\n                              }\n                            },\n                            [_vm._v(\"编辑\")]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"el-button\",\n                            {\n                              attrs: { size: \"mini\", type: \"text\" },\n                              on: {\n                                click: function($event) {\n                                  _vm.handleShelf(row, ind)\n                                }\n                              }\n                            },\n                            [\n                              _vm._v(\n                                _vm._s(row.added === \"0\" ? \"上架\" : \"下架\") +\n                                  \"\\n              \"\n                              )\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"el-button\",\n                            {\n                              staticClass: \"item\",\n                              attrs: { size: \"mini\", type: \"text\" }\n                            },\n                            [_vm._v(\"移动\")]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"el-button\",\n                            {\n                              attrs: { size: \"mini\", type: \"text\" },\n                              on: {\n                                click: function($event) {\n                                  _vm.handleDelete(row, ind)\n                                }\n                              }\n                            },\n                            [_vm._v(\"删除\")]\n                          )\n                        ],\n                        1\n                      )\n                    ])\n                  ])\n                })\n              )\n            ],\n            1\n          )\n        ])\n      : _c(\n          \"div\",\n          { staticClass: \"no-goods\" },\n          [\n            _c(\"img\", {\n              attrs: { src: require(\"assets/image/not-goodlist.png\"), alt: \"\" }\n            }),\n            _vm._v(\" \"),\n            _c(\"p\", [_vm._v(\"暂时没有商品哦~\")]),\n            _vm._v(\" \"),\n            _vm._m(1),\n            _vm._v(\" \"),\n            _c(\n              \"el-button\",\n              {\n                staticClass: \"add-goods primary-button\",\n                attrs: { round: \"\" },\n                on: { click: _vm.createGoods }\n              },\n              [_vm._v(\"添加商品\")]\n            )\n          ],\n          1\n        )\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"thead\", [\n      _c(\"tr\", [\n        _c(\"th\", [_vm._v(\"序号\")]),\n        _vm._v(\" \"),\n        _c(\"th\", [_vm._v(\"封面图\")]),\n        _vm._v(\" \"),\n        _c(\"th\", [_vm._v(\"商品名称\")]),\n        _vm._v(\" \"),\n        _c(\"th\", [_vm._v(\"原始价格\")]),\n        _vm._v(\" \"),\n        _c(\"th\", [_vm._v(\"优惠价格\")]),\n        _vm._v(\" \"),\n        _c(\"th\", [_vm._v(\"操作\")])\n      ])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"p\", [\n      _vm._v(\"全新直播购物模式，通过实时直播带动粉丝经济，\"),\n      _c(\"br\"),\n      _vm._v(\"你甚至可以联合品牌商一起策划品牌内容，提升观众信任感\")\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\r\n  <div id=\"goods-list\">\r\n    <header>\r\n      <p>商品推荐</p>\r\n      <com-back></com-back>\r\n      <div v-if=\"tableData.length>=1\">\r\n        <el-button @click=\"check\" round :disabled=\"!isShowlive\">查看活动数据</el-button>\r\n        <el-button class=\"add-goods primary-button\" @click=\"createGoods\" :disabled=\"tableData.length>=20\" round>\r\n          新建商品（{{tableData.length}} / 20）\r\n        </el-button>\r\n      </div>\r\n\r\n    </header>\r\n    <div class=\"table-box\" v-if=\"tableData.length>=1\">\r\n      <table border=\"1\">\r\n        <thead>\r\n        <tr>\r\n          <th>序号</th>\r\n          <th>封面图</th>\r\n          <th>商品名称</th>\r\n          <th>原始价格</th>\r\n          <th>优惠价格</th>\r\n          <th>操作</th>\r\n        </tr>\r\n        </thead>\r\n        <draggable element=\"tbody\" v-model=\"tableData\" :options=\"{handle:'.item'}\">\r\n          <tr v-for=\"(row,ind) in tableData\" :key=\"ind\">\r\n            <td>{{row.number<10?`0${row.number}`:row.number}}</td>\r\n            <td>\r\n              <img :src=\"row.image ? `${$imgHost}/${row.image[0].name}` :require('assets/image/avatar@2x.png')\" alt=\"\">\r\n            </td>\r\n            <td>{{row.title}}</td>\r\n            <td>\r\n              <del v-show=\"row.preferential !== '0.00'\">{{row.price === '0.00'?'免费':'￥'+row.price}}</del>\r\n              <span v-show=\"row.preferential === '0.00'\">{{row.price === '0.00'?'免费':'￥'+row.price}}</span>\r\n            </td>\r\n            <td class=\"dis-prices\">{{row.price === '0.00'?'免费':'￥'+row.preferential}}</td>\r\n            <td>\r\n              <div>\r\n                <el-button size=\"mini\" type=\"text\" @click=\"handleEdit(row,ind)\">编辑</el-button>\r\n                <el-button size=\"mini\" type=\"text\" @click=\"handleShelf(row,ind)\">{{row.added === '0' ?'上架':'下架'}}\r\n                </el-button>\r\n                <el-button class=\"item\" size=\"mini\" type=\"text\">移动</el-button>\r\n                <el-button size=\"mini\" type=\"text\" @click=\"handleDelete(row,ind)\">删除</el-button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </draggable>\r\n      </table>\r\n    </div>\r\n    <div class=\"no-goods\" v-else>\r\n      <img :src=\"require('assets/image/not-goodlist.png')\" alt=\"\">\r\n      <p>暂时没有商品哦~</p>\r\n      <p>全新直播购物模式，通过实时直播带动粉丝经济，<br>你甚至可以联合品牌商一起策划品牌内容，提升观众信任感</p>\r\n      <el-button class=\"add-goods primary-button\" @click=\"createGoods\" round>添加商品</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import draggable from 'vuedraggable'\r\n  import goodsServer from 'src/api/salesGoods-service'\r\n\r\n  export default {\r\n    components: { draggable },\r\n    created () {\r\n      this.getList()\r\n      this.isShowLiveData()\r\n    },\r\n    data () {\r\n      return {\r\n        activity_id: this.$route.params.activity_id,\r\n        tableData: [],\r\n        timerShelf: null,\r\n        isShowlive: null\r\n      }\r\n    },\r\n    watch: {\r\n      tableData: {\r\n        handler (val, oldVal) {\r\n          if (val.length >= 1) {\r\n            this.sortGoods()\r\n          }\r\n        },\r\n        deep: true\r\n      }\r\n    },\r\n    methods: {\r\n      getList () {\r\n        this.$post(goodsServer.GOODS_LISTS, { activity_id: this.activity_id })\r\n          .then(res => {\r\n            res.data.forEach((ite, ind) => {\r\n              ite.image = JSON.parse(ite.image)\r\n            })\r\n            this.tableData = res.data\r\n            console.log(this.tableData)\r\n          })\r\n          .catch(() => {\r\n            this.tableData = []\r\n          })\r\n      },\r\n      // 创建\r\n      createGoods () {\r\n        this.$router.push(`/salesTools/recommendGoodsInfo/${this.activity_id}/create`)\r\n      },\r\n      sortGoods () {\r\n        let goods = this.tableData.map((ite, ind) => {\r\n          return ite.goods_id\r\n        })\r\n        this.$post(goodsServer.SORT_GOODS, { activity_id: this.activity_id, goods_ids: goods.join() })\r\n      },\r\n      check () {\r\n        if (this.isShowlive) {\r\n          this.$router.push(`/data/live/${this.activity_id}`)\r\n        }\r\n      },\r\n      isShowLiveData () {\r\n        this.$get(goodsServer.GET_DETAILS, { activityId: this.activity_id })\r\n          .then(res => {\r\n            this.isShowlive = res.data.data.time\r\n          })\r\n      },\r\n      // 上下架\r\n      handleShelf (row) {\r\n        if (this.timerShelf) return\r\n        this.timerShelf = setTimeout(() => {\r\n          clearTimeout(this.timerShelf)\r\n          this.timerShelf = null\r\n          this.$post(goodsServer.GOODS_SHELF, { goods_id: row.goods_id, type: row.added === '0' ? '1' : '0' })\r\n            .then(res => {\r\n              setTimeout(() => {\r\n                this.getList()\r\n              }, 500)\r\n              this.$toast({\r\n                content: '操作成功!',\r\n                position: 'center'\r\n              })\r\n            })\r\n        }, 1000)\r\n      },\r\n      // 编辑\r\n      handleEdit (row, index) {\r\n        this.$router.push(`/salesTools/recommendGoodsInfo/${row.goods_id}/update`)\r\n      },\r\n      handleDelete (row, index) {\r\n        console.log(row)\r\n        this.$messageBox({\r\n          header: '删除该商品',\r\n          type: 'error',\r\n          width: '450px',\r\n          content: '删除后观看页将不再显示该商品',\r\n          cancelText: '取消', // 不传递cancelText将只有一个确定按钮\r\n          confirmText: '删除',\r\n          handleClick: (e) => {\r\n            if (e.action === 'cancel') {\r\n              this.$toast({\r\n                content: '已取消删除',\r\n                position: 'center'\r\n              })\r\n            } else if (e.action === 'confirm') {\r\n              this.$post(goodsServer.GOODS_DELETE, { goods_id: row.goods_id })\r\n                .then(res => {\r\n                  this.tableData.splice(index, 1)\r\n                  setTimeout(() => {\r\n                    this.getList()\r\n                  }, 1000)\r\n                  this.$toast({\r\n                    content: '删除成功!',\r\n                    position: 'center'\r\n                  })\r\n                })\r\n            }\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '~assets/css/mixin.scss';\r\n\r\n#goods-list {\r\n  font-family: PingFangSC-Regular;\r\n  padding: 40px 100px;\r\n  /deep/ {\r\n    header {\r\n      overflow: hidden;\r\n      text-align: right;\r\n      p {\r\n        float: left;\r\n        height: 26px;\r\n        font-size: 24px;\r\n        font-weight: 400;\r\n        color: rgba(34, 34, 34, 1);\r\n        line-height: 26px;\r\n      }\r\n    }\r\n    .table-box {\r\n      margin-top: 22px;\r\n      padding: 30px;\r\n      border: 1px dashed #cccccc;\r\n      background-color: white;\r\n      table thead tr th,\r\n      table tbody tr td {\r\n        border-color: #ebeef5;\r\n        font-size: 14px;\r\n      }\r\n      table {\r\n        width: 100%;\r\n        border-collapse: collapse;\r\n        border: none;\r\n        thead,\r\n        tbody {\r\n          height: 47px;\r\n          line-height: 47px;\r\n          th,\r\n          td {\r\n            color: #222222;\r\n            padding-left: 10px;\r\n            font-weight: 400;\r\n            &:nth-of-type(1) {\r\n              width: 5%;\r\n            }\r\n            &:nth-of-type(2) {\r\n              width: 10%;\r\n            }\r\n            &:nth-of-type(3) {\r\n              width: 20%;\r\n            }\r\n            &:nth-of-type(4),\r\n            &:nth-of-type(5) {\r\n              width: 15%;\r\n            }\r\n            &:nth-of-type(6) {\r\n              width: 25%;\r\n              span {\r\n                color: #2878ff;\r\n              }\r\n            }\r\n            img {\r\n              width: 60px;\r\n              height: 60px;\r\n              margin: 10px auto 10px 0;\r\n              vertical-align: middle;\r\n            }\r\n          }\r\n          td.dis-prices {\r\n            color: #fc5659;\r\n          }\r\n          tr:hover {\r\n            background-color: #f5f7fa;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .no-goods {\r\n      text-align: center;\r\n      img {\r\n        width: 180px;\r\n        height: 180px;\r\n        margin: 84px auto 40px auto;\r\n      }\r\n      p:nth-of-type(1) {\r\n        font-size: 16px;\r\n        font-weight: 400;\r\n        color: rgba(34, 34, 34, 1);\r\n        line-height: 22px;\r\n      }\r\n      p:nth-of-type(2) {\r\n        font-size: 14px;\r\n        font-weight: 400;\r\n        color: rgba(85, 85, 85, 1);\r\n        margin: 10px auto 30px auto;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2e5cf102&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2e5cf102&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e5cf102\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\work\\\\saas营销\\\\fe_management\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2e5cf102', component.options)\n    } else {\n      api.reload('2e5cf102', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=2e5cf102&scoped=true&\", function () {\n      api.rerender('2e5cf102', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/sales-tools/recommend-goods/index.vue\"\nexport default component.exports"],"sourceRoot":""}