(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{286:function(a,t,i){},435:function(a,t,i){"use strict";var s=i(286);i.n(s).a},546:function(a,t,i){"use strict";i.r(t);var s=i(7),l={getLiveShare:function(a){return s.a.ajax({method:"post",url:"/manage/share-manage/get",params:a})},setLiveShare:function(a){return s.a.ajax({method:"post",url:"/manage/share-manage/edit",params:a})},getLiveBrand:function(a){return s.a.ajax({method:"post",url:"/manage/brand-manage/get",params:a})},setLiveBrand:function(a){return s.a.ajax({method:"post",url:"/manage/brand-manage/edit",params:a})}},e={data:function(){return{activityId:0,tabValue:1,bgImgUrl:"",logoImgUrl:"",shareImgUrl:"",shareTitle:"",shareIntroduction:"",isShowWatch:!0,isShowOfficialWebsite:!0,isShowGuided:!0}},components:{},created:function(){var a=this;this.activityId=this.$route.params.id;var t={activityId:this.activityId};this.activityId?(l.getLiveShare(t).then(function(t){200!==t.code?console.log(t.msg):t.data&&(a.shareImgUrl=t.data.imgUrl?t.data.imgUrl:"",a.shareTitle=t.data.title?t.data.title:"",a.shareIntroduction=t.data.description?t.data.description:"",a.isShowWatch=!!t.page.live_route,a.isShowOfficialWebsite=!!t.page.officia_route,a.isShowGuided=!!t.page.guide_route,a.tabValue=1)}),l.getLiveBrand(t).then(function(t){200!==t.code?console.log(t.msg):t.data&&(a.bgImgUrl=t.data.backgroundUrl?t.data.backgroundUrl:"",a.logoImgUrl=t.data.logoUrl?t.data.logoUrl:"",a.tabValue=1)})):this.$router.go(-1)},mounted:function(){},watch:{},methods:{uploadBgSuccess:function(a){var t=JSON.parse(a.data);this.bgImgUrl=t.data.name},uploadError:function(a){console.log("上传失败:",a)},uploadLogoSuccess:function(a){var t=JSON.parse(a.data);this.logoImgUrl=t.data.name},uploadShareSuccess:function(a){var t=JSON.parse(a.data);this.shareImgUrl=t.data.name},brandClick:function(){var a={activityId:this.activityId,backgroundUrl:this.bgImgUrl,logoUrl:this.logoImgUrl};l.setLiveBrand(a).then(function(a){200!==a.code?console.log(a.msg):alert("保存成功")})},shareClick:function(){var a={activityId:this.activityId,title:this.shareTitle,description:this.shareIntroduction,imgUrl:this.shareImgUrl,page:[]};this.isShowWatch&&a.page.push("live_route"),this.isShowOfficialWebsite&&a.page.push("officia_route"),this.isShowGuided&&a.page.push("guide_route"),l.setLiveShare(a).then(function(a){200!==a.code?console.log(a.msg):alert("保存成功")})}}},o=(i(435),i(1)),n=Object(o.a)(e,function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"clearfix set-live-watch-container"},[i("p",{staticClass:"v-title"},[a._v("\n    直播观看页\n  ")]),a._v(" "),i("com-tabs",{attrs:{value:a.tabValue},on:{"update:value":function(t){a.tabValue=t}}},[i("com-tab",{attrs:{label:"品牌",index:1}},[i("div",{staticClass:"v-brand clearfix"},[i("div",{staticClass:"v-set pull-left"},[i("div",{staticClass:"input-form v-label clearfix"},[i("p",{staticClass:"v-info-label pull-left"},[a._v("\n              背景图片：\n            ")]),a._v(" "),i("p",{staticClass:"v-info pull-left"},[a._v("\n              为了保证显示效果，请上传不大于1920x1080大小的图片，支持jpg、jpeg、png格式，文件大小不超过2M\n              "),i("br"),a._v("\n              背景图片，只对PC页面生效\n            ")]),a._v(" "),i("com-upload",{attrs:{accept:"png|jpg|jpeg|bmp|gif",actionUrl:"/api/upload/image",inputName:"file",fileSize:2048},on:{error:a.uploadError,load:a.uploadBgSuccess}},[i("div",{staticClass:"btn-upload"},[a._v("背景图片")])])],1),a._v(" "),i("div",{staticClass:"input-form v-label clearfix"},[i("p",{staticClass:"v-info-label pull-left"},[a._v("\n              logo图片：\n            ")]),a._v(" "),i("p",{staticClass:"v-info pull-left"},[a._v("\n              为了保证显示效果，请上传不大于140x50大小的图片，支持jpg、jpeg、png格式，文件大小不超过2M\n              "),i("br"),a._v("\n              Logo图片只对PC页面生效\n            ")]),a._v(" "),i("com-upload",{attrs:{accept:"png|jpg|jpeg|bmp|gif",actionUrl:"/api/upload/image",inputName:"file",fileSize:2048},on:{error:a.uploadError,load:a.uploadLogoSuccess}},[i("div",{staticClass:"btn-upload"},[a._v("背景图片")])])],1),a._v(" "),i("a",{staticClass:"v-save",attrs:{href:"javascript:;"},on:{click:function(t){a.brandClick()}}},[a._v("\n            保存\n          ")])]),a._v(" "),i("div",{staticClass:"v-show pull-left"},[i("p",[a._v("预览")]),a._v(" "),i("div",{staticClass:"v-pc",style:{backgroundImage:"url("+a.$imgHost+"/"+a.bgImgUrl+")"}},[i("div",{staticClass:"v-content"},[i("img",{attrs:{src:a.$imgHost+"/"+a.logoImgUrl,alt:"logo"}})])])])])]),a._v(" "),i("com-tab",{attrs:{label:"分享",index:2}},[i("div",{staticClass:"v-share clearfix"},[i("div",{staticClass:"v-set pull-left"},[i("div",{staticClass:"input-form v-label clearfix"},[i("p",{staticClass:"v-info-label pull-left"},[a._v("\n              分享图标：\n            ")]),a._v(" "),i("p",{staticClass:"v-info pull-left"},[a._v("\n              为了保证显示效果，请上传不大于***X***大小的图片，支持jpg、jpeg、png格式，文件大小不超过2M\n            ")]),a._v(" "),i("com-upload",{attrs:{accept:"png|jpg|jpeg|bmp|gif",actionUrl:"/api/upload/image",inputName:"file",fileSize:2048},on:{error:a.uploadError,load:a.uploadShareSuccess}},[i("div",{staticClass:"btn-upload"},[a._v("修改")])])],1),a._v(" "),i("div",{staticClass:"input-form v-label clearfix"},[i("p",{staticClass:"v-info-label pull-left"},[a._v("\n              分享标题：\n            ")]),a._v(" "),i("p",{staticClass:"v-info pull-left"},[i("com-input",{attrs:{value:a.shareTitle,placeholder:"标题","max-length":30},on:{"update:value":function(t){a.shareTitle=t}}})],1)]),a._v(" "),i("div",{staticClass:"input-form v-label clearfix"},[i("p",{staticClass:"v-info-label pull-left"},[a._v("\n              分享简介：\n            ")]),a._v(" "),i("p",{staticClass:"v-info pull-left"},[i("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入分享简介","max-length":120},model:{value:a.shareIntroduction,callback:function(t){a.shareIntroduction=t},expression:"shareIntroduction"}})],1)]),a._v(" "),i("div",{staticClass:"input-form v-label clearfix"},[i("p",{staticClass:"v-info-label pull-left"},[a._v("\n              应用页面：\n            ")]),a._v(" "),i("p",{staticClass:"v-info pull-left"},[i("el-checkbox",{model:{value:a.isShowWatch,callback:function(t){a.isShowWatch=t},expression:"isShowWatch"}},[a._v("直播观看页")]),a._v(" "),i("el-checkbox",{model:{value:a.isShowOfficialWebsite,callback:function(t){a.isShowOfficialWebsite=t},expression:"isShowOfficialWebsite"}},[a._v("活动官网")]),a._v(" "),i("el-checkbox",{model:{value:a.isShowGuided,callback:function(t){a.isShowGuided=t},expression:"isShowGuided"}},[a._v("直播引导页")])],1)]),a._v(" "),i("a",{staticClass:"v-save",attrs:{href:"javascript:;"},on:{click:function(t){a.shareClick()}}},[a._v("\n            保存\n          ")])]),a._v(" "),i("div",{staticClass:"v-show pull-left"},[i("p",[a._v("预览")]),a._v(" "),i("div",{staticClass:"v-title"},[a._v("\n            分享给好友\n          ")]),a._v(" "),i("div",{staticClass:"clearfix"},[i("img",{staticClass:"v-avatar pull-left",attrs:{src:"",alt:"头像"}}),a._v(" "),i("div",{staticClass:"pull-left v-share-friend clearfix"},[i("div",{staticClass:"pull-left"},[i("p",{staticClass:"v-share-title"},[a._v("\n                  "+a._s(a.shareTitle)+"\n                ")]),a._v(" "),i("p",{staticClass:"v-introduction"},[a._v("\n                  "+a._s(a.shareIntroduction)+"\n                ")])]),a._v(" "),i("div",{staticClass:"pull-left"},[i("img",{staticClass:"v-show-img",attrs:{src:a.$imgHost+"/"+a.shareImgUrl,alt:"分享图标"}})])])]),a._v(" "),i("div",{staticClass:"v-title"},[a._v("\n            分享到朋友圈\n          ")]),a._v(" "),i("div",{staticClass:"v-share-friend-circle clearfix"},[i("img",{staticClass:"v-avatar",attrs:{src:"",alt:"头像"}}),a._v(" "),i("span",[a._v("微信昵称")]),a._v(" "),i("div",{staticClass:"v-content clearfix"},[i("img",{staticClass:"v-show-img pull-left",attrs:{src:a.$imgHost+"/"+a.shareImgUrl,alt:"分享图标"}}),a._v(" "),i("p",{staticClass:"v-introduction pull-left"},[a._v("\n                "+a._s(a.shareIntroduction)+"\n              ")])])])])])])],1)],1)},[],!1,null,"1c4c0efa",null);n.options.__file="index.vue";t.default=n.exports}}]);