{"version":3,"sources":["webpack:///./src/pages/live-mager/css/live.scss?d6c6","webpack:///./src/pages/live-mager/promote/wechat/edit.vue?4908","webpack:///./src/pages/live-mager/promote/wechat/edit.vue?b257","webpack:///./src/pages/live-mager/promote/wechat/edit.vue?9190","webpack:///./src/pages/live-mager/promote/wechat/edit.vue?8325","webpack:///src/pages/live-mager/promote/wechat/edit.vue","webpack:///./src/pages/live-mager/promote/wechat/edit.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_live_scss_vue_type_style_index_0_id_08eecc18_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_1_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_2_id_08eecc18_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","loading","expression","staticClass","attrs","com-loading-text","on","mousedown","$event","canPass","_m","_v","titleValue","placeholder","max-length","error-tips","errorData","titleError","update:value","focus","click","msgError","type","wxContent","staticStyle","padding","selectPersonShow","tip","tipType","selectedGroupList","length","tag","_l","person","idx","key","id","_s","count","delGroupPerson","_e","selectedTagList","delTagPerson","label","model","sendSetting","callback","$$v","pickDate","editable","format","value-format","picker-options","pickerOptions","date","isWx","testSend","disabled","saveDisabled","save","webinarType","show","groupList","tagList","checkedData","okSelectList","close","searchEnter","selectedGroupListfn","selectedTagListfn","testModal","imgUrl","qrImgurl","deliverd","closeTest","update:deliverd","_withStripped","wechat_editvue_type_script_lang_js_","data","inviteId","$route","query","activityId","params","tabValue","searchTitle","groupIdx","tagIdx","tplOptions","disabledDate","time","getTime","Date","now","searchPerson","selectedGroupListStr","selectedTagListStr","tagError","isValided","sdkParam","groupIdStr","tagIdStr","created","_this","$config","$get","notice_service","GET_QUERY_WECHAT","then","res","title","status","sendTime","toString","planTime","desc","setTimeout","reArrangeList","groupId","split","tagId","queryGroupList","queryTaglist","mounted","_this2","accountInfo","businessUserId","initSdk","storeJoininfo","computed","extends_default","Object","vuex_esm","state","methods","setAccountInfo","mutation_types","closeModal","e","target","className","chooseGroup","chooseTag","_this3","toLowerCase","formValid","$nextTick","$post","POST_SAVE_WECHAT","$toast","content","position","$router","push","_this4","encodeURIComponent","window","location","host","flag","queryTagList","delPerson","delIdx","indexOf","isChecked","keyword","_this5","userManage_service","GET_GROUP_LIST","not_empty_field","temArray","list","forEach","item","group_id","user_count","_this6","GET_TAG_LIST","console","log","tag_id","tag_name","arr","str","idStr","substring","group","_this7","ele","i","listenMsg","msg","_this8","playback_service","GET_PAAS_SDK_INFO","sign","signed_at","signedAt","app_id","appId","sdkPlayParam","accountId","token","recordId","linkVideo","initMsgServe","_this9","asyncToGenerator_default","regenerator_default","a","mark","_callee","roomInfo","wrap","_context","prev","next","GET_REG_SDK_INFO","thirdUserId","channel","channelRoom","sent","ChatService","OBJ","init","channelId","regHandler","chat_config","wechat_msg","stop","_this10","_callee2","_context2","user_service","GET_ACCOUNT","beforeRouteLeave","to","from","$messageBox","header","width","cancelText","confirmText","handleClick","action","watch","handler","newValue","components","comTest","com_test","comPhone","com_phone","com_chooseGroup","veTips","ve_msg_tips","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/27.1854a4ac.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=08eecc18&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=08eecc18&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=1&lang=scss&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=2&id=08eecc18&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=2&id=08eecc18&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      directives: [\n        {\n          name: \"ComLoading\",\n          rawName: \"v-ComLoading\",\n          value: _vm.loading,\n          expression: \"loading\"\n        }\n      ],\n      staticClass: \"content\",\n      attrs: { \"com-loading-text\": \"拼命加载中\" }\n    },\n    [\n      _c(\n        \"div\",\n        {\n          staticClass: \"edit-wx-page live-mager\",\n          on: {\n            mousedown: function($event) {\n              _vm.canPass = false\n            }\n          }\n        },\n        [\n          _vm._m(0),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"mager-box border-box\" }, [\n            _c(\n              \"div\",\n              { staticClass: \"from-box \" },\n              [\n                _c(\"div\", { staticClass: \"from-row\" }, [\n                  _vm._m(1),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticClass: \"from-content\" },\n                    [\n                      _c(\"com-input\", {\n                        staticClass: \"msg-title\",\n                        attrs: {\n                          value: _vm.titleValue,\n                          placeholder: \"请输入标题\",\n                          \"max-length\": 15,\n                          \"error-tips\": _vm.errorData.titleError\n                        },\n                        on: {\n                          \"update:value\": function($event) {\n                            _vm.titleValue = $event\n                          },\n                          focus: function($event) {\n                            _vm.errorData.titleError = \"\"\n                          }\n                        }\n                      })\n                    ],\n                    1\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"from-row\" }, [\n                  _vm._m(2),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"from-content\",\n                      on: {\n                        click: function($event) {\n                          _vm.errorData.msgError = \"\"\n                        }\n                      }\n                    },\n                    [\n                      _c(\"com-input\", {\n                        staticClass: \"msg-content\",\n                        attrs: {\n                          type: \"textarea\",\n                          value: _vm.wxContent,\n                          placeholder: \"请输入微信内容\",\n                          \"max-length\": 100,\n                          \"error-tips\": _vm.errorData.msgError\n                        },\n                        on: {\n                          \"update:value\": function($event) {\n                            _vm.wxContent = $event\n                          }\n                        }\n                      })\n                    ],\n                    1\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  {\n                    staticClass: \"from-row\",\n                    staticStyle: { padding: \"4px 12px\" }\n                  },\n                  [\n                    _c(\"div\", { staticClass: \"from-title\" }, [\n                      _vm._v(\"收信人：\")\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      { staticClass: \"from-content\" },\n                      [\n                        _c(\n                          \"el-button\",\n                          {\n                            staticClass: \"default-button select-receiver\",\n                            on: {\n                              click: function($event) {\n                                _vm.selectPersonShow = true\n                              }\n                            }\n                          },\n                          [_vm._v(\"选择收信人\")]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"ve-tips\", {\n                          attrs: {\n                            tip:\n                              \"微信通知只能发送给关注该公众号或服务号的人群，已选收件人中没有关注微信的，将无法收到该通知。\",\n                            tipType: \"html\"\n                          }\n                        }),\n                        _vm._v(\" \"),\n                        _vm.selectedGroupList.length\n                          ? _c(\n                              \"transition-group\",\n                              {\n                                staticClass: \"edit-groups\",\n                                attrs: { name: \"list\", tag: \"div\" }\n                              },\n                              _vm._l(_vm.selectedGroupList, function(\n                                person,\n                                idx\n                              ) {\n                                return _c(\n                                  \"span\",\n                                  { key: person.id, staticClass: \"list-item\" },\n                                  [\n                                    _vm._v(\n                                      _vm._s(person.name) +\n                                        \" (\" +\n                                        _vm._s(person.count) +\n                                        \"人）\\n                \"\n                                    ),\n                                    _c(\"i\", {\n                                      staticClass: \"iconfont icon-shanchu\",\n                                      on: {\n                                        click: function($event) {\n                                          _vm.delGroupPerson(idx)\n                                        }\n                                      }\n                                    })\n                                  ]\n                                )\n                              })\n                            )\n                          : _vm._e(),\n                        _vm._v(\" \"),\n                        _vm.selectedTagList.length\n                          ? _c(\n                              \"transition-group\",\n                              {\n                                staticClass: \"edit-groups sec\",\n                                attrs: { name: \"list\", tag: \"div\" }\n                              },\n                              _vm._l(_vm.selectedTagList, function(tag, idx) {\n                                return _c(\n                                  \"span\",\n                                  { key: tag.id, staticClass: \"list-item\" },\n                                  [\n                                    _vm._v(\n                                      _vm._s(tag.name) +\n                                        \" (\" +\n                                        _vm._s(tag.count) +\n                                        \"人\\n                \"\n                                    ),\n                                    _c(\"i\", {\n                                      staticClass: \"iconfont icon-shanchu\",\n                                      on: {\n                                        click: function($event) {\n                                          _vm.delTagPerson(idx)\n                                        }\n                                      }\n                                    })\n                                  ]\n                                )\n                              })\n                            )\n                          : _vm._e()\n                      ],\n                      1\n                    )\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"from-row\" }, [\n                  _vm._m(3),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticClass: \"from-content\" },\n                    [\n                      [\n                        _c(\n                          \"el-radio\",\n                          {\n                            attrs: { label: \"SEND\" },\n                            model: {\n                              value: _vm.sendSetting,\n                              callback: function($$v) {\n                                _vm.sendSetting = $$v\n                              },\n                              expression: \"sendSetting\"\n                            }\n                          },\n                          [_vm._v(\"立即发送\")]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"el-radio\",\n                          {\n                            attrs: { label: \"AWAIT\" },\n                            model: {\n                              value: _vm.sendSetting,\n                              callback: function($$v) {\n                                _vm.sendSetting = $$v\n                              },\n                              expression: \"sendSetting\"\n                            }\n                          },\n                          [_vm._v(\"定时发送\")]\n                        )\n                      ]\n                    ],\n                    2\n                  )\n                ]),\n                _vm._v(\" \"),\n                _vm.pickDate\n                  ? _c(\"div\", { staticClass: \"from-row\" }, [\n                      _c(\"div\", { staticClass: \"from-title\" }, [\n                        _vm._v(\"选择时间：\")\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\n                        \"div\",\n                        { staticClass: \"from-content\" },\n                        [\n                          _c(\"el-date-picker\", {\n                            attrs: {\n                              editable: false,\n                              format: \"yyyy-MM-dd HH:mm:ss\",\n                              \"value-format\": \"yyyy-MM-dd HH:mm:ss\",\n                              type: \"datetime\",\n                              placeholder: \"选择日期时间\",\n                              \"picker-options\": _vm.pickerOptions\n                            },\n                            model: {\n                              value: _vm.date,\n                              callback: function($$v) {\n                                _vm.date = $$v\n                              },\n                              expression: \"date\"\n                            }\n                          })\n                        ],\n                        1\n                      )\n                    ])\n                  : _vm._e(),\n                _vm._v(\" \"),\n                _c(\"com-phone\", {\n                  attrs: {\n                    titleValue: _vm.titleValue,\n                    date: _vm.date,\n                    wxContent: _vm.wxContent,\n                    isWx: true\n                  }\n                })\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"btn-group\" },\n              [\n                _c(\n                  \"el-button\",\n                  {\n                    staticClass: \"default-button\",\n                    on: { click: _vm.testSend }\n                  },\n                  [_vm._v(\"测试发送\")]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"el-button\",\n                  {\n                    staticClass: \"primary-button\",\n                    attrs: { disabled: _vm.saveDisabled },\n                    on: { click: _vm.save }\n                  },\n                  [_vm._v(\"保存\")]\n                )\n              ],\n              1\n            )\n          ]),\n          _vm._v(\" \"),\n          _c(\"choose-group\", {\n            attrs: {\n              webinarType: \"WECHAT\",\n              show: _vm.selectPersonShow,\n              groupList: _vm.groupList,\n              tagList: _vm.tagList,\n              checkedData: _vm.checkedData\n            },\n            on: {\n              okSelectList: _vm.okSelectList,\n              close: _vm.close,\n              searchEnter: _vm.searchEnter,\n              selectedGroupListfn: _vm.selectedGroupListfn,\n              selectedTagListfn: _vm.selectedTagListfn\n            }\n          }),\n          _vm._v(\" \"),\n          _vm.testModal\n            ? _c(\"com-test\", {\n                attrs: {\n                  imgUrl: _vm.qrImgurl,\n                  type: \"Wechat\",\n                  deliverd: _vm.deliverd\n                },\n                on: {\n                  closeTest: _vm.closeTest,\n                  \"update:deliverd\": function($event) {\n                    _vm.deliverd = $event\n                  }\n                }\n              })\n            : _vm._e()\n        ],\n        1\n      )\n    ]\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"live-title\" }, [\n      _c(\"span\", { staticClass: \"title\" }, [_vm._v(\"创建微信通知\")])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"通知标题：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"微信内容：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"发送时间：\")\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"content\" v-ComLoading=\"loading\" com-loading-text=\"拼命加载中\">\r\n    <div class=\"edit-wx-page live-mager\" @mousedown=\"canPass = false\">\r\n      <div class=\"live-title\">\r\n        <span class=\"title\">创建微信通知</span>\r\n      </div>\r\n      <div class='mager-box border-box'>\r\n        <div class=\"from-box \">\r\n          <div class=\"from-row\">\r\n            <div class=\"from-title\"><i class=\"star\">*</i>通知标题：</div>\r\n            <div class=\"from-content\">\r\n              <com-input :value.sync=\"titleValue\" placeholder=\"请输入标题\" :max-length=\"15\" class='msg-title' :error-tips=\"errorData.titleError\" @focus=\"errorData.titleError=''\"></com-input>\r\n            </div>\r\n          </div>\r\n          <div class=\"from-row\">\r\n            <div class=\"from-title\"><i class=\"star\">*</i>微信内容：</div>\r\n            <div class=\"from-content\" @click=\"errorData.msgError=''\">\r\n              <com-input type=\"textarea\" class=\"msg-content\" :value.sync=\"wxContent\" placeholder=\"请输入微信内容\" :max-length=\"100\" :error-tips=\"errorData.msgError\" ></com-input>\r\n            </div>\r\n          </div>\r\n          <div class=\"from-row\" style='padding:4px 12px;'>\r\n            <div class=\"from-title\">收信人：</div>\r\n            <div class=\"from-content\">\r\n              <el-button class='default-button select-receiver' @click='selectPersonShow=true'>选择收信人</el-button>\r\n              <ve-tips tip=\"微信通知只能发送给关注该公众号或服务号的人群，已选收件人中没有关注微信的，将无法收到该通知。\" :tipType=\"'html'\"></ve-tips>\r\n              <!-- 分组 -->\r\n              <transition-group name=\"list\"\r\n                                class=\"edit-groups\"\r\n                                tag=\"div\"\r\n                                v-if=\"selectedGroupList.length\">\r\n                <span class=\"list-item\"\r\n                      v-for=\"(person,idx) in selectedGroupList\"\r\n                      :key=\"person.id\">{{person.name}} ({{person.count}}人）\r\n                  <i class=\"iconfont icon-shanchu\"\r\n                     @click=\"delGroupPerson(idx)\"></i>\r\n                </span>\r\n              </transition-group>\r\n              <!-- 标签 -->\r\n              <transition-group name=\"list\"\r\n                                class=\"edit-groups sec\"\r\n                                tag=\"div\"\r\n                                v-if=\"selectedTagList.length\">\r\n                <span class=\"list-item\"\r\n                      v-for=\"(tag,idx) in selectedTagList\"\r\n                      :key=\"tag.id\">{{tag.name}} ({{tag.count}}人\r\n                  <i class=\"iconfont icon-shanchu\"\r\n                     @click=\"delTagPerson(idx)\"></i>\r\n                </span>\r\n              </transition-group>\r\n            </div>\r\n          </div>\r\n          <div class=\"from-row\">\r\n            <div class=\"from-title\"><i class=\"star\">*</i>发送时间：</div>\r\n            <div class=\"from-content\">\r\n              <template>\r\n                <el-radio v-model=\"sendSetting\" label=\"SEND\">立即发送</el-radio>\r\n                <el-radio v-model=\"sendSetting\" label=\"AWAIT\">定时发送</el-radio>\r\n              </template>\r\n              <!-- <el-select v-model=\"sendValue\" placeholder=\"请选择\">\r\n                <el-option v-for=\"item in sendOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select> -->\r\n            </div>\r\n          </div>\r\n          <div class=\"from-row\" v-if='pickDate'>\r\n            <div class=\"from-title\">选择时间：</div>\r\n            <div class=\"from-content\">\r\n              <el-date-picker v-model=\"date\" :editable=\"false\" format='yyyy-MM-dd HH:mm:ss' value-format=\"yyyy-MM-dd HH:mm:ss\" type=\"datetime\" placeholder=\"选择日期时间\" :picker-options=\"pickerOptions\">\r\n              </el-date-picker>\r\n            </div>\r\n          </div>\r\n          <!-- 模拟手机预览 -->\r\n          <com-phone :titleValue='titleValue' :date='date' :wxContent='wxContent' :isWx=\"true\"></com-phone>\r\n        </div>\r\n        <div class=\"btn-group\">\r\n          <el-button class='default-button' @click=\"testSend\">测试发送</el-button>\r\n          <el-button class='primary-button' @click=\"save\" :disabled=\"saveDisabled\">保存</el-button>\r\n        </div>\r\n      </div>\r\n      <!-- 选择收件人 -->\r\n      <choose-group :webinarType=\"'WECHAT'\" :show=\"selectPersonShow\" :groupList=\"groupList\" :tagList='tagList' :checkedData=\"checkedData\" @okSelectList=\"okSelectList\" @close=\"close\" @searchEnter=\"searchEnter\" @selectedGroupListfn=\"selectedGroupListfn\" @selectedTagListfn=\"selectedTagListfn\"></choose-group>\r\n      <!-- 测试发送弹窗 -->\r\n      <com-test  :imgUrl=\"qrImgurl\" v-if='testModal'  @closeTest='closeTest' :type=\"'Wechat'\" :deliverd.sync='deliverd'></com-test>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport userManage from 'src/api/userManage-service'\r\nimport userService from 'src/api/user-service'\r\nimport chooseGroup from '../com-chooseGroup'\r\nimport ChatService from 'components/chat/ChatService.js'\r\nimport playbackService from 'src/api/playback-service'\r\nimport noticeService from 'src/api/notice-service'\r\nimport comTest from '../com-test'\r\nimport comPhone from '../com-phone'\r\nimport veTips from 'src/components/ve-msg-tips'\r\nimport ChatConfig from 'src/api/chat-config'\r\nimport { mapMutations, mapState } from 'vuex'\r\nimport * as types from 'src/store/mutation-types'\r\nexport default {\r\n  data () {\r\n    return {\r\n      inviteId: this.$route.query.id, // 签名列表传过来的id\r\n      activityId: this.$route.params.id,\r\n      testModal: false,\r\n      tabValue: 1,\r\n      searchTitle: '',\r\n      titleValue: '',\r\n      groupIdx: 0,\r\n      tagIdx: 0,\r\n      tplOptions: [{\r\n        value: 1,\r\n        label: '活动邀请'\r\n      }, {\r\n        value: 2,\r\n        label: '活动推荐'\r\n      }],\r\n      // sendOptions: [{\r\n      //   value: 'AWAIT',\r\n      //   label: '定时发送'\r\n      // }, {\r\n      //   value: 'SEND',\r\n      //   label: '立即发送'\r\n      // }, {\r\n      //   value: 'DRAFT',\r\n      //   label: '暂存为草稿'\r\n      // }],\r\n      // sendValue: '',\r\n      sendSetting: 'SEND',\r\n      wxContent: '',\r\n      qrImgurl: '',\r\n      pickDate: false,\r\n      date: '',\r\n      pickerOptions: {\r\n        disabledDate (time) {\r\n          return time.getTime() < Date.now() - 8.64e7\r\n        }\r\n      },\r\n      loading: false,\r\n      searchPerson: '',\r\n      groupList: [],\r\n      tagList: [],\r\n      selectedGroupList: [],\r\n      selectedTagList: [],\r\n      selectedGroupListStr: '',\r\n      selectedTagListStr: '',\r\n      selectPersonShow: false,\r\n      errorData: {\r\n        titleError: '',\r\n        msgError: '',\r\n        tagError: ''\r\n      },\r\n      checkedData: [],\r\n      isValided: false,\r\n      canPass: true,\r\n      sdkParam: {},\r\n      saveDisabled: false,\r\n      deliverd: false,\r\n      groupIdStr: '',\r\n      tagIdStr: ''\r\n    }\r\n  },\r\n  created () {\r\n    if (this.inviteId) {\r\n      this.$config({ loading: true }).$get(noticeService.GET_QUERY_WECHAT, {\r\n        inviteId: this.inviteId\r\n      }).then((res) => {\r\n        this.titleValue = res.data.title\r\n        this.sendSetting = res.data.status\r\n        this.date = res.data.sendTime ? res.data.sendTime.toString() : res.data.planTime.toString()\r\n        this.wxContent = res.data.desc\r\n        setTimeout(() => {\r\n          this.reArrangeList(res.data.groupId.split(','), res.data.tagId.split(','))\r\n        }, 500)\r\n      })\r\n    }\r\n    this.queryGroupList()\r\n    this.queryTaglist()\r\n  },\r\n  mounted () {\r\n    if (!this.accountInfo.businessUserId) {\r\n      this.storeJoininfo().then(() => {\r\n        this.initSdk()\r\n      })\r\n    } else {\r\n      this.initSdk()\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('login', {\r\n      accountInfo: state => state.accountInfo\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapMutations('login', {\r\n      setAccountInfo: types.ACCOUNT_INFO\r\n    }),\r\n    closeModal (e) {\r\n      if (e.target.className === 'modal-cover') {\r\n        this.testModal = false\r\n        this.groupIdx = 0\r\n        this.tagIdx = 0\r\n      }\r\n    },\r\n    chooseGroup (idx) {\r\n      this.groupIdx = idx\r\n    },\r\n    chooseTag (idx) {\r\n      this.tagIdx = idx\r\n    },\r\n    save () {\r\n      this.saveDisabled = true\r\n      this.canPass = true\r\n      let data = {\r\n        inviteId: this.inviteId,\r\n        activityId: this.$route.params.id,\r\n        title: this.titleValue,\r\n        groupId: this.groupIdStr, // 分组id\r\n        tagId: this.tagIdStr,\r\n        status: this.sendSetting.toLowerCase(),\r\n        desc: this.wxContent,\r\n        planTime: this.date\r\n      }\r\n      if (!this.formValid()) {\r\n        return false\r\n      }\r\n      this.$nextTick((res) => {\r\n        // 更新\r\n        this.$post(noticeService.POST_SAVE_WECHAT, data).then((res) => {\r\n          // console.log(res)\r\n          this.$toast({\r\n            content: '保存成功',\r\n            position: 'center'\r\n          })\r\n          this.canPass = true\r\n          // 跳转到列表页面\r\n          this.$router.push({ name: 'promoteWechat', params: { id: this.activityId } })\r\n        })\r\n      })\r\n    },\r\n    testSend () {\r\n      if (!this.formValid()) {\r\n        return false\r\n      }\r\n      this.$nextTick((res) => {\r\n        if (this.isValided) {\r\n          this.testModal = true\r\n          this.qrImgurl = `http://aliqr.e.vhall.com/qr.png?t=${encodeURIComponent(`http://${window.location.host}/api/expand/wechat-invite/test-send?content=${this.wxContent}&activityId=${this.activityId}`)}`\r\n        }\r\n      })\r\n    },\r\n    closeTest () {\r\n      //\r\n      this.testModal = false\r\n    },\r\n    /* enter搜索 */\r\n    searchEnter (key, flag) {\r\n      if (flag === 'group') {\r\n        this.queryGroupList(key)\r\n      } else {\r\n        this.queryTagList(key)\r\n      }\r\n    },\r\n    /* 点击确定 */\r\n    okSelectList () {\r\n      this.selectPersonShow = false\r\n    },\r\n    /* 点击取消 */\r\n    close () {\r\n      this.selectPersonShow = false\r\n    },\r\n    /* 选中行 */\r\n    // clickRow (idx) {\r\n    //   this.groupList[idx].isChecked = !this.groupList[idx].isChecked\r\n    // },\r\n    /* 删除标签 */\r\n    delPerson (idx) {\r\n      const delIdx = this.groupList.indexOf(this.selectedGroupList[idx])\r\n      this.groupList[delIdx].isChecked = false\r\n    },\r\n    /* 删除分组 */\r\n    delGroupPerson (idx) {\r\n      const delIdx = this.groupList.indexOf(this.selectedGroupList[idx])\r\n      this.groupList[delIdx].isChecked = false\r\n    },\r\n    // 查询群组\r\n    queryGroupList (keyword) {\r\n      this.$get(userManage.GET_GROUP_LIST, {\r\n        keyword: keyword,\r\n        not_empty_field: 'wx_open_id'\r\n      }).then((res) => {\r\n        let temArray = []\r\n        res.data.list.forEach((item) => {\r\n          temArray.push({\r\n            id: item.group_id,\r\n            name: item.title,\r\n            count: item.user_count,\r\n            isChecked: false\r\n          })\r\n        })\r\n        this.groupList = temArray\r\n      })\r\n    },\r\n    // 查询标签\r\n    queryTaglist (keyword) {\r\n      this.$get(userManage.GET_TAG_LIST, {\r\n        keyword: keyword\r\n      }).then((res) => {\r\n        console.log(res.data.list)\r\n        let temArray = []\r\n        res.data.list.forEach((item) => {\r\n          temArray.push({\r\n            id: item.tag_id,\r\n            name: item.tag_name,\r\n            count: item.user_count,\r\n            isChecked: false\r\n          })\r\n        })\r\n        this.tagList = temArray\r\n      })\r\n    },\r\n    selectedGroupListfn (arr, str, idStr) {\r\n      this.selectedGroupListStr = str.substring(0, str.length - 1)\r\n      this.selectedGroupList = arr\r\n      this.groupIdStr = idStr\r\n    },\r\n    selectedTagListfn (arr, str, idStr) {\r\n      this.selectedTagListStr = str.substring(0, str.length - 1)\r\n      this.selectedTagList = arr\r\n      this.tagIdStr = idStr\r\n    },\r\n    reArrangeList (group, tag) {\r\n      this.groupList.forEach((item, idx) => {\r\n        group.forEach((ele, i) => {\r\n          if (ele * 1 === item.id) {\r\n            this.groupList[idx].isChecked = true\r\n            this.selectedGroupList.push({\r\n              count: 0,\r\n              id: item.id,\r\n              isChecked: true,\r\n              name: item.name\r\n            })\r\n          }\r\n        })\r\n      })\r\n      this.tagList.forEach((item, idx) => {\r\n        tag.forEach((ele, i) => {\r\n          if (ele * 1 === item.id) {\r\n            this.tagList[idx].isChecked = true\r\n            this.selectedTagList.push({\r\n              count: 0,\r\n              id: item.id,\r\n              isChecked: true,\r\n              name: item.name\r\n            })\r\n          }\r\n        })\r\n      })\r\n    },\r\n    /* 验证 */\r\n    formValid () {\r\n      this.errorData.titleError = this.titleValue.length ? '' : '请输入通知标题'\r\n      this.errorData.msgError = this.wxContent.length ? '' : '请输入微信内容'\r\n      // this.errorData.tagError = this.msgTag.length ? '' : '请输入短信标签'\r\n      if (this.titleValue.length && this.wxContent.length) {\r\n        this.isValided = true\r\n        return true\r\n      } else {\r\n        this.isValided = false\r\n        return false\r\n      }\r\n    },\r\n    listenMsg (msg) {\r\n      console.log(msg)\r\n    },\r\n    initSdk () {\r\n      /* 获取pass信息 */\r\n      this.$get(playbackService.GET_PAAS_SDK_INFO).then((res) => {\r\n        /* $nextTick保证dom被渲染之后进行paas插件初始化 */\r\n        this.$nextTick(() => {\r\n          this.sdkParam.sign = res.data.sign\r\n          this.sdkParam.signed_at = res.data.signedAt\r\n          this.sdkParam.app_id = res.data.appId\r\n          this.sdkPlayParam = {\r\n            app_id: res.data.appId,\r\n            accountId: res.data.accountId,\r\n            token: res.data.token,\r\n            recordId: '',\r\n            linkVideo: ''\r\n          }\r\n        })\r\n      })\r\n      this.initMsgServe()\r\n    },\r\n    async initMsgServe () {\r\n      const roomInfo = await this.$get(playbackService.GET_REG_SDK_INFO, {\r\n        thirdUserId: this.accountInfo.businessUserId,\r\n        channel: this.accountInfo.channelRoom\r\n      }).then(res => {\r\n        return res.data\r\n      })\r\n      ChatService.OBJ.init({\r\n        accountId: roomInfo.accountId,\r\n        token: roomInfo.token,\r\n        appId: roomInfo.appId,\r\n        channelId: roomInfo.channelRoom\r\n      })\r\n      /* 监听微信测试发送成功消息 */\r\n      ChatService.OBJ.regHandler(ChatConfig.wechat_msg, (msg) => {\r\n        console.log(msg)\r\n        this.deliverd = true\r\n      })\r\n    },\r\n    async storeJoininfo () {\r\n      await this.$get(userService.GET_ACCOUNT).then((res) => {\r\n        this.setAccountInfo(res.data)\r\n      })\r\n    }\r\n  },\r\n  /* 路由守卫，离开当前页面之前被调用 */\r\n  beforeRouteLeave (to, from, next) {\r\n    if (this.canPass) {\r\n      next(true)\r\n      return false\r\n    }\r\n    this.$messageBox({\r\n      header: '提示',\r\n      width: '400px',\r\n      content: '是否放弃当前编辑？',\r\n      cancelText: '否',\r\n      confirmText: '是',\r\n      handleClick: (e) => {\r\n        if (e.action === 'confirm') {\r\n          next(true)\r\n        } else {\r\n          next(false)\r\n        }\r\n      }\r\n    })\r\n  },\r\n  watch: {\r\n    sendSetting: {\r\n      handler (newValue) {\r\n        this.canPass = true\r\n        newValue === 'AWAIT' ? this.pickDate = true : this.pickDate = false\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    comTest,\r\n    comPhone,\r\n    chooseGroup,\r\n    veTips\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped src=\"../../css/live.scss\">\r\n</style>\r\n<style lang=\"scss\">\r\n.edit-wx-page.live-mager .live-title {\r\n  border-bottom: none;\r\n}\r\n.apply-page .el-select .el-input__inner {\r\n  border: 1px solid #e2d2d2;\r\n}\r\n.el-input.is-disabled .el-input__inner {\r\n  background-color: #fff;\r\n  color: #555;\r\n}\r\n\r\n.spe.moblie .el-select .el-input__inner {\r\n  padding-left: 25px;\r\n}\r\n.edit-wx-page.live-mager .from-title {\r\n  line-height: 40px;\r\n}\r\n</style>\r\n<style lang='scss' scoped>\r\n@import '~assets/css/mixin.scss';\r\n\r\n.edit-wx-page /deep/ {\r\n  .com-input .limit.area {\r\n    bottom: 7px;\r\n    right: 7px;\r\n  }\r\n  // height: 730px;\r\n  position: relative;\r\n  .select-receiver {\r\n    padding: 0;\r\n    margin: 3px 0;\r\n    width: 100px;\r\n    height: 34px;\r\n    line-height: 34px;\r\n    border-radius: 20px;\r\n    margin-right: 10px;\r\n    border: 1px solid rgba(136, 136, 136, 1);\r\n  }\r\n  .el-radio {\r\n    padding: 12px 0;\r\n    color: $color-font;\r\n  }\r\n  .from-title {\r\n    color: $color-font-sub;\r\n  }\r\n  .btn-group {\r\n    padding: 0;\r\n    button {\r\n      width: 140px;\r\n      height: 40px;\r\n      line-height: 40px;\r\n    }\r\n  }\r\n  .mager-box {\r\n    min-height: 730px;\r\n  }\r\n  .form-box {\r\n    position: relative;\r\n  }\r\n  .btn-group {\r\n    display: block;\r\n    margin: 0 auto;\r\n    width: 295px;\r\n    button {\r\n      padding: 0px;\r\n      width: 140px;\r\n      height: 40px;\r\n      line-height: 40px;\r\n    }\r\n  }\r\n  .edit-groups {\r\n    width: 500px;\r\n    margin-top: 15px;\r\n    &.sec {\r\n      margin-top: 0px;\r\n    }\r\n    span {\r\n      display: inline-block;\r\n      background-color: #f0f1fe;\r\n      border-radius: 17px;\r\n      padding: 8px 10px;\r\n      margin-right: 10px;\r\n      margin-bottom: 10px;\r\n      i {\r\n        color: #4b5afe;\r\n        &:hover {\r\n          cursor: pointer;\r\n          opacity: 0.8;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.modal-cover {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba($color: #000000, $alpha: 0.5);\r\n  z-index: 9;\r\n}\r\n.msg-content,\r\n.msg-title {\r\n  width: 440px;\r\n}\r\n.msg-content {\r\n  height: 90px;\r\n}\r\n.modal-box {\r\n  width: 700px;\r\n  height: 500px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  margin-top: -250px;\r\n  margin-left: -350px;\r\n  background: white;\r\n  border-radius: 10px;\r\n  border: 1px solid #666;\r\n  padding: 30px;\r\n  text-align: center;\r\n  .top {\r\n    span {\r\n      float: left;\r\n    }\r\n    span.search {\r\n      float: right;\r\n    }\r\n  }\r\n  h4 {\r\n    height: 40px;\r\n    line-height: 40px;\r\n    text-align: left;\r\n    border-bottom: 1px solid #ccc;\r\n    .close {\r\n      float: right;\r\n    }\r\n  }\r\n  .content-box {\r\n    padding: 10px 0px;\r\n  }\r\n  .btm {\r\n    span {\r\n      float: left;\r\n    }\r\n    button {\r\n      float: right;\r\n    }\r\n    i {\r\n      display: inline-block;\r\n      padding: 5px 10px;\r\n      border: 1px solid #ccc;\r\n      margin: 0 3px;\r\n    }\r\n  }\r\n}\r\n\r\n.modal-box .list {\r\n  & > li {\r\n    height: 50px;\r\n    line-height: 50px;\r\n    text-align: left;\r\n    .choose {\r\n      cursor: pointer;\r\n      float: right;\r\n    }\r\n  }\r\n}\r\n\r\n.modal-box .right {\r\n  width: 500px;\r\n}\r\n\r\n.qrcode {\r\n  display: block;\r\n  margin: 20px auto;\r\n  width: 200px;\r\n  height: 200px;\r\n  border: 1px solid #ccc;\r\n}\r\n.live-mager .mager-box .from-box {\r\n  margin: 40px 0 0 0;\r\n  height: 600px;\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=08eecc18&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"../../css/live.scss?vue&type=style&index=0&id=08eecc18&lang=scss&scoped=true&\"\nimport style1 from \"./edit.vue?vue&type=style&index=1&lang=scss&\"\nimport style2 from \"./edit.vue?vue&type=style&index=2&id=08eecc18&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08eecc18\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\work\\\\saas营销\\\\fe_management\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('08eecc18', component.options)\n    } else {\n      api.reload('08eecc18', component.options)\n    }\n    module.hot.accept(\"./edit.vue?vue&type=template&id=08eecc18&scoped=true&\", function () {\n      api.rerender('08eecc18', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/live-mager/promote/wechat/edit.vue\"\nexport default component.exports"],"sourceRoot":""}