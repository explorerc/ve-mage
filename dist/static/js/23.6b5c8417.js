(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{172:function(a,t,e){"use strict";var s=e(5);const i={queryList:a=>s.a.ajax({method:"post",url:"/manage/base-manage/list-activity",params:a}),deleteById:a=>s.a.ajax({method:"post",url:"/manage/base-manage/del-activity",params:{id:a}}),queryWarmInfoById:a=>s.a.ajax({method:"post",url:"/manage/warm-up-manage/get",params:{activityId:a}}),saveAndEditWarmInfo:a=>s.a.ajax({method:"post",url:"/manage/warm-up-manage/edit",params:a}),queryReminderInfoById:a=>s.a.ajax({method:"post",url:"/",params:{id:a}}),saveReminderInfo:a=>s.a.ajax({method:"post",url:"/",params:a}),roleList:a=>s.a.ajax({method:"GET",url:"/manage/role-manage/list-role",params:{activityId:a}}),delAss:a=>s.a.ajax({method:"POST",url:"/manage/role-manage/del-assistant",params:a}),handleAss:(a,t)=>s.a.ajax({method:"POST",url:a?"/manage/role-manage/update-assistant":"/manage/role-manage/add-assistant",params:t}),getLimit:a=>s.a.ajax({method:"GET",url:"/manage/view-limit/get-limit",params:{activityId:a}}),saveLimit:a=>s.a.ajax({method:"POST",url:"/manage/view-limit/update-limit",params:a}),webinarInfo:a=>s.a.ajax({method:"GET",url:"/manage/base-manage/detail-activity",params:{id:a}}),updateWebinfo:(a,t)=>s.a.ajax({method:"POST",url:a?"/manage/base-manage/add-activity":"/manage/base-manage/update-activity",params:t}),queryEmailList:a=>s.a.ajax({method:"post",url:"/expand/email-invite/list",params:a}),deleteEmailById:a=>s.a.ajax({method:"post",url:"/expand/email-invite/delete",params:{emailInviteId:a}}),queryEmailInfoById:a=>s.a.ajax({method:"post",url:"/expand/email-invite/query",params:{emailInviteId:a}}),queryEmailTemplateList:()=>s.a.ajax({method:"post",url:"/expand/email-invite/templates",params:{}}),sendEmailInfo:a=>s.a.ajax({method:"post",url:"/expand/email-invite/send",params:a}),sendTimerEmailInfo:a=>s.a.ajax({method:"post",url:"/expand/email-invite/save-and-plansend",params:a}),sendTestEmailInfo:a=>s.a.ajax({method:"post",url:"/expand/email-invite/test-send",params:a}),saveAndsendEmail:a=>s.a.ajax({method:"post",url:"/expand/email-invite/save-and-send",params:a}),saveEmailInfo:a=>s.a.ajax({method:"post",url:"/expand/email-invite/save-draft",params:a}),saveWechat:a=>s.a.ajax({method:"post",url:"/expand/wechat-invite/save",params:a}),saveMsg:a=>s.a.ajax({method:"post",url:"/expand/sms-invite/save",params:a}),queryWechat:a=>s.a.ajax({method:"post",url:"/expand/wechat-invite/query",params:{inviteId:a}}),queryMsg:a=>s.a.ajax({method:"post",url:"/expand/sms-invite/query",params:{inviteId:a}}),queryWechatlist:a=>s.a.ajax({method:"post",url:"/expand/wechat-invite/list",params:a}),queryMsglist:a=>s.a.ajax({method:"post",url:"/expand/sms-invite/list",params:a}),deleteWechat:a=>s.a.ajax({method:"post",url:"/expand/wechat-invite/delete",params:{inviteId:a}}),deleteMsg:a=>s.a.ajax({method:"post",url:"/expand/sms-invite/delete",params:{inviteId:a}}),queryPassSdkInfo:()=>s.a.ajax({method:"post",url:"/common/pass-sdk/create-access-token",params:{}})};t.a=i},222:function(a,t,e){},327:function(a,t,e){"use strict";var s=e(222);e.n(s).a},372:function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"content"},[e("p",[a._v("创建微信通知")]),a._v(" "),e("div",{staticClass:"from-box"},[e("div",{staticClass:"from-row"},[e("div",{staticClass:"from-title"},[a._v("通知标题：")]),a._v(" "),e("div",{staticClass:"from-content"},[e("com-input",{attrs:{value:a.titleValue,placeholder:"请输入标题","max-length":30},on:{"update:value":function(t){a.titleValue=t}}})],1)]),a._v(" "),e("div",{staticClass:"from-row"},[e("div",{staticClass:"from-title"},[a._v("消息模板：")]),a._v(" "),e("div",{staticClass:"from-content"},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:a.tplValue,callback:function(t){a.tplValue=t},expression:"tplValue"}},a._l(a.tplOptions,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}))],1)]),a._v(" "),e("div",{staticClass:"from-row"},[e("div",{staticClass:"from-title"},[a._v("发送设置：")]),a._v(" "),e("div",{staticClass:"from-content"},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:a.sendValue,callback:function(t){a.sendValue=t},expression:"sendValue"}},a._l(a.sendOptions,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}))],1)]),a._v(" "),a.pickDate?e("div",{staticClass:"from-row"},[e("div",{staticClass:"from-title"},[a._v("选择时间：")]),a._v(" "),e("div",{staticClass:"from-content"},[e("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间","picker-options":a.pickerOptions},model:{value:a.date,callback:function(t){a.date=t},expression:"date"}})],1)]):a._e(),a._v(" "),e("div",{staticClass:"from-row"},[e("div",{staticClass:"from-title"},[a._v("接收人：")]),a._v(" "),e("div",{staticClass:"from-content"},[e("el-button",{on:{click:function(t){a.groudModal=!0}}},[a._v("点击添加")]),a._v(" "),a._m(0)],1)]),a._v(" "),e("div",{staticClass:"from-row"},[e("div",{staticClass:"from-title"}),a._v(" "),e("div",{staticClass:"from-content"},[e("el-button",{on:{click:function(t){a.testModal=!0}}},[a._v("测试")]),a._v(" "),e("el-button",{on:{click:a.save}},[a._v("保存")])],1)])]),a._v(" "),e("transition",{attrs:{name:"fade"}},[a.testModal?e("div",{staticClass:"modal-cover",on:{click:a.closeModal}},[e("div",{staticClass:"modal-box"},[e("h4",[a._v("选择观众组 "),e("span",{staticClass:"close",on:{click:function(t){a.testModal=!1}}},[a._v("×")])]),a._v(" "),e("div",{staticClass:"content-box"},[e("com-tabs",{attrs:{value:a.tabValue,position:"left",type:"card",customClass:"choose-tab"},on:{"update:value":function(t){a.tabValue=t}}},[e("com-tab",{attrs:{label:"分组",index:1}},[e("div",{staticClass:"right"},[e("div",{staticClass:"top clearfix"},[e("span",[a._v("分组:"),e("i",[a._v("123")]),a._v("个")]),a._v(" "),e("span",{staticClass:"search"},[e("com-input",{attrs:{value:a.searchTitle,placeholder:"请输入关键字"},on:{"update:value":function(t){a.searchTitle=t}}}),a._v("搜索")],1)]),a._v(" "),e("ol",{staticClass:"list"},[e("li",{key:1,class:{choosed:1==a.groupIdx}},[e("span",[e("i",{staticClass:"icon"}),a._v("企业员工"),e("i",[a._v("(123)")])]),e("em",{staticClass:"choose",on:{click:function(t){t.preventDefault(),a.chooseGroup(1)}}},[a._v(a._s(1===a.groupIdx?"已选择":"选择"))])]),a._v(" "),e("li",{key:2,class:{choosed:2==a.groupIdx}},[e("span",[e("i",{staticClass:"icon"}),a._v("企业员工"),e("i",[a._v("(123)")])]),e("em",{staticClass:"choose",on:{click:function(t){t.preventDefault(),a.chooseGroup(2)}}},[a._v(a._s(2===a.groupIdx?"已选择":"选择"))])]),a._v(" "),e("li",{key:3,class:{choosed:3==a.groupIdx}},[e("span",[e("i",{staticClass:"icon"}),a._v("企业员工"),e("i",[a._v("(123)")])]),e("em",{staticClass:"choose",on:{click:function(t){t.preventDefault(),a.chooseGroup(3)}}},[a._v(a._s(3===a.groupIdx?"已选择":"选择"))])]),a._v(" "),e("li",{key:4,class:{choosed:4==a.groupIdx}},[e("span",[e("i",{staticClass:"icon"}),a._v("企业员工"),e("i",[a._v("(123)")])]),e("em",{staticClass:"choose",on:{click:function(t){t.preventDefault(),a.chooseGroup(4)}}},[a._v(a._s(4===a.groupIdx?"已选择":"选择"))])]),a._v(" "),e("li",{key:5,class:{choosed:5==a.groupIdx}},[e("span",[e("i",{staticClass:"icon"}),a._v("企业员工"),e("i",[a._v("(123)")])]),e("em",{staticClass:"choose",on:{click:function(t){t.preventDefault(),a.chooseGroup(5)}}},[a._v(a._s(5===a.groupIdx?"已选择":"选择"))])])]),a._v(" "),e("div",{staticClass:"btm clearfix"},[e("span",[a._v("已选择:"),e("i",[a._v("啊啊啊")]),e("i",[a._v("啊啊啊")]),e("i",[a._v("啊啊啊")])]),a._v(" "),e("el-button",[a._v("确定")])],1)])]),a._v(" "),e("com-tab",{attrs:{label:"标签",index:2}},[e("div",{staticClass:"right"},[e("div",{staticClass:"top clearfix"},[e("span",[a._v("标签:"),e("i",[a._v("123")]),a._v("个")]),a._v(" "),e("span",{staticClass:"search"},[e("com-input",{attrs:{value:a.searchTitle,placeholder:"请输入关键字"},on:{"update:value":function(t){a.searchTitle=t}}}),a._v("搜索")],1)]),a._v(" "),e("ol",{staticClass:"list"},[e("li",{key:10,class:{choosed:1==a.tagIdx}},[e("span",[e("i",{staticClass:"icon"}),a._v("标签"),e("i",[a._v("(123)")])]),e("em",{staticClass:"choose",on:{click:function(t){t.preventDefault(),a.chooseTag(1)}}},[a._v(a._s(1===a.tagIdx?"已选择":"选择"))])]),a._v(" "),e("li",{key:6,class:{choosed:2==a.tagIdx}},[e("span",[e("i",{staticClass:"icon"}),a._v("标签"),e("i",[a._v("(123)")])]),e("em",{staticClass:"choose",on:{click:function(t){t.preventDefault(),a.chooseTag(2)}}},[a._v(a._s(2===a.tagIdx?"已选择":"选择"))])]),a._v(" "),e("li",{key:7,class:{choosed:3==a.tagIdx}},[e("span",[e("i",{staticClass:"icon"}),a._v("标签"),e("i",[a._v("(123)")])]),e("em",{staticClass:"choose",on:{click:function(t){t.preventDefault(),a.chooseTag(3)}}},[a._v(a._s(3===a.tagIdx?"已选择":"选择"))])]),a._v(" "),e("li",{key:8,class:{choosed:4==a.tagIdx}},[e("span",[e("i",{staticClass:"icon"}),a._v("标签"),e("i",[a._v("(123)")])]),e("em",{staticClass:"choose",on:{click:function(t){t.preventDefault(),a.chooseTag(4)}}},[a._v(a._s(4===a.tagIdx?"已选择":"选择"))])]),a._v(" "),e("li",{key:9,class:{choosed:5==a.tagIdx}},[e("span",[e("i",{staticClass:"icon"}),a._v("标签"),e("i",[a._v("(123)")])]),e("em",{staticClass:"choose",on:{click:function(t){t.preventDefault(),a.chooseTag(5)}}},[a._v(a._s(5===a.tagIdx?"已选择":"选择"))])])]),a._v(" "),e("div",{staticClass:"btm clearfix"},[e("span",[a._v("已选择:"),e("i",[a._v("啊啊啊")]),e("i",[a._v("啊啊啊")]),e("i",[a._v("啊啊啊")])]),a._v(" "),e("el-button",[a._v("确定")])],1)])])],1)],1)])]):a._e()]),a._v(" "),e("transition",{attrs:{name:"fade"}},[a.testModal?e("div",{staticClass:"modal-cover",on:{click:a.closeModal}},[e("div",{staticClass:"modal-box"},[e("h4",[a._v("微信测试发送 "),e("span",{staticClass:"close",on:{click:function(t){a.testModal=!1}}},[a._v("×")])]),a._v(" "),e("div",{staticClass:"content-box"},[e("p",[a._v("每天只允许发送5条测试消息")]),a._v(" "),e("div",{staticClass:"from-row"},[e("img",{staticClass:"qrcode",attrs:{src:"/../asdasd.png"}})]),a._v(" "),e("p",[a._v("扫描二维码，授权后，即可收到测试消息")]),a._v(" "),e("p",[a._v("当前可发送("),e("span",[a._v("5")]),a._v("条)")])])])]):a._e()]),a._v(" "),e("div",{staticClass:"overview-box"},[e("div",{staticClass:"header"},[a._v("微吼服务号")]),a._v(" "),e("div",{staticClass:"msg-box"},[a._m(1),a._v(" "),e("p",{staticClass:"tips"},[a._v("您关注的"),e("span",[a._v(a._s(a.webinarName))]),a._v("即将开始，赶快参加吧！")]),a._v(" "),e("p",[a._v("标题："),e("span",[a._v(a._s(a.titleValue))])]),a._v(" "),e("p",[a._v("时间："),e("span",[a._v(a._s(a.date))])]),a._v(" "),a._m(2),a._v(" "),e("p",[a._v("退订")]),a._v(" "),e("div",{staticClass:"footer"},[a._v("详情")])])])],1)};s._withStripped=!0;var i=e(172),l={data(){return{inviteId:this.$route.query.id,activitId:this.$route.params.id,webinarName:"活动名字啊啊啊",groudModal:!1,testModal:!1,tabValue:1,searchTitle:"",titleValue:"",groupIdx:0,tagIdx:0,tplOptions:[{value:1,label:"活动邀请"},{value:2,label:"活动推荐"}],sendOptions:[{value:"AWAIT",label:"定时发送"},{value:"SEND",label:"立即发送"},{value:"DRAFT",label:"暂存为草稿"}],tplValue:"",sendValue:"",pickDate:!1,date:new Date,pickerOptions:{disabledDate:a=>a.getTime()<Date.now()-864e5}}},created(){this.inviteId&&i.a.queryWechat(this.inviteId).then(a=>{this.titleValue=a.data.title,this.tplValue=a.data.templateId,this.sendValue=a.data.status,this.date=a.data.sendTime}).catch(a=>{console.log(a)})},methods:{closeModal(a){"modal-cover"===a.target.className&&(this.groudModal=!1,this.testModal=!1,this.groupIdx=0,this.tagIdx=0)},chooseGroup(a){this.groupIdx=a},chooseTag(a){this.tagIdx=a},save(){let a={activityId:this.$route.params.id,templateId:this.tplValue,title:this.titleValue,groupId:"1",status:this.sendValue.toLowerCase(),sendTime:this.date};i.a.saveWechat(a).then(a=>{this.$toast({content:"保存成功",position:"center"}),this.$router.push({name:"promoteWechat",params:{id:this.activitId}})}).catch(a=>{this.$toast({content:"保存失败",position:"center"})})}},watch:{sendValue:{handler(a){this.pickDate="AWAIT"===a}}}},o=(e(327),e(1)),n=Object(o.a)(l,s,[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ol",{staticClass:"groupList"},[e("li",[a._v("客户分组1(345)人 "),e("span",[a._v("删除")]),e("span",[a._v("查看")])]),a._v(" "),e("li",[a._v("客户分组1(345)人 "),e("span",[a._v("删除")]),e("span",[a._v("查看")])]),a._v(" "),e("li",[a._v("客户分组1(345)人 "),e("span",[a._v("删除")]),e("span",[a._v("查看")])])])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"msg-title"},[this._v("\n        个人信息通知"),t("span",[this._v("8月10日")])])},function(){var a=this.$createElement,t=this._self._c||a;return t("p",[this._v("内容："),t("span",[this._v("点击查看详情")])])}],!1,null,"08eecc18",null);n.options.__file="src\\pages\\live-mager\\promote\\wechat\\edit.vue";t.default=n.exports}}]);
//# sourceMappingURL=23.6b5c8417.js.map