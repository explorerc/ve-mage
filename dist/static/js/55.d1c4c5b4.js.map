{"version":3,"sources":["webpack:///./src/pages/sales-tools/recommend-goods/info.vue?8a19","webpack:///./src/pages/sales-tools/recommend-goods/info.vue?26a3","webpack:///./src/pages/sales-tools/recommend-goods/info.vue?f851","webpack:///src/pages/sales-tools/recommend-goods/info.vue","webpack:///./src/pages/sales-tools/recommend-goods/info.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_info_vue_vue_type_style_index_0_id_5ceb96de_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","render","_vm","this","_h","$createElement","_c","_self","attrs","id","_v","ref","staticClass","model","goodsData","rules","label-width","label","prop","value","title","callback","$$v","$set","expression","slot","staticStyle","color","domProps","textContent","_s","gbLength","min","max","ysjg","_n","disabled","cxjg","_l","upload_list","ite","ind","accept","defaultImg","nowIndex","fileSize","errorMsg","uploadImgErrorMsg","on","error","uploadError","success","uploadImgSuccess","length","click","add_upload","_e","max-length","type","placeholder","name","trim","url","size","$event","onSubmit","resetForm","_withStripped","recommend_goods_infovue_type_script_lang_js_","created","components","VeUpload","computed","poster","$imgHost","data","_this","errTitle","required","validator","rule","timer","setTimeout","clearTimeout","Error","attr","obj","field","slice","trigger","message","maxV","num","map","item","host","methods","push","formName","_this2","$refs","validate","valid","console","log","alert","resetFields","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"iHAAA,IAAAA,EAAAC,EAAA,KAAAA,EAAAC,EAAAF,GAAyc,2CCAzc,IAAAG,EAAA,WACA,IAAAC,EAAAC,KACAC,EAAAF,EAAAG,eACAC,EAAAJ,EAAAK,MAAAD,IAAAF,EACA,OAAAE,EACA,OACKE,OAASC,GAAA,gBAEdH,EAAA,UAAAJ,EAAAQ,GAAA,eACAR,EAAAQ,GAAA,KACAJ,EACA,WAEAK,IAAA,YACAC,YAAA,gBACAJ,OACAK,MAAAX,EAAAY,UACAC,MAAAb,EAAAa,MACAC,cAAA,UAIAV,EACA,gBACaE,OAASS,MAAA,OAAAC,KAAA,WAEtBZ,EACA,YAEAM,YAAA,aACAC,OACAM,MAAAjB,EAAAY,UAAAM,MACAC,SAAA,SAAAC,GACApB,EAAAqB,KAAArB,EAAAY,UAAA,QAAAQ,IAEAE,WAAA,qBAIAlB,EAAA,YAAkCM,YAAA,OAAAa,KAAA,WAClCnB,EAAA,QACAoB,aAAoCC,MAAA,WACpCC,UACAC,YAAA3B,EAAA4B,GAAA5B,EAAAY,UAAAM,MAAAW,eAGA7B,EAAAQ,GAAA,YAGA,IAGA,GAEAR,EAAAQ,GAAA,KACAJ,EAAA,gBAA8BE,OAASS,MAAA,OAAAC,KAAA,UACvCZ,EACA,OACeM,YAAA,WAEfN,EAAA,YACAE,OAA0BwB,IAAA,IAAAC,IAAA,UAC1BpB,OACAM,MAAAjB,EAAAY,UAAAoB,KACAb,SAAA,SAAAC,GACApB,EAAAqB,KAAArB,EAAAY,UAAA,OAAAZ,EAAAiC,GAAAb,KAEAE,WAAA,oBAGAtB,EAAAQ,GAAA,KACAJ,EAAA,QAAAJ,EAAAQ,GAAA,QAEA,KAGAR,EAAAQ,GAAA,KACAJ,EAAA,gBAA8BE,OAASS,MAAA,OAAAC,KAAA,UACvCZ,EACA,OACeM,YAAA,WAEfN,EAAA,YACAE,OAA0B4B,UAAAlC,EAAAY,UAAAoB,MAC1BrB,OACAM,MAAAjB,EAAAY,UAAAuB,KACAhB,SAAA,SAAAC,GACApB,EAAAqB,KAAArB,EAAAY,UAAA,OAAAZ,EAAAiC,GAAAb,KAEAE,WAAA,oBAGAtB,EAAAQ,GAAA,KACAJ,EAAA,QAAAJ,EAAAQ,GAAA,QAEA,KAGAR,EAAAQ,GAAA,KACAJ,EACA,gBACaE,OAASS,MAAA,OAAAC,KAAA,iBAEtBZ,EACA,OACiBM,YAAA,eAEjBV,EAAAoC,GAAApC,EAAAY,UAAAyB,YAAA,SAAAC,EAAAC,GACA,OAAAnC,EAAA,aACAE,OACAY,MACA,yCACAsB,OAAA,mBACAC,WAAAzC,EAAAyC,WACAC,SAAAH,GAAA,EACAI,SAAA,KACAC,SAAA5C,EAAA6C,mBAEAC,IACAC,MAAA/C,EAAAgD,YACAC,QAAAjD,EAAAkD,sBAIAlD,EAAAQ,GAAA,KACAR,EAAAY,UAAAyB,YAAAc,OAAA,EACA/C,EAAA,QACAM,YAAA,8BACAoC,IAA6BM,MAAApD,EAAAqD,cAE7BrD,EAAAsD,MAEA,KAIAtD,EAAAQ,GAAA,KACAJ,EACA,gBACaE,OAASS,MAAA,UAEtBX,EAAA,aACAM,YAAA,iBACAJ,OACAiD,aAAA,IACAC,KAAA,WACAC,YAAA,WAEA9C,OACAM,MAAAjB,EAAAY,UAAA8C,KACAvC,SAAA,SAAAC,GACApB,EAAAqB,KACArB,EAAAY,UACA,OACA,iBAAAQ,IAAAuC,OAAAvC,IAGAE,WAAA,qBAIA,GAEAtB,EAAAQ,GAAA,KACAJ,EACA,gBACaE,OAASS,MAAA,OAAAC,KAAA,SAEtBZ,EAAA,YACAM,YAAA,aACAJ,OAAwBkD,KAAA,OACxB7C,OACAM,MAAAjB,EAAAY,UAAAgD,IACAzC,SAAA,SAAAC,GACApB,EAAAqB,KAAArB,EAAAY,UAAA,MAAAQ,IAEAE,WAAA,oBAIA,GAEAtB,EAAAQ,GAAA,KACAJ,EACA,gBACaE,OAASS,MAAA,SAEtBX,EAAA,aACAM,YAAA,aACAJ,OACAiD,aAAA,IACAC,KAAA,OACAC,YAAA,WAEA9C,OACAM,MAAAjB,EAAAY,UAAA8C,KACAvC,SAAA,SAAAC,GACApB,EAAAqB,KACArB,EAAAY,UACA,OACA,iBAAAQ,IAAAuC,OAAAvC,IAGAE,WAAA,qBAIA,GAEAtB,EAAAQ,GAAA,KACAJ,EACA,gBAEAA,EACA,aAEAE,OAA0BuD,KAAA,QAAAL,KAAA,WAC1BV,IACAM,MAAA,SAAAU,GACA9D,EAAA+D,SAAA,iBAIA/D,EAAAQ,GAAA,QAEAR,EAAAQ,GAAA,KACAJ,EACA,aAEAE,OAA0BuD,KAAA,SAC1Bf,IACAM,MAAA,SAAAU,GACA9D,EAAAgE,UAAA,iBAIAhE,EAAAQ,GAAA,SAGA,IAGA,IAGA,IAIAT,EAAAkE,eAAA,MCzPgMC,GCwDhMR,KAAA,OACAS,QAFA,aAKAC,YACAC,gBAAA,GAEAC,UACA7B,WADA,WAEA,OAAAxC,KAAAsE,OAAAtE,KAAAuE,SAAA,IAAAvE,KAAAsE,OAAA,KAGAE,KAbA,WAaA,IAAAC,EAAAzE,KAkDA,OACA0E,SAAA,GACAtC,iBACAzB,WACA8C,KAAA,GACAxC,MAAA,GACAc,KAAA,GACAG,KAAA,GACAyB,IAAA,GACAvB,kBAEAQ,kBAAA,GACAhC,OACAK,QACA0D,UAAA,EAAAC,UA/DA,SAAAC,EAAA7D,EAAAE,GACA,IAAA4D,OAAA,EACAA,IACAA,EAAAC,WAAA,WAGA,GAFAC,aAAAF,GACAA,EAAA,MACA9D,EAcA,OAAAE,EAAA,IAAA+D,MAAA,aAbA,GAAAjE,EAAAY,WAAAiD,EAAAhD,IACA,OAAAX,EAAA,IAAA+D,MAAA,WACA,GAAAjE,EAAAY,YAAAiD,EAAA/C,KACA,QAAAoD,KAAAT,EAAAI,EAAAM,KACA,GAAAD,IAAAL,EAAAO,MAEA,OADAX,EAAAI,EAAAM,KAAAD,GAAAT,EAAAI,EAAAM,KAAAD,GAAAG,MAAA,EAAAR,EAAA/C,KACAZ,SAIAA,KAKA,OAyCAW,IAAA,EAAAC,IAAA,GAAAwD,QAAA,cAAAH,IAAA,cAEApD,OACA4C,UAAA,EAAApB,KAAA,SAAAgC,QAAA,UAAAD,QAAA,SACA/B,KAAA,SAAA1B,IAAA,EAAAC,IAAA,OAAAyD,QAAA,mBAAAD,QAAA,SAEApD,OACA0C,UA9CA,SAAAC,EAAA7D,EAAAE,GACA,IAAAsE,EAAAf,EAAAI,EAAAM,KAAApD,KACA,OAAAf,KAAA,EACAE,EAAA,IAAA+D,MAAA,gBACAjE,GAAAwE,GAAAxE,EAAAwE,EACAtE,EAAA,IAAA+D,MAAA,mBACAjE,IAAAwE,EACAtE,EAAA,IAAA+D,MAAA,aAEA/D,KAqCAqC,KAAA,SAAA1B,IAAA,EAAAC,IAAA,OAAAwD,QAAA,OAAAH,IAAA,cAEAxB,MACAgB,UAAA,EAAApB,KAAA,MAAAgC,QAAA,UAAAD,QAAA,SACAzD,IAAA,EAAAC,IAAA,IAAAyB,KAAA,MAAAgC,QAAA,gBAAAD,QAAA,SAEAlD,cACAuC,UAAA,EAAAC,UAzCA,SAAAC,EAAA7D,EAAAE,GACA,IAAAuE,EAAA,EAMA,OALAhB,EAAAI,EAAAM,KAAA/C,YAAAsD,IAAA,SAAAC,GACAA,EAAAlC,MAAAkC,EAAAC,OACAH,GAAA,KAGAA,EAAA,EACAvE,IAEAA,EAAA,IAAA+D,MAAA,WA+BAK,QAAA,OAAAH,IAAA,iBAKAU,SACAzC,WADA,WAEApD,KAAAW,UAAAyB,YAAA0D,UAEAhC,SAJA,SAIAiC,GAAA,IAAAC,EAAAhG,KACAA,KAAAiG,MAAAF,GAAAG,SAAA,SAAAC,GACA,IAAAA,EAKA,OADAC,QAAAC,IAAA,mBACA,EAJAD,QAAAC,IAAAL,EAAArF,WACA2F,MAAA,cAOAvC,UAfA,SAeAgC,GACA/F,KAAAiG,MAAAF,GAAAQ,eAEAtD,iBAlBA,SAkBAuB,GACA4B,QAAAC,IAAA7B,GACAxE,KAAAW,UAAAyB,YAAAoC,EAAA/B,WACAgB,KAAAe,EAAAf,KACAmC,KAAApB,EAAAoB,MAEAQ,QAAAC,IAAArG,KAAAW,YAEAoC,YA1BA,SA0BAyB,GACA4B,QAAAC,IAAA7B,sBC1KAgC,EAAgBC,OAAAC,EAAA,EAAAD,CACdxC,EACAnE,MAEF,EACA,KACA,WACA,MAuBA0G,EAAAG,QAAAC,OAAA,iDACeC,EAAA,QAAAL","file":"static/js/55.d1c4c5b4.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=5ceb96de&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=5ceb96de&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { attrs: { id: \"goods-info\" } },\n    [\n      _c(\"header\", [_vm._v(\"新建/编辑商品信息\")]),\n      _vm._v(\" \"),\n      _c(\n        \"el-form\",\n        {\n          ref: \"goodsData\",\n          staticClass: \"demo-ruleForm\",\n          attrs: {\n            model: _vm.goodsData,\n            rules: _vm.rules,\n            \"label-width\": \"80px\"\n          }\n        },\n        [\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"商品名称\", prop: \"title\" } },\n            [\n              _c(\n                \"el-input\",\n                {\n                  staticClass: \"slot_inp_b\",\n                  model: {\n                    value: _vm.goodsData.title,\n                    callback: function($$v) {\n                      _vm.$set(_vm.goodsData, \"title\", $$v)\n                    },\n                    expression: \"goodsData.title\"\n                  }\n                },\n                [\n                  _c(\"template\", { staticClass: \"slot\", slot: \"append\" }, [\n                    _c(\"span\", {\n                      staticStyle: { color: \"#2878FF\" },\n                      domProps: {\n                        textContent: _vm._s(_vm.goodsData.title.gbLength())\n                      }\n                    }),\n                    _vm._v(\" / 20\")\n                  ])\n                ],\n                2\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"el-form-item\", { attrs: { label: \"原始价格\", prop: \"ysjg\" } }, [\n            _c(\n              \"div\",\n              { staticClass: \"a_unit\" },\n              [\n                _c(\"el-input\", {\n                  attrs: { min: \"0\", max: \"999999\" },\n                  model: {\n                    value: _vm.goodsData.ysjg,\n                    callback: function($$v) {\n                      _vm.$set(_vm.goodsData, \"ysjg\", _vm._n($$v))\n                    },\n                    expression: \"goodsData.ysjg\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"span\", [_vm._v(\"元\")])\n              ],\n              1\n            )\n          ]),\n          _vm._v(\" \"),\n          _c(\"el-form-item\", { attrs: { label: \"促销价格\", prop: \"cxjg\" } }, [\n            _c(\n              \"div\",\n              { staticClass: \"a_unit\" },\n              [\n                _c(\"el-input\", {\n                  attrs: { disabled: !!!_vm.goodsData.ysjg },\n                  model: {\n                    value: _vm.goodsData.cxjg,\n                    callback: function($$v) {\n                      _vm.$set(_vm.goodsData, \"cxjg\", _vm._n($$v))\n                    },\n                    expression: \"goodsData.cxjg\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"span\", [_vm._v(\"元\")])\n              ],\n              1\n            )\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"商品图片\", prop: \"upload_list\" } },\n            [\n              _c(\n                \"div\",\n                { staticClass: \"upload_box\" },\n                [\n                  _vm._l(_vm.goodsData.upload_list, function(ite, ind) {\n                    return _c(\"ve-upload\", {\n                      attrs: {\n                        title:\n                          \"图片小于2MB 支持jpg、png、bmp格式 最佳尺寸：600 x 600\",\n                        accept: \"png|jpg|jpeg|bmp\",\n                        defaultImg: _vm.defaultImg,\n                        nowIndex: ind || 0,\n                        fileSize: 2048,\n                        errorMsg: _vm.uploadImgErrorMsg\n                      },\n                      on: {\n                        error: _vm.uploadError,\n                        success: _vm.uploadImgSuccess\n                      }\n                    })\n                  }),\n                  _vm._v(\" \"),\n                  _vm.goodsData.upload_list.length < 4\n                    ? _c(\"span\", {\n                        staticClass: \"el-icon-circle-plus-outline\",\n                        on: { click: _vm.add_upload }\n                      })\n                    : _vm._e()\n                ],\n                2\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"商品描述\" } },\n            [\n              _c(\"com-input\", {\n                staticClass: \"inupt_textarea\",\n                attrs: {\n                  \"max-length\": 140,\n                  type: \"textarea\",\n                  placeholder: \"请输入群组名称\"\n                },\n                model: {\n                  value: _vm.goodsData.name,\n                  callback: function($$v) {\n                    _vm.$set(\n                      _vm.goodsData,\n                      \"name\",\n                      typeof $$v === \"string\" ? $$v.trim() : $$v\n                    )\n                  },\n                  expression: \"goodsData.name\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"商品链接\", prop: \"url\" } },\n            [\n              _c(\"el-input\", {\n                staticClass: \"inupt_text\",\n                attrs: { type: \"url\" },\n                model: {\n                  value: _vm.goodsData.url,\n                  callback: function($$v) {\n                    _vm.$set(_vm.goodsData, \"url\", $$v)\n                  },\n                  expression: \"goodsData.url\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"淘口令\" } },\n            [\n              _c(\"com-input\", {\n                staticClass: \"inupt_text\",\n                attrs: {\n                  \"max-length\": 100,\n                  type: \"text\",\n                  placeholder: \"请输入群组名称\"\n                },\n                model: {\n                  value: _vm.goodsData.name,\n                  callback: function($$v) {\n                    _vm.$set(\n                      _vm.goodsData,\n                      \"name\",\n                      typeof $$v === \"string\" ? $$v.trim() : $$v\n                    )\n                  },\n                  expression: \"goodsData.name\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            [\n              _c(\n                \"el-button\",\n                {\n                  attrs: { size: \"small\", type: \"primary\" },\n                  on: {\n                    click: function($event) {\n                      _vm.onSubmit(\"goodsData\")\n                    }\n                  }\n                },\n                [_vm._v(\"保存\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-button\",\n                {\n                  attrs: { size: \"small\" },\n                  on: {\n                    click: function($event) {\n                      _vm.resetForm(\"goodsData\")\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"","<template>\r\n  <div id=\"goods-info\">\r\n    <header>新建/编辑商品信息</header>\r\n    <el-form :model=\"goodsData\" ref=\"goodsData\" :rules=\"rules\" label-width=\"80px\" class=\"demo-ruleForm\">\r\n      <el-form-item label=\"商品名称\" prop=\"title\">\r\n        <el-input v-model=\"goodsData.title\" class=\"slot_inp_b\">\r\n          <template slot=\"append\" class=\"slot\"><span v-text=\"goodsData.title.gbLength()\" style=\"color: #2878FF\"></span> / 20</template>\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"原始价格\" prop=\"ysjg\">\r\n        <div class=\"a_unit\">\r\n          <el-input v-model.number=\"goodsData.ysjg\" min=\"0\" max=\"999999\"></el-input>\r\n          <span>元</span>\r\n        </div>\r\n\r\n      </el-form-item>\r\n      <el-form-item label=\"促销价格\" prop=\"cxjg\">\r\n        <div class=\"a_unit\">\r\n          <el-input v-model.number=\"goodsData.cxjg\" :disabled=\"!!!goodsData.ysjg\"></el-input>\r\n          <span>元</span>\r\n        </div>\r\n\r\n      </el-form-item>\r\n      <el-form-item label=\"商品图片\" prop=\"upload_list\">\r\n        <div class=\"upload_box\">\r\n          <ve-upload v-for=\"(ite,ind) in goodsData.upload_list\" title=\"图片小于2MB 支持jpg、png、bmp格式 最佳尺寸：600 x 600\"\r\n                     accept=\"png|jpg|jpeg|bmp\" :defaultImg=\"defaultImg\" :nowIndex=\"ind || 0\"\r\n                     :fileSize=\"2048\" :errorMsg=\"uploadImgErrorMsg\" @error=\"uploadError\"\r\n                     @success=\"uploadImgSuccess\"></ve-upload>\r\n          <span class=\"el-icon-circle-plus-outline\" @click=\"add_upload\" v-if=\"goodsData.upload_list.length<4\"></span>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品描述\">\r\n        <com-input class=\"inupt_textarea\" :max-length=140 type=\"textarea\" v-model.trim=\"goodsData.name\"\r\n                   placeholder=\"请输入群组名称\"></com-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品链接\" prop=\"url\">\r\n        <el-input class=\"inupt_text\" v-model=\"goodsData.url\" type=\"url\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"淘口令\">\r\n        <com-input class=\"inupt_text\" :max-length=100 type=\"text\" v-model.trim=\"goodsData.name\"\r\n                   placeholder=\"请输入群组名称\"></com-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"onSubmit('goodsData')\">保存</el-button>\r\n        <el-button size=\"small\" @click=\"resetForm('goodsData')\">取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import VeUpload from 'src/components/ve-upload-image'\r\n  // import VeUpload from 'src/components/ve-upload-group'\r\n\r\n  export default {\r\n    name: 'info',\r\n    created () {\r\n\r\n    },\r\n    components: {\r\n      VeUpload\r\n    },\r\n    computed: {\r\n      defaultImg () {\r\n        return this.poster ? `${this.$imgHost}/${this.poster}` : ''\r\n      }\r\n    },\r\n    data () {\r\n      let valiName = (rule, value, callback) => {\r\n        let timer\r\n        if (timer) return\r\n        timer = setTimeout(() => {\r\n          clearTimeout(timer)\r\n          timer = null\r\n          if (value) {\r\n            if (value.gbLength() < rule.min) {\r\n              return callback(new Error('商品名称过短'))\r\n            } else if (value.gbLength() >= rule.max) {\r\n              for (let attr in this[rule.obj]) {\r\n                if (attr === rule.field) {\r\n                  this[rule.obj][attr] = this[rule.obj][attr].slice(0, rule.max)\r\n                  return callback()\r\n                }\r\n              }\r\n            } else {\r\n              callback()\r\n            }\r\n          } else {\r\n            return callback(new Error('商品名称不能为空'))\r\n          }\r\n        }, 500)\r\n      }\r\n      let valicxjg = (rule, value, callback) => {\r\n        let maxV = this[rule.obj].ysjg\r\n        if (value && value < 0) {\r\n          return callback(new Error('商品促销价格不能小于0'))\r\n        } else if (value && maxV && value > maxV) {\r\n          return callback(new Error('商品促销价格不能大于原始价格'))\r\n        } else if (value && !maxV) {\r\n          return callback(new Error('请先填写原始价格'))\r\n        } else {\r\n          return callback()\r\n        }\r\n      }\r\n      let valiUpload = (rule, value, callback) => {\r\n        let num = 0\r\n        this[rule.obj].upload_list.map((item) => {\r\n          if (item.name && item.host) {\r\n            num += 1\r\n          }\r\n        })\r\n        if (num > 0) {\r\n          return callback()\r\n        } else {\r\n          return callback(new Error('请上传图片'))\r\n        }\r\n      }\r\n      return {\r\n        errTitle: '',\r\n        upload_list: [{}],\r\n        goodsData: {\r\n          name: '',\r\n          title: '',\r\n          ysjg: '',\r\n          cxjg: '',\r\n          url: '',\r\n          upload_list: [{}]\r\n        },\r\n        uploadImgErrorMsg: '',\r\n        rules: {\r\n          title: [\r\n            { required: true, validator: valiName, min: 3, max: 20, trigger: 'change,blur', obj: 'goodsData' }\r\n          ],\r\n          ysjg: [\r\n            { required: true, type: 'number', message: '请输入原始价格', trigger: 'blur' },\r\n            { type: 'number', min: 0, max: 999999, message: '原始价格应大于0小于999999', trigger: 'blur' }\r\n          ],\r\n          cxjg: [\r\n            { validator: valicxjg, type: 'number', min: 0, max: 999999, trigger: 'blur', obj: 'goodsData' }\r\n          ],\r\n          url: [\r\n            { required: true, type: 'url', message: '请输入商品链接', trigger: 'blur' },\r\n            { min: 0, max: 300, type: 'url', message: '商品链接应大于0小于300', trigger: 'blur' }\r\n          ],\r\n          upload_list: [\r\n            { required: true, validator: valiUpload, trigger: 'blur', obj: 'goodsData' }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      add_upload () {\r\n        this.goodsData.upload_list.push({})\r\n      },\r\n      onSubmit (formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            console.log(this.goodsData)\r\n            alert('submit!')\r\n          } else {\r\n            console.log('error submit!!')\r\n            return false\r\n          }\r\n        })\r\n      },\r\n      resetForm (formName) {\r\n        this.$refs[formName].resetFields()\r\n      },\r\n      uploadImgSuccess (data) {\r\n        console.log(data)\r\n        this.goodsData.upload_list[data.nowIndex] = {\r\n          name: data.name,\r\n          host: data.host\r\n        }\r\n        console.log(this.goodsData)\r\n      },\r\n      uploadError (data) {\r\n        console.log(data)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  #goods-info {\r\n    padding: 40px 100px;\r\n    /deep/ {\r\n      header{\r\n        padding: 30px 0;\r\n        line-height: 30px;\r\n      }\r\n      .el-form {\r\n        .el-form-item:nth-of-type(1) {\r\n          .el-form-item__content {\r\n            width: 560px;\r\n          }\r\n        }\r\n        .el-form-item:nth-of-type(2), .el-form-item:nth-of-type(3) {\r\n          width: 400px;\r\n        }\r\n        .inupt_textarea {\r\n          width: 500px;\r\n          height: 100px;\r\n          .limit.area {\r\n            right: 12px;\r\n            bottom: 10px;\r\n          }\r\n        }\r\n        .inupt_text {\r\n          width: 500px;\r\n        }\r\n        .a_unit {\r\n          overflow: hidden;\r\n          width: 200px;\r\n          .el-input {\r\n            width: 150px;\r\n            float: left;\r\n          }\r\n          span {\r\n            display: inline-block;\r\n            width: 40px;\r\n            float: right;\r\n            text-align: left;\r\n          }\r\n        }\r\n        .slot_inp_b {\r\n          .el-input__inner {\r\n            padding-right: 60px;\r\n          }\r\n        }\r\n        .el-input-group__append {\r\n          width: 60px;\r\n          transform: translateX(-61px);\r\n          text-align: center;\r\n          border: transparent;\r\n          background-color: transparent;\r\n          padding: 0;\r\n        }\r\n      }\r\n      .upload_box {\r\n        .ve-upload-box {\r\n          width: 21%;\r\n          margin: auto 20px auto 0;\r\n          display: inline-block;\r\n          .com-upload {\r\n            width: 100%;\r\n            .upload-file-box {\r\n              width: 100%;\r\n              span {\r\n                display: inline-block;\r\n                margin: auto 20px;\r\n                color: #cccccc;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        > span {\r\n          font-size: 30px;\r\n          transform: translateY(-60px);\r\n          color: #999999\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=5ceb96de&scoped=true&\"\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./info.vue?vue&type=style&index=0&id=5ceb96de&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ceb96de\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\work\\\\saas营销\\\\fe_management\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5ceb96de', component.options)\n    } else {\n      api.reload('5ceb96de', component.options)\n    }\n    module.hot.accept(\"./info.vue?vue&type=template&id=5ceb96de&scoped=true&\", function () {\n      api.rerender('5ceb96de', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/sales-tools/recommend-goods/info.vue\"\nexport default component.exports"],"sourceRoot":""}