{"version":3,"sources":["webpack:///./src/pages/live-mager/email/edit-step-one.vue?9a7a","webpack:///./src/pages/live-mager/email/email-template/email-temp-list.js","webpack:///./src/pages/live-mager/email/edit-step-one.vue?b94a","webpack:///src/pages/live-mager/email/edit-step-one.vue","webpack:///./src/pages/live-mager/email/edit-step-one.vue","webpack:///./src/pages/live-mager/css/live.scss?0d0b","webpack:///./src/pages/live-mager/email/edit-step-one.vue?72ec"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","keydown","$event","canPass","click","goBack","_v","siteEnabled","attrs","label","model","value","urlType","callback","$$v","expression","_e","_m","img-edit","pull-msg","isPull","email","content","$set","recoverDefault","_l","emailList","emailItem","idx","class","temp-item","fl","active","emailTemplateId","stopPropagation","changeTemp","style","backgroundColor","cover","_s","title","directives","name","rawName","testEmailShow","header","type","width","handleClick","emailHandleClick","testEmailAddress","error-tips","emailError","maxLength","placeholder","update:value","nativeOn","keyup","_k","keyCode","key","sendTestEmail","slot","testEmailCount","staticStyle","clickSendTestEmail","nextEmail","default-button","margin-fl","fr","disabled","isDisabled","saveEmail","_withStripped","email_temp_list","isDefault","email_edit_step_onevue_type_script_lang_js_","components","VeHtml5Editer","ve_html5_editer","veMsgTips","ve_msg_tips","data","isHistory","activityId","emailInviteId","desc","senderName","PC_HOST","location","protocol","computed","extends_default","Object","vuex_esm","emailInfo","state","beforeRouteEnter","to","from","next","vm","queryEmailTemp","initPage","beforeRouteLeave","$messageBox","cancelText","confirmText","e","action","watch","handler","newVal","immediate","dealWithEmailUrl","created","methods","storeEmailInfo","mutation_types","_this","querySite","st","setTimeout","clearTimeout","queryId","$route","params","id","emailId","query","queryEmailInfo","$router","go","_this2","$post","activity_service","GET_SITE_DATA","then","res","enabled","_this3","POST_TEST_EMAIL_INFO","_this4","joinLink","$nextTick","dom","document","getElementById","href","_this5","$get","GET_EMAIL_INFO","_this6","_this7","RegExp","test","POST_SEND_TEST_EMAIL_INFO","receiverEmail","$toast","autoClose","_this8","POST_SAVE_EMAIL_INFO","replace","push","_this9","_this10","i","length","emailObj","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_live_scss_vue_type_style_index_0_id_f4e271ae_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_step_one_vue_vue_type_style_index_1_id_f4e271ae_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"static/js/16.8a08b8c7.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"edit-step-box\",\n      on: {\n        keydown: function($event) {\n          _vm.canPass = false\n        }\n      }\n    },\n    [\n      _c(\"header\", { staticClass: \"email-header\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"back-btn-email\", on: { click: _vm.goBack } },\n          [_c(\"i\", { staticClass: \"iconfont icon-jiantou\" })]\n        ),\n        _vm._v(\" \"),\n        _c(\"span\", [_vm._v(\"步骤1 邮件内容\")])\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"border-box\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"add-email-link\" },\n          [\n            _vm._v(\"\\n      【进入活动】按钮链接：\\n      \"),\n            _vm.siteEnabled == \"Y\"\n              ? _c(\n                  \"el-radio\",\n                  {\n                    attrs: { label: \"WEB\" },\n                    model: {\n                      value: _vm.urlType,\n                      callback: function($$v) {\n                        _vm.urlType = $$v\n                      },\n                      expression: \"urlType\"\n                    }\n                  },\n                  [_vm._v(\"活动官网\")]\n                )\n              : _vm._e(),\n            _vm._v(\" \"),\n            _c(\n              \"el-radio\",\n              {\n                attrs: { label: \"GUIDE\" },\n                model: {\n                  value: _vm.urlType,\n                  callback: function($$v) {\n                    _vm.urlType = $$v\n                  },\n                  expression: \"urlType\"\n                }\n              },\n              [_vm._v(\"活动引导页\")]\n            ),\n            _vm._v(\" \"),\n            _vm._m(0)\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"edit-content clearfix\" }, [\n          _c(\n            \"div\",\n            { staticClass: \"edit-content-box fl\" },\n            [\n              _c(\"ve-html5-editer\", {\n                attrs: { \"img-edit\": true, \"pull-msg\": _vm.isPull },\n                model: {\n                  value: _vm.email.content,\n                  callback: function($$v) {\n                    _vm.$set(_vm.email, \"content\", $$v)\n                  },\n                  expression: \"email.content\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"edit-content-temp fr\" }, [\n            _c(\"div\", { staticClass: \"temp-title\" }, [\n              _c(\"span\", [_vm._v(\"选择模板\")]),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"default-button fr\",\n                  on: { click: _vm.recoverDefault }\n                },\n                [_vm._v(\"恢复默认\\n          \")]\n              )\n            ]),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"temp-boxs\" },\n              _vm._l(_vm.emailList, function(emailItem, idx) {\n                return _c(\n                  \"div\",\n                  {\n                    class: {\n                      \"temp-item\": true,\n                      fl: true,\n                      active:\n                        emailItem.emailTemplateId == _vm.email.emailTemplateId\n                    },\n                    on: {\n                      click: function($event) {\n                        $event.stopPropagation()\n                        _vm.changeTemp(idx)\n                      }\n                    }\n                  },\n                  [\n                    _c(\"div\", {\n                      staticClass: \"temp-item-box\",\n                      style: { backgroundColor: emailItem.cover }\n                    }),\n                    _vm._v(\" \"),\n                    _c(\"span\", { staticClass: \"temp-item-title\" }, [\n                      _vm._v(_vm._s(emailItem.title))\n                    ])\n                  ]\n                )\n              })\n            )\n          ])\n        ])\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"message-box\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.testEmailShow,\n              expression: \"testEmailShow\"\n            }\n          ],\n          attrs: { header: \"邮件测试发送\", type: \"prompt\", width: \"450px\" },\n          on: { handleClick: _vm.emailHandleClick }\n        },\n        [\n          _c(\n            \"div\",\n            { staticClass: \"email-box\" },\n            [\n              _c(\"span\", { staticClass: \"test-tip\" }, [\n                _vm._v(\"每天只允许发送5条测试邮件：\")\n              ]),\n              _vm._v(\" \"),\n              _c(\"com-input\", {\n                attrs: {\n                  value: _vm.testEmailAddress,\n                  \"error-tips\": _vm.emailError,\n                  maxLength: 40,\n                  placeholder: \"输入邮件地址\"\n                },\n                on: {\n                  \"update:value\": function($event) {\n                    _vm.testEmailAddress = $event\n                  }\n                },\n                nativeOn: {\n                  keyup: function($event) {\n                    if (\n                      !(\"button\" in $event) &&\n                      _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                    ) {\n                      return null\n                    }\n                    return _vm.sendTestEmail($event)\n                  }\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            {\n              staticClass: \"step-one-btns\",\n              attrs: { slot: \"bottom\" },\n              slot: \"bottom\"\n            },\n            [\n              _c(\"span\", [_vm._v(\"邮件限额：\" + _vm._s(_vm.testEmailCount))]),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"primary-button\",\n                  on: { click: _vm.sendTestEmail }\n                },\n                [_vm._v(\"立即发送\\n      \")]\n              )\n            ]\n          )\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"email-bottom\" }, [\n        _c(\n          \"button\",\n          {\n            staticClass: \"default-button fl\",\n            staticStyle: { width: \"auto\" },\n            on: { click: _vm.clickSendTestEmail }\n          },\n          [_vm._v(\"发送测试邮件\\n    \")]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"button\",\n          { staticClass: \"primary-button fr\", on: { click: _vm.nextEmail } },\n          [_vm._v(\"下一步\\n    \")]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"button\",\n          {\n            class: {\n              \"default-button\": true,\n              \"margin-fl\": true,\n              fr: true,\n              disabled: _vm.isDisabled\n            },\n            on: { click: _vm.saveEmail }\n          },\n          [_vm._v(\"保存草稿\\n\\n    \")]\n        )\n      ])\n    ],\n    1\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"tip-box\" }, [\n      _c(\"i\", [_vm._v(\"?\")]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"msg\" }, [\n        _c(\"p\", [\n          _vm._v(\n            \"1.收件人在点击【进入活动】按钮后，可跳转至活动官网或活动引导页。实现向指定页面引流。\"\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"p\", [\n          _vm._v(\"2.如果您没有开启活动官网功能，在此处只显示活动引导页选项。\")\n        ])\n      ])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","export default [\r\n  {\r\n    emailTemplateId: 1,\r\n    isDefault: 'Y',\r\n    title: '一封信',\r\n    cover: '//static.vhallyun.com/mp-prod/3c/43/3c436a937213cea12702957b8951912e.jpg',\r\n    content: '<div style=\"width: 100%;background-color: #f5f5f5;word-break: break-word;\"><div style=\"width: 750px;margin: 0 auto;padding: 50px 0;background-color: #fff;\"><table width=\"750\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"display: block;margin: 0 auto;background-color: #fff;\"><tr><td colspan=\"2\" style=\"text-align: center;\"><div style=\"margin: 10px auto;text-align: center;\"><img width=\"120\" height=\"120\" title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"https://static.vhallyun.com/mp-prod/0a/e7/0ae7e432481e761b263b5e78b0c9f886.jpg\"></div></td></tr><tr><td colspan=\"2\" style=\"text-align: center;\"><h3 style=\"margin: 20px 0;font-size:26px;color: #222222;\">在这里填写你的邮件标题</h3><p style=\"padding: 0 0 30px 0;font-size:18px;color: #555555;\">在这里填写邮件副标题</p></td></tr><tr><td colspan=\"2\" style=\"padding: 0 50px;text-align: center;\"><div style=\"height: 1px;background-color: #e2e2e2;margin-top: 2px;\"></div></td></tr><tr><td colspan=\"2\" style=\"padding: 0 50px;\"><h3 style=\"margin: 30px 0;font-size:18px;color: #222222;\">伙伴们好</h3><p style=\"font-size: 14px;margin-bottom:20px;\">我是微吼的产品经理Ace，你现在看到的是我们为你精心准备的邮件模板，在这个位置你可以编辑邀请函的正文，并使用我们的排版工具美化你的邮件版式，我们希望你可以通过丰富的模板获得更加优质良好的产品体验。</p><p style=\"font-size: 14px;;margin-bottom:20px;\">在邮件编辑中，你为文字添加超链接，可以尝试按照我们建议的图片尺寸添加你想要展现在邮件中的图片，让你的邮件内容更加生动，赋有阅读性。</p><p style=\"font-size: 14px;\">在此邮件模板中，我们还为你准备了资料介绍区域和活动信息展示区域，希望我们的努力可以帮你节约时间，更有效率的完成你的工作。</p><br/><div style=\"height: 1px;background-color: #e0e0e0;margin-top: 2px;\"></div><br/></td></tr><tr><td colspan=\"2\" style=\"padding: 0 50px;\"><h3 style=\"margin: 20px 0;text-align: left;\">在这里填写你的邮件标题</h3></td></tr><tr><td style=\"text-align: left;padding: 0 10px 30px 50px;\"><h4 style=\"margin: 0 0 20px 0;\">主讲人姓名/关键信息</h4><p style=\"font-size: 14px;padding: 0;margin: 5px 0;\">备注区域，可以添加活动备注、活动地点、注意事项等…</p><p style=\"font-size: 14px;padding: 0;margin: 5px 0;\">简练且有效率的表达，可以让你的活动更吸引人</p></td><td style=\"padding: 0 50px 30px 0;text-align: right;width: 150px;\"><img width=\"120\" height=\"120\" title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"https://static.vhallyun.com/mp-prod/3d/64/3d64ad7096388d2b638984e278d1d44e.jpg\"></td></tr><tr style=\"background-color: #efefef;\"><td style=\"padding: 30px 50px;text-align: left;\"><p style=\"font-size: 18px;color: #222;line-height:25px;margin: 0;padding: 0;\">此处可填写活动开始时间</p><p style=\"font-size: 18px;color: #222;line-height:25px;margin:10px 0 0 0;padding:0;\">备注区域，可以添加活动备注、活动地点、注意事项等…</p></td><td style=\"padding: 0 50px 10px 0;text-align: right;width: 170px;\"><a id=\"joinLinkId\" contenteditable=\"false\" style=\"display:inline-block;width: 120px;padding: 10px 0;font-size: 14px;border-radius: 20px;background-color:#FFD021;text-align: center;color: #222;text-decoration: none;\"              href=\"$$activity$$\">进入活动</a></td></tr><tr><td colspan=\"2\" style=\"text-align: left;border-radius: 5px;padding-left: 50px;\"><p style=\"font-size: 20px;margin: 20px 0;\">活动信息</p></td></tr><tr><td style=\"text-align: left;border-radius: 5px;padding-left: 50px;\"><p style=\"font-size: 14px;color:#222222;margin: 0;\">主办方：在这里可以填写主办方的名称</p><p style=\"font-size: 14px;color:#222222;margin: 0;\">活动官网：https://www.naiveblue.com/</p><p style=\"font-size: 14px;color:#222222;margin: 0;\">活动链接：https://www.naiveblue.com/</p></td><td style=\"text-align: right;width: 150px;border-radius: 5px;padding-right: 50px;\"><img width=\"100\" height=\"100\" title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"https://static.vhallyun.com/mp-prod/f8/25/f8252e654d58c16752b568000e4ea5af.jpg\"></td></tr><tr><td colspan=\"2\" style=\"padding:20px 0;\"><div style=\"height: 1px;background-color: #e2e2e2;margin-top: 2px;\"></div></td></tr><tr><td colspan=\"2\" style=\"text-align: center;\"><div style=\"font-size: 16px;color: #222222;margin-bottom: 15px;\">邮件结语部分</div></td></tr><tr><td colspan=\"2\" style=\"padding: 0 50px;\"><div style=\"font-size: 12px;color: #555555;text-align: left;\">此处可以添加感谢、致意等等与情感、礼仪相关的文字，谦卑和礼貌的态度可以让更多的人进入到活动相关页面了解详情，有助于提升邮件营销的效果，增强获客转化率</div></td></tr></table></div></div>'\r\n  },\r\n  {\r\n    emailTemplateId: 2,\r\n    isDefault: 'N',\r\n    title: '展示柜',\r\n    cover: '//static.vhallyun.com/mp-prod/35/8e/358e010f853ba2732f79e18c8387cb4b.jpg',\r\n    content: '<div style=\"width: 100%;background-color: #f5f5f5;word-break: break-word;\"><div style=\"width: 750px;margin: 0 auto;padding: 50px 0;background-color: #fff;\"><table width=\"750\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"display: block;margin: 0 auto;background-color: #fff;\"><tr><td colspan=\"3\" style=\"text-align: center;\"><div style=\"margin: 10px auto;text-align: center;\"><img width=\"120\" height=\"120\"  title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"https://static.vhallyun.com/mp-prod/0a/e7/0ae7e432481e761b263b5e78b0c9f886.jpg\"></div></td></tr><tr><td colspan=\"3\" style=\"text-align: center;\"><h3 style=\"margin: 20px 0;font-size:26px;color: #222222;\">在这里填写你的邮件标题</h3><p style=\"padding: 0 0 20px 0;font-size:18px;color: #555555;\">在这里填写邮件副标题</p></td></tr><tr><td colspan=\"3\" ><img width=\"750\" height=\"300\" title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"https://static.vhallyun.com/mp-prod/f2/01/f2017a8dbb1008be6ea196fd1f57ad67.jpg\"></td></tr><tr><td colspan=\"3\" style=\"padding: 0 50px;\" ><h3 style=\"font-size: 18px;color:#222;margin: 40px 0 30px 0;\">伙伴们好</h3><p style=\"font-size: 14px;color:#222;\">我是微吼的产品经理Ace，你现在看到的是我们为你精心准备的邮件模板，在这个位置你可以编辑邀请函的正文，并使用我们的排版工具美化你的邮件版式，我们希望你可以通过丰富的模板获得更加优质良好的产品体验。</p><p style=\"font-size: 14px;color:#222;\">在邮件编辑中，你为文字添加超链接，可以尝试按照我们建议的图片尺寸添加你想要展现在邮件中的图片，让你的邮件内容更加生动，赋有阅读性。</p><p style=\"font-size: 14px;color:#222;\">在此邮件模板中，我们还为你准备了资料介绍区域和活动信息展示区域，希望我们的努力可以帮你节约时间，更有效率的完成你的工作。</p></td></tr><tr><td colspan=\"3\" style=\"text-align: center;line-height: 70px;\"><p style=\"text-align: center;color: #4B5AFE;font-size: 16px;\">了解活动详情 ></p></td></tr><tr><td width=\"33.333%\" style=\"text-align: center;padding: 10px 10px 20px 50px;\"><p><img width=\"100%\" title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"https://static.vhallyun.com/mp-prod/ad/d2/add2ff41ed467ef867d67f7ce4439a0c.jpg\"><p style=\"text-align: center;color: #4B5AFE;font-size: 16px;line-height: 40px;\">了解详情 ></p></p></td><td width=\"33.333%\" style=\"text-align: center;padding: 10px 30px 20px 30px;\"><p><img width=\"100%\" title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"https://static.vhallyun.com/mp-prod/ad/d2/add2ff41ed467ef867d67f7ce4439a0c.jpg\"><p style=\"text-align: center;color: #4B5AFE;font-size: 16px;line-height: 40px;\">了解详情 ></p></p></td><td width=\"33.333%\" style=\"text-align: center;padding: 10px 50px 20px 10px;\"><p><img width=\"100%\" title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"//static.vhallyun.com/mp-prod/ad/d2/add2ff41ed467ef867d67f7ce4439a0c.jpg\"><p style=\"text-align: center;color: #4B5AFE;font-size: 16px;line-height: 40px;\">了解详情 ></p></p></td></tr><tr><td colspan=\"3\" style=\"text-align: center;\"><br/><a id=\"joinLinkId\" contenteditable=\"false\" style=\"display:inline-block;width: 200px;padding: 10px 0;font-size: 14px;border-radius: 20px;background-color:#FFD021;text-align: center;color: #222;text-decoration: none;\" href=\"$$activity$$\">进入活动</a><br/><br/><br/><br/></td></tr></table></div></div>'\r\n  },\r\n  {\r\n    emailTemplateId: 3,\r\n    isDefault: 'N',\r\n    title: '瀑布',\r\n    cover: '//static.vhallyun.com/mp-prod/15/d7/15d7f722360e350b743f42dbf203d436.jpg',\r\n    content: '<div style=\"width: 100%;background-color: #f5f5f5;word-break: break-word;\"><div style=\"width: 750px;margin: 0 auto;padding: 50px 0;background-color: #fff;\"><table width=\"750\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"display: block;margin: 0 auto;background-color: #fff;\"><tr><td colspan=\"3\" style=\"text-align: center;\"><p style=\"font-size: 18px;color: #555555;\">此处建议填写活动时间，例如：8月25日的夜晚，等你一起</p><p style=\"font-size: 16px;color: #4B5AFE;line-height: 30px;margin-bottom: 30px;\">了解活动详情 ></p></td></tr><tr><td colspan=\"3\" style=\"text-align: center;\"><img width=\"750\" height=\"1090\" title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"https://static.vhallyun.com/mp-prod/71/58/7158bd36956116d3e5926e2dbc4d8fb0.jpg\"></td></tr><tr><td colspan=\"3\" style=\"text-align: center;\"><br/><br/><a id=\"joinLinkId\" contenteditable=\"false\" style=\"display:inline-block;width: 200px;padding: 10px 0;font-size: 14px;border-radius: 20px;background-color:#FFD021;text-align: center;color: #222;text-decoration: none;\"                 href=\"$$activity$$\">进入活动</a><br/><br/></td></tr><tr><td colspan=\"3\" style=\"padding: 0 50px;\"><div style=\"height: 1px;margin: 50px 0 30px 0;background-color: #e2e2e2;\"></div><p style=\"font-size: 16px;color: #222222;text-align: center;\">邮件结语部分</p><div style=\"font-size: 14px;color: #555555;text-align: left;\">希望本期 微吼知客 内容可以帮助你和你的团队快速进入协作状态，使用过程中有任何疑问，都可以在 帮助中心 找到需要的解答。</div><br/></td></tr></table></div></div>'\r\n  },\r\n  {\r\n    emailTemplateId: 4,\r\n    isDefault: 'N',\r\n    title: '超市',\r\n    cover: '//static.vhallyun.com/mp-prod/e9/13/e913ff63635856cce1fb2c8a18906040.jpg',\r\n    content: '<div style=\"width: 100%;background-color: #f5f5f5;word-break: break-word;\"><div style=\"width: 750px;margin: 0 auto;padding: 50px 0;background-color: #fff;\"><table width=\"750\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"display: block;margin: 0 auto;background-color: #fff;\"><tr><td colspan=\"2\" style=\"text-align: center;\"><div style=\"margin: 10px auto;text-align: center;\"><img width=\"120\" height=\"120\"  title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"https://static.vhallyun.com/mp-prod/0a/e7/0ae7e432481e761b263b5e78b0c9f886.jpg\"></div></td></tr><tr><td colspan=\"2\" style=\"text-align: center;\"><h3 style=\"margin: 20px 0;font-size:26px;color: #222222;\">在这里填写你的邮件标题</h3><p style=\"padding: 0 0 20px 0;font-size:18px;color: #555555;\">在这里填写邮件副标题</p></td></tr><tr><td style=\"text-align: center;\"><img width=\"750\" height=\"400\" title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"https://static.vhallyun.com/mp-prod/50/41/50417f7c9499a3ee98546c98bf37bb88.jpg\"><br/><br/><br/><a id=\"joinLinkId\" contenteditable=\"false\" style=\"display:inline-block;width: 200px;padding: 10px 0;font-size: 14px;border-radius: 20px;background-color:#FFD021;text-align: center;color: #222;text-decoration: none;\"                 href=\"$$activity$$\">进入活动</a><br/><br/></td></tr><tr><td style=\"padding: 20px 0;\"><table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"50%\" style=\"padding-left: 50px;\"><img width=\"323\" height=\"182\" title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"https://static.vhallyun.com/mp-prod/ac/a5/aca516439171c5fba814b4334cf1c72c.jpg\"></td><td width=\"50%\" style=\"padding: 0 50px 0 20px;text-align: left;\"><div style=\"height: 100%;vertical-align: top;\"><h4 style=\"text-align: left;padding: 0;margin: 0;\">此处可以填写商品名称</h4><p style=\"font-size: 14px;color: #222222;\">此处可以填写一些商品的简要描述，商品特性，核心参数等基础资料。也可以考虑加入一些与品牌相关的商品故事</p><p style=\"font-size: 16px;color: #4B5AFE;line-height: 40px;\">了解商品详情 ></p></div></td></tr></table></td></tr><tr><td style=\"padding: 20px 0;\"><table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"50%\" style=\"padding-left: 50px;\"><img width=\"323\" height=\"182\" title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"https://static.vhallyun.com/mp-prod/ac/a5/aca516439171c5fba814b4334cf1c72c.jpg\"></td><td width=\"50%\" style=\"padding: 0 50px 0 20px;text-align: left;\"><div style=\"height: 100%;vertical-align: top;\"><h4 style=\"text-align: left;padding: 0;margin: 0;\">此处可以填写商品名称</h4><p style=\"font-size: 14px;color: #222222;\">此处可以填写一些商品的简要描述，商品特性，核心参数等基础资料。也可以考虑加入一些与品牌相关的商品故事</p><p style=\"font-size: 16px;color: #4B5AFE;line-height: 40px;\">了解商品详情 ></p></div></td></tr></table></td></tr><tr><td style=\"padding: 20px 0;\"><table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td width=\"50%\" style=\"padding-left: 50px;\"><img width=\"323\" height=\"182\" title=\"双击改变图片尺寸\" style=\"cursor: pointer;\" src=\"https://static.vhallyun.com/mp-prod/ac/a5/aca516439171c5fba814b4334cf1c72c.jpg\"></td><td width=\"50%\" style=\"padding: 0 50px 0 20px;text-align: left;\"><div style=\"height: 100%;vertical-align: top;\"><h4 style=\"text-align: left;padding: 0;margin: 0;\">此处可以填写商品名称</h4><p style=\"font-size: 14px;color: #222222;\">此处可以填写一些商品的简要描述，商品特性，核心参数等基础资料。也可以考虑加入一些与品牌相关的商品故事</p><p style=\"font-size: 16px;color: #4B5AFE;line-height: 40px;\">了解商品详情 ></p></div></td></tr></table></td></tr></table></div></div>'\r\n  }\r\n]\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-step-one.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-step-one.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"edit-step-box\"\r\n       @keydown=\"canPass = false\">\r\n    <header class=\"email-header\">\r\n      <div class=\"back-btn-email\"\r\n           @click=\"goBack\">\r\n        <i class=\"iconfont icon-jiantou\"></i>\r\n      </div>\r\n      <span>步骤1 邮件内容</span>\r\n    </header>\r\n    <div class=\"border-box\">\r\n      <div class=\"add-email-link\">\r\n        【进入活动】按钮链接：\r\n        <el-radio v-if=\"siteEnabled=='Y'\" v-model=\"urlType\" label=\"WEB\">活动官网</el-radio>\r\n        <el-radio v-model=\"urlType\" label=\"GUIDE\">活动引导页</el-radio>\r\n        <div class=\"tip-box\">\r\n          <i>?</i>\r\n          <div class=\"msg\">\r\n            <p>1.收件人在点击【进入活动】按钮后，可跳转至活动官网或活动引导页。实现向指定页面引流。</p>\r\n            <p>2.如果您没有开启活动官网功能，在此处只显示活动引导页选项。</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"edit-content clearfix\">\r\n        <div class=\"edit-content-box fl\">\r\n          <ve-html5-editer v-model=\"email.content\" :img-edit=\"true\" :pull-msg=\"isPull\"></ve-html5-editer>\r\n        </div>\r\n        <div class=\"edit-content-temp fr\">\r\n          <div class=\"temp-title\">\r\n            <span>选择模板</span>\r\n            <button class=\"default-button fr\"\r\n                    @click=\"recoverDefault\">恢复默认\r\n            </button>\r\n          </div>\r\n          <div class=\"temp-boxs\">\r\n            <div v-for=\"(emailItem,idx) in emailList\"\r\n                 :class=\"{'temp-item':true,fl:true,active:emailItem.emailTemplateId==email.emailTemplateId}\"\r\n                 @click.stop=\"changeTemp(idx)\">\r\n              <div class=\"temp-item-box\"\r\n                   :style=\"{backgroundColor:emailItem.cover}\"></div>\r\n              <span class=\"temp-item-title\">{{emailItem.title}}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 发送测试邮件 -->\r\n    <message-box v-show=\"testEmailShow\"\r\n                 header=\"邮件测试发送\"\r\n                 type=\"prompt\"\r\n                 width=\"450px\"\r\n                 @handleClick=\"emailHandleClick\">\r\n      <div class=\"email-box\">\r\n        <span class=\"test-tip\">每天只允许发送5条测试邮件：</span>\r\n        <com-input :value.sync=\"testEmailAddress\"\r\n                   :error-tips=\"emailError\"\r\n                   :maxLength=\"40\"\r\n                   @keyup.enter.native=\"sendTestEmail\"\r\n                   placeholder=\"输入邮件地址\"/>\r\n      </div>\r\n      <div class=\"step-one-btns\"\r\n           slot=\"bottom\">\r\n        <span>邮件限额：{{testEmailCount}}</span>\r\n        <button class=\"primary-button\"\r\n                @click=\"sendTestEmail\">立即发送\r\n        </button>\r\n      </div>\r\n    </message-box>\r\n    <div class=\"email-bottom\">\r\n      <button class=\"default-button fl\"\r\n              @click=\"clickSendTestEmail\" style=\"width: auto;\">发送测试邮件\r\n      </button>\r\n      <button class=\"primary-button fr\"\r\n              @click=\"nextEmail\">下一步\r\n      </button>\r\n      <button :class=\"{'default-button':true, 'margin-fl':true, fr:true,disabled:isDisabled}\"\r\n              @click=\"saveEmail\">保存草稿\r\n\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import veMsgTips from 'src/components/ve-msg-tips'\r\n  import activityService from 'src/api/activity-service'\r\n  import VeHtml5Editer from 'src/components/ve-html5-editer'\r\n  import emailTempList from './email-template/email-temp-list'\r\n  import {\r\n    mapState,\r\n    mapMutations\r\n  } from 'vuex'\r\n  import * as types from '../../../store/mutation-types'\r\n\r\n  export default {\r\n    name: 'edit-step-one',\r\n    components: {VeHtml5Editer, veMsgTips},\r\n    data () {\r\n      return {\r\n        testEmailShow: false,\r\n        testEmailAddress: '',\r\n        testEmailCount: 0,\r\n        emailError: '',\r\n        emailList: [],\r\n        isHistory: false,\r\n        urlType: '',\r\n        isPull: false,\r\n        email: {\r\n          activityId: '',\r\n          emailInviteId: '',\r\n          emailTemplateId: 1,\r\n          title: '',\r\n          content: '',\r\n          desc: '',\r\n          urlType: '',\r\n          senderName: ''\r\n        },\r\n        isDisabled: false,\r\n        canPass: true,\r\n        siteEnabled: false,\r\n        PC_HOST: location.protocol + process.env.PC_HOST\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState('liveMager', {\r\n        emailInfo: state => state.emailInfo\r\n      })\r\n    },\r\n    /* 路由守卫，在路由跳转前执行，此时组件实例还没被创建 */\r\n    beforeRouteEnter (to, from, next) {\r\n      next(vm => {\r\n        if (from.name === 'emailEditTwo') {\r\n          /* 表示第二步进入第一步 */\r\n          vm.isHistory = true\r\n          vm.queryEmailTemp()\r\n        }\r\n        vm.initPage()\r\n      })\r\n    },\r\n    /* 路由守卫，离开当前页面之前被调用 */\r\n    beforeRouteLeave (to, from, next) {\r\n      if (this.canPass) {\r\n        next(true)\r\n        return false\r\n      }\r\n      this.$messageBox({\r\n        header: '提示',\r\n        width: '400px',\r\n        content: '是否放弃当前编辑？',\r\n        cancelText: '否',\r\n        confirmText: '是',\r\n        handleClick: (e) => {\r\n          if (e.action === 'confirm') {\r\n            next(true)\r\n          } else {\r\n            next(false)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    watch: {\r\n      emailInfo: {\r\n        handler (newVal) {\r\n          this.email = {\r\n            ...this.email,\r\n            ...newVal\r\n          }\r\n        },\r\n        immediate: true\r\n      },\r\n      urlType (newVal) {\r\n        this.email.urlType = newVal\r\n        this.dealWithEmailUrl()\r\n      },\r\n      testEmailAddress () {\r\n        this.emailError = ''\r\n      }\r\n    },\r\n    created () {\r\n    },\r\n    methods: {\r\n      ...mapMutations('liveMager', {\r\n        storeEmailInfo: types.EMAIL_INFO\r\n      }),\r\n      initPage () {\r\n        this.querySite()\r\n        if (this.isHistory && this.emailInfo.content) {\r\n          // 异步执行，触发组件props更新\r\n          let st = setTimeout(() => {\r\n            clearTimeout(st)\r\n            this.email = {\r\n              ...this.emailInfo\r\n            }\r\n          }, 0)\r\n          return\r\n        }\r\n        const queryId = this.$route.params.id\r\n        if (!queryId) {\r\n          this.$router.go(-1)\r\n          return\r\n        }\r\n        const emailId = this.$route.query.email\r\n        if (emailId) { // 编辑\r\n          this.email.emailInviteId = emailId\r\n          this.queryEmailInfo()\r\n        } else { // 新增\r\n          this.urlType = 'GUIDE'\r\n          this.email = {\r\n            activityId: queryId,\r\n            emailInviteId: '',\r\n            emailTemplateId: 1,\r\n            title: '',\r\n            content: '',\r\n            desc: '',\r\n            senderName: '',\r\n            urlType: this.urlType\r\n          }\r\n          this.storeEmailInfo(this.email)\r\n        }\r\n        this.queryEmailTemp()\r\n      },\r\n      querySite () {\r\n        this.$post(activityService.GET_SITE_DATA, {\r\n          activityId: this.$route.params.id\r\n        }).then((res) => {\r\n          this.siteEnabled = res.data.enabled\r\n        })\r\n      },\r\n      clickSendTestEmail () {\r\n        this.testEmailShow = true\r\n        this.$post(activityService.POST_TEST_EMAIL_INFO, {\r\n          type: 'email'\r\n        }).then((res) => {\r\n          this.canPass = true\r\n          this.testEmailCount = res.data\r\n        })\r\n      },\r\n      emailHandleClick (e) {\r\n        if (e.action === 'cancel') {\r\n          this.testEmailShow = false\r\n        }\r\n      },\r\n      dealWithEmailUrl () {\r\n        let joinLink = this.urlType === 'WEB' ? `${this.PC_HOST}site/${this.email.activityId}?refer=0` : `${this.PC_HOST}subscribe/${this.email.activityId}?refer=0`\r\n        this.$nextTick(() => {\r\n          let dom = document.getElementById('joinLinkId')\r\n          if (dom) {\r\n            dom.href = joinLink\r\n            this.isPull = !this.isPull\r\n          }\r\n        })\r\n      },\r\n      /* 查询邮件详情 */\r\n      queryEmailInfo () {\r\n        // 如果不是编辑页面就return\r\n        if (!this.email.emailInviteId) return\r\n        this.$get(activityService.GET_EMAIL_INFO, {\r\n          emailInviteId: this.email.emailInviteId\r\n        }).then((res) => {\r\n          this.email = res.data\r\n          this.urlType = this.email.urlType\r\n          this.storeEmailInfo(this.email)\r\n        })\r\n      },\r\n      queryEmailTemp () {\r\n        // this.$get(activityService.GET_EMAIL_TPL_LIST).then((res) => {\r\n        //   if (!res.data.list) return\r\n        //   this.emailList = res.data.list\r\n        //   if (!this.email.emailInviteId) { // 如果不是编辑\r\n        //     // this.email.content = this.emailList[0].content.replace('$$activity$$', `${this.PC_HOST}subscribe/${this.email.activityId}?refer=0`)\r\n        //     this.email.content = this.emailList[0].content\r\n        //     this.dealWithEmailUrl()\r\n        //   }\r\n        // })\r\n        // 增加$nextTick异步，防止vue报错\r\n        this.$nextTick(() => {\r\n          this.emailList = emailTempList\r\n          if (!this.email.emailInviteId) { // 如果不是编辑\r\n            // this.email.content = this.emailList[0].content.replace('$$activity$$', `${this.PC_HOST}subscribe/${this.email.activityId}?refer=0`)\r\n            this.email.content = this.emailList[0].content\r\n            this.dealWithEmailUrl()\r\n          }\r\n        })\r\n      },\r\n      sendTestEmail () {\r\n        if (!this.testEmailAddress) {\r\n          this.emailError = '邮箱不能为空'\r\n          return\r\n        } else {\r\n          const emailReg = new RegExp('^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$')\r\n          if (!emailReg.test(this.testEmailAddress)) {\r\n            this.emailError = '邮箱格式不正确'\r\n            return\r\n          }\r\n        }\r\n        if (!this.email.content) {\r\n          this.$messageBox({\r\n            header: '提示',\r\n            content: '邮件内容不能为空',\r\n            confirmText: '知道了',\r\n            autoClose: 10\r\n          })\r\n          return\r\n        }\r\n        this.testEmailShow = false\r\n        // this.email.content = this.email.content.replace('$$activity$$', `${this.PC_HOST}subscribe/${this.email.activityId}?refer=0`)\r\n        this.$post(activityService.POST_SEND_TEST_EMAIL_INFO, {\r\n          content: this.email.content,\r\n          receiverEmail: this.testEmailAddress\r\n        }).then((res) => {\r\n          this.canPass = true\r\n          this.$toast({\r\n            content: '发送成功，请稍后查收邮件'\r\n          })\r\n        })\r\n        // LiveHttp.sendTestEmailInfo({\r\n        //   content: this.email.content,\r\n        //   receiverEmail: this.testEmailAddress\r\n        // }).then((res) => {\r\n        //   if (res.code === 200) {\r\n        //     this.$toast({\r\n        //       header: `提示`,\r\n        //       content: '发送成功，请稍后查收邮件',\r\n        //       autoClose: 2000,\r\n        //       position: 'right-top'\r\n        //     })\r\n        //   }\r\n        // })\r\n      },\r\n      /* 保存草稿 */\r\n      saveEmail () {\r\n        this.isDisabled = true\r\n        this.canPass = true\r\n        // this.email.content = this.email.content.replace('$$activity$$', `${this.PC_HOST}subscribe/${this.email.activityId}?refer=0`)\r\n        this.$post(activityService.POST_SAVE_EMAIL_INFO, this.email).then((res) => {\r\n          // 回写邮件id\r\n          if (!this.email.emailInviteId) {\r\n            this.$router.replace({\r\n              query: {\r\n                email: res.data.emailInviteId\r\n              }\r\n            })\r\n          }\r\n          this.email.emailInviteId = res.data.emailInviteId\r\n          this.email.title = res.data.title\r\n          // 把信息保存到vuex\r\n          this.storeEmailInfo(this.email)\r\n          // this.$toast({\r\n          //   content: '保存草稿成功',\r\n          //   position: 'center'\r\n          // })\r\n          this.$router.push(`/liveMager/email/${this.email.activityId}`)\r\n        })\r\n        let st = setTimeout(() => {\r\n          clearTimeout(st)\r\n          this.isDisabled = false\r\n        }, 3000)\r\n        // LiveHttp.saveEmailInfo(this.email).then((res) => {\r\n        //   // 回写邮件id\r\n        //   this.email.emailInviteId = res.data.emailInviteId\r\n        //   this.email.title = res.data.title\r\n        //   // 把信息保存到vuex\r\n        //   this.storeEmailInfo(this.email)\r\n        //   this.$toast({\r\n        //     header: `提示`,\r\n        //     content: '保存草稿成功',\r\n        //     autoClose: 2000,\r\n        //     position: 'right-top'\r\n        //   })\r\n        // })\r\n      },\r\n      goBack () {\r\n        this.$router.go(-1)\r\n      },\r\n      nextEmail () {\r\n        this.canPass = true\r\n        this.storeEmailInfo(this.email)\r\n        // 切换到下一步\r\n        this.$router.push(`/liveMager/emailEditTwo/${this.email.activityId}?email=${this.email.emailInviteId}`)\r\n      },\r\n      /* 更换模板 */\r\n      changeTemp (idx) {\r\n        this.$messageBox({\r\n          header: '',\r\n          width: '400px',\r\n          content: '更换邮件模板会导致已编辑的内容丢失',\r\n          cancelText: '取消',\r\n          confirmText: '确认替换',\r\n          handleClick: (e) => {\r\n            if (e.action === 'confirm') {\r\n              this.email.emailTemplateId = this.emailList[idx].emailTemplateId\r\n              // this.email.content = this.emailList[idx].content.replace('$$activity$$', `${this.PC_HOST}subscribe/${this.email.activityId}?refer=0`)\r\n              this.email.content = this.emailList[idx].content\r\n              this.dealWithEmailUrl()\r\n            }\r\n          }\r\n        })\r\n      },\r\n      /* 恢复默认模板 */\r\n      recoverDefault () {\r\n        this.$messageBox({\r\n          header: '',\r\n          width: '400px',\r\n          content: '恢复默认模板会导致已编辑的内容丢失',\r\n          cancelText: '取消',\r\n          confirmText: '恢复默认',\r\n          handleClick: (e) => {\r\n            if (e.action === 'confirm') {\r\n              for (let i = 0; i < this.emailList.length; i++) {\r\n                const emailObj = this.emailList[i]\r\n                if (emailObj.emailTemplateId === this.email.emailTemplateId) {\r\n                  // this.email.content = emailObj.content.replace('$$activity$$', `${this.PC_HOST}subscribe/${this.email.activityId}?refer=0`)\r\n                  this.email.content = emailObj.content\r\n                  this.dealWithEmailUrl()\r\n                  break\r\n                }\r\n              }\r\n            }\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped src=\"../css/live.scss\">\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import 'assets/css/mixin.scss';\r\n\r\n  .edit-step-box {\r\n    min-width: 1366px;\r\n    background-color: #fff;\r\n    color: #222;\r\n    .email-header {\r\n      height: 60px;\r\n      line-height: 60px;\r\n      background-color: #ffd021;\r\n      .icon-jiantou {\r\n        font-size: 22px;\r\n        vertical-align: -2px;\r\n      }\r\n      .back-btn-email {\r\n        display: inline-block;\r\n        padding: 0 15px;\r\n        background-color: #ffda51;\r\n        line-height: 40px;\r\n        border-radius: 4px;\r\n        font-size: 18px;\r\n        text-align: center;\r\n        margin-left: 20px;\r\n        margin-right: 10px;\r\n        &:hover {\r\n          cursor: pointer;\r\n          opacity: 0.9;\r\n          color: #4b5afe;\r\n        }\r\n      }\r\n    }\r\n    .email-bottom {\r\n      height: 60px;\r\n      line-height: 60px;\r\n      border-top: 1px solid #e2e2e2;\r\n      box-sizing: border-box;\r\n      box-shadow: 0 0 4px rgba(0, 0, 0, 0.1);\r\n      padding: 0 20px;\r\n      background-color: #fff;\r\n      button {\r\n        width: 120px;\r\n        margin-top: 10px;\r\n      }\r\n      .margin-fl {\r\n        margin-right: 10px;\r\n      }\r\n    }\r\n    .border-box /deep/ {\r\n      position: relative;\r\n      height: calc(100vh - 120px);\r\n      .add-email-link {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 400px;\r\n        height: 38px;\r\n        line-height: 38px;\r\n        font-size: 14px;\r\n        color: #606266;\r\n        z-index: 1003;\r\n        .tip-box {\r\n          position: relative;\r\n          display: inline-block;\r\n          width: 20px;\r\n          height: 20px;\r\n          line-height: 20px;\r\n          margin-left: 10px;\r\n          i {\r\n            display: inline-block;\r\n            width: 20px;\r\n            height: 20px;\r\n            line-height: 20px;\r\n            text-align: center;\r\n            border: solid 1px rgba(85, 85, 85, 1);\r\n            border-radius: 50%;\r\n            color: #555;\r\n            font-style: normal;\r\n            font-size: 12px;\r\n            &:hover {\r\n              cursor: pointer;\r\n              opacity: 0.8;\r\n            }\r\n          }\r\n          .msg {\r\n            position: absolute;\r\n            display: none;\r\n            width: 380px;\r\n            top: 50%;\r\n            left: 26px;\r\n            transform: translateY(-50%);\r\n            padding: 6px 10px 4px 10px;\r\n            border-radius: 3px;\r\n            color: #fff;\r\n            word-wrap: break-word;\r\n            word-break: break-all;\r\n            z-index: 10;\r\n            background-color: rgba(49, 49, 49, 1);\r\n            box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.4);\r\n            line-height: 20px;\r\n            font-size: 10px;\r\n            &:after {\r\n              display: block;\r\n              position: absolute;\r\n              content: '';\r\n              height: 0px;\r\n              width: 0px;\r\n              top: 50%;\r\n              left: -4px;\r\n              -webkit-transform: translateY(-50%);\r\n              transform: translateY(-50%);\r\n              border-top: 4px solid transparent;\r\n              border-right: 4px solid #313131;\r\n              border-bottom: 5px solid transparent;\r\n            }\r\n            z-index: 100;\r\n          }\r\n          i:hover + .msg {\r\n            display: block;\r\n          }\r\n        }\r\n      }\r\n      .html-editer {\r\n        height: 100%;\r\n        .vue-html5-editor .content {\r\n          background-color: #f5f5f5;\r\n        }\r\n      }\r\n    }\r\n    .step-btns {\r\n      margin: 30px 30px 100px 30px;\r\n      .margin-fl {\r\n        margin: 0 20px;\r\n      }\r\n    }\r\n    .edit-content {\r\n      height: 100%;\r\n      margin: 0 0 20px 0;\r\n      .edit-content-temp {\r\n        height: calc(100% - 36px);\r\n        width: 356px;\r\n        margin-top: 36px;\r\n        padding: 0 36px;\r\n        box-sizing: border-box;\r\n        overflow-y: scroll;\r\n        .temp-title {\r\n          span {\r\n            line-height: 44px;\r\n            color: #555;\r\n          }\r\n        }\r\n        .temp-boxs {\r\n          margin-top: 20px;\r\n          .temp-item {\r\n            width: 124px;\r\n            margin: 10px 15px;\r\n            text-align: center;\r\n            &:nth-child(2n) {\r\n              margin-right: 0;\r\n            }\r\n            &:nth-child(2n + 1) {\r\n              margin-left: 0;\r\n            }\r\n            .temp-item-box {\r\n              height: 196px;\r\n              box-sizing: border-box;\r\n              border: solid 1px #e5e5e5;\r\n              border-radius: 4px;\r\n              background-size: cover;\r\n              &:hover {\r\n                cursor: pointer;\r\n                border-color: #4b5afe;\r\n                transition: border-color 0.2s;\r\n              }\r\n            }\r\n            .temp-item-title {\r\n              display: block;\r\n              padding-top: 5px;\r\n              font-size: 14px;\r\n              color: #555555;\r\n            }\r\n            &:nth-child(1) .temp-item-box {\r\n              background-image: url('../../../assets/image/email-01.jpg');\r\n            }\r\n            &:nth-child(2) .temp-item-box {\r\n              background-image: url('../../../assets/image/email-02.jpg');\r\n            }\r\n            &:nth-child(3) .temp-item-box {\r\n              background-image: url('../../../assets/image/email-03.jpg');\r\n            }\r\n            &:nth-child(4) .temp-item-box {\r\n              background-image: url('../../../assets/image/email-04.jpg');\r\n            }\r\n          }\r\n          .active {\r\n            .temp-item-box {\r\n              border-color: #4b5afe;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .edit-content-box /deep/ {\r\n        width: calc(100% - 356px);\r\n        height: 100%;\r\n        .vue-html5-editor {\r\n          height: 100%;\r\n          border: none;\r\n          border-right: solid 1px #e5e5e5;\r\n          border-radius: 0;\r\n          .content {\r\n            height: calc(100% - 37px);\r\n            max-height: calc(100% - 37px);\r\n            padding: 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .email-box {\r\n      width: 100%;\r\n      margin: 15px 10px;\r\n      .test-tip {\r\n        font-size: 14px;\r\n        color: #4b5afe;\r\n        line-height: 40px;\r\n      }\r\n      .com-input {\r\n        width: 390px;\r\n      }\r\n    }\r\n    .step-one-btns {\r\n      margin: 40px 10px -10px 10px;\r\n      span {\r\n        float: left;\r\n        line-height: 45px;\r\n        font-size: 14px;\r\n        color: #888;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import { render, staticRenderFns } from \"./edit-step-one.vue?vue&type=template&id=f4e271ae&scoped=true&\"\nimport script from \"./edit-step-one.vue?vue&type=script&lang=js&\"\nexport * from \"./edit-step-one.vue?vue&type=script&lang=js&\"\nimport style0 from \"../css/live.scss?vue&type=style&index=0&id=f4e271ae&lang=scss&scoped=true&\"\nimport style1 from \"./edit-step-one.vue?vue&type=style&index=1&id=f4e271ae&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f4e271ae\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\work\\\\saas营销\\\\fe_management\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('f4e271ae', component.options)\n    } else {\n      api.reload('f4e271ae', component.options)\n    }\n    module.hot.accept(\"./edit-step-one.vue?vue&type=template&id=f4e271ae&scoped=true&\", function () {\n      api.rerender('f4e271ae', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/live-mager/email/edit-step-one.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=f4e271ae&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=f4e271ae&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-step-one.vue?vue&type=style&index=1&id=f4e271ae&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-step-one.vue?vue&type=style&index=1&id=f4e271ae&lang=scss&scoped=true&\""],"sourceRoot":""}