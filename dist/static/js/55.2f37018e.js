(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{643:function(t,e,o){},843:function(t,e,o){"use strict";var a=o(643);o.n(a).a},881:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"goods-info"}},[o("p",[t._v("新建/编辑商品信息")]),t._v(" "),o("el-form",{ref:"goodsData",staticClass:"demo-ruleForm",attrs:{model:t.goodsData,rules:t.rules,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"商品名称",prop:"title"}},[o("el-input",{staticClass:"slot_inp_b",attrs:{errorTips:t.errTitle},model:{value:t.goodsData.title,callback:function(e){t.$set(t.goodsData,"title",e)},expression:"goodsData.title"}},[o("template",{staticClass:"slot",slot:"append"},[o("span",{domProps:{textContent:t._s(t.goodsData.title.gbLength())}}),t._v(" / 20")])],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"原始价格",prop:"ysjg"}},[o("el-input",{attrs:{min:"0",max:"999999"},model:{value:t.goodsData.ysjg,callback:function(e){t.$set(t.goodsData,"ysjg",t._n(e))},expression:"goodsData.ysjg"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"优惠价格",prop:"cxjg"}},[o("el-input",{attrs:{disabled:!t.goodsData.ysjg},model:{value:t.goodsData.cxjg,callback:function(e){t.$set(t.goodsData,"cxjg",t._n(e))},expression:"goodsData.cxjg"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"商品图片"}},[o("el-input",{model:{value:t.goodsData.name,callback:function(e){t.$set(t.goodsData,"name",e)},expression:"goodsData.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"商品描述"}},[o("div",{staticClass:"upload_box"},[t._l(t.upload_list,function(e,a){return o("ve-upload",{attrs:{title:"图片小于2MB 支持jpg、png、bmp格式 最佳尺寸：600 x 600",accept:"png|jpg|jpeg|bmp",defaultImg:t.defaultImg,nowIndex:a||0,fileSize:2048,errorMsg:t.uploadImgErrorMsg},on:{error:t.uploadError,success:t.uploadImgSuccess}})}),t._v(" "),t.upload_list.length<4?o("el-button",{on:{click:t.add_upload}},[t._v("+")]):t._e()],2)]),t._v(" "),o("el-form-item",{attrs:{label:"商品链接"}},[o("el-input",{attrs:{type:"url"},model:{value:t.goodsData.name,callback:function(e){t.$set(t.goodsData,"name",e)},expression:"goodsData.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"淘口令"}},[o("el-input",{model:{value:t.goodsData.name,callback:function(e){t.$set(t.goodsData,"name",e)},expression:"goodsData.name"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.onSubmit("goodsData")}}},[t._v("保存")]),t._v(" "),o("el-button",{attrs:{size:"small"}},[t._v("取消")])],1)],1)],1)};a._withStripped=!0;var s={name:"info",created:function(){},components:{VeUpload:o(470).a},computed:{defaultImg:function(){return this.poster?this.$imgHost+"/"+this.poster:""}},data:function(){var t=this;return{errTitle:"",upload_list:[{}],goodsData:{name:"",title:"",ysjg:"",cxjg:""},uploadImgErrorMsg:"",rules:{title:[{validator:function(e,o,a){var s=void 0;s||(s=setTimeout(function(){if(clearTimeout(s),s=null,!o)return a(new Error("商品名称不能为空"));if(o.gbLength()<e.min)return a(new Error("商品名称过短"));if(o.gbLength()>=e.max){for(var r in t[e.obj])if(r===e.field)return t[e.obj][r]=t[e.obj][r].slice(0,e.max),a()}else a()},500))},min:3,max:20,trigger:"change",obj:"goodsData"}],ysjg:[{type:"number",required:!0,message:"请输入原始价格",trigger:"blur"},{type:"number",min:0,max:999999,message:"原始价格应大于0小于999999",trigger:"blur"}],cxjg:[{validator:function(e,o,a){var s=t[e.obj].ysjg;return o&&o<0?a(new Error("商品促销价格不能小于0")):o&&s&&o>s?a(new Error("商品促销价格不能大于原始价格")):o&&!s?a(new Error("请先填写原始价格")):a()},type:"number",min:0,max:999999,trigger:"blur",obj:"goodsData"}]}}},methods:{add_upload:function(){this.upload_list.push({})},onSubmit:function(t){this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;alert("submit!")})},uploadImgSuccess:function(t){console.log(t)},uploadError:function(t){console.log(t)}}},r=(o(843),o(2)),l=Object(r.a)(s,a,[],!1,null,"5ceb96de",null);l.options.__file="src/pages/sales-tools/recommend-goods/info.vue";e.default=l.exports}}]);
//# sourceMappingURL=55.2f37018e.js.map