{"version":3,"sources":["webpack:///./src/components/ve-upload-goods.vue?3ce9","webpack:///./src/pages/sales-tools/recommend-goods/info.vue?e22f","webpack:///./src/pages/sales-tools/recommend-goods/info.vue?17ae","webpack:///./src/components/ve-upload-goods.vue?7545","webpack:///./src/components/ve-upload-goods.vue?7e07","webpack:///src/components/ve-upload-goods.vue","webpack:///./src/components/ve-upload-goods.vue","webpack:///./src/pages/sales-tools/recommend-goods/info.vue?a9f0","webpack:///src/pages/sales-tools/recommend-goods/info.vue","webpack:///./src/pages/sales-tools/recommend-goods/info.vue"],"names":["_node_modules_mini_css_extract_plugin_0_4_4_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_ve_upload_goods_vue_vue_type_style_index_0_id_b09a25f0_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","_node_modules_mini_css_extract_plugin_0_4_4_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_info_vue_vue_type_style_index_0_id_5ceb96de_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","render","_vm","this","_h","$createElement","_c","_self","attrs","id","_v","_s","$route","params","type","class","ref","staticClass","model","goodsData","rules","label-width","label","prop","placeholder","value","title","callback","$$v","$set","expression","slot","staticStyle","color","domProps","textContent","gbLength","min","max","price","_n","disabled","preferential","_l","imageList","ite","ind","key","accept","defaultImg","nowIndex","fileSize","errorMsg","errMsg","initImg","name","on","error","$event","uploadError","success","uploadImgSuccess","url","max-length","describe","trim","rows","cols","tao","round","click","onSubmit","resetForm","_withStripped","ve_upload_goodsvue_type_template_id_b09a25f0_scoped_true_render","directives","rawName","loading","fileSrc","coverImg","style","backgroundImage","imgHost","_e","stopPropagation","deleteImage","overUpload","overPlus","isShowBigImg","actionUrl","inputName","selected","progress","uploadProgress","load","errorTxt","innerHTML","tipTxt","components_ve_upload_goodsvue_type_script_lang_js_","components","ComUpload","data","percentImg","props","String","default","Number","watch","length","handler","val","immediate","$imgHost","methods","$emit","host","isDelete","$refs","uploadFile","parseFloat","percent","replace","toFixed","fildObj","JSON","parse","state","msg","component","Object","componentNormalizer","options","__file","ve_upload_goods","recommend_goods_infovue_type_script_lang_js_","created","getGoodsDetail","VeUpload","computed","poster","_this","isShowMsgB","errTitle","timerVail","timer","required","validator","rule","setTimeout","clearTimeout","Error","attr","obj","field","slice","gbIndex","trigger","message","maxV","num","map","item","add_upload","push","_this2","$post","salesGoods_service","GOODS_DETAIL","goods_id","then","res","image","imgLen","i","parse_int_default","_res$data","formName","_this3","validate","valid","console","log","_url","activity_id","CREATE_GOODS","UPDATE_GOODS","imgList","filter","stringify_default","$toast","content","position","$router","go","catch","err","_this4","$messageBox","header","cancelText","confirmText","handleClick","e","action","resetFields","beforeRouteLeave","to","from","next","width","info_component","__webpack_exports__"],"mappings":"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","file":"static/js/54.9d8fa6cd.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.4.4@mini-css-extract-plugin/dist/loader.js!../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./ve-upload-goods.vue?vue&type=style&index=0&id=b09a25f0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.4.4@mini-css-extract-plugin/dist/loader.js!../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./ve-upload-goods.vue?vue&type=style&index=0&id=b09a25f0&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.4@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=5ceb96de&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.4@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=5ceb96de&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { attrs: { id: \"goods-info\" } },\n    [\n      _c(\n        \"header\",\n        [\n          _vm._v(\n            _vm._s(this.$route.params.type === \"create\" ? \"新建\" : \"编辑\") +\n              \"商品信息\"\n          ),\n          _c(\"com-back\", { class: \"back-btn\" })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"el-form\",\n        {\n          ref: \"goodsData\",\n          staticClass: \"demo-ruleForm\",\n          attrs: {\n            model: _vm.goodsData,\n            rules: _vm.rules,\n            \"label-width\": \"120px\"\n          }\n        },\n        [\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"商品名称：\", prop: \"title\" } },\n            [\n              _c(\n                \"el-input\",\n                {\n                  staticClass: \"slot_inp_b\",\n                  attrs: { placeholder: \"请输入商品名称（不少于3个字）\" },\n                  model: {\n                    value: _vm.goodsData.title,\n                    callback: function($$v) {\n                      _vm.$set(_vm.goodsData, \"title\", $$v)\n                    },\n                    expression: \"goodsData.title\"\n                  }\n                },\n                [\n                  _c(\"template\", { staticClass: \"slot\", slot: \"append\" }, [\n                    _c(\"span\", {\n                      staticStyle: { color: \"#2878FF\" },\n                      domProps: {\n                        textContent: _vm._s(_vm.goodsData.title.gbLength())\n                      }\n                    }),\n                    _vm._v(\"\\n          / 20\\n        \")\n                  ])\n                ],\n                2\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"原始价格：\", prop: \"price\" } },\n            [\n              _c(\n                \"div\",\n                { staticClass: \"a_unit\" },\n                [\n                  _c(\"el-input\", {\n                    attrs: {\n                      min: \"0\",\n                      max: \"999999\",\n                      placeholder: \"请输入价格\"\n                    },\n                    model: {\n                      value: _vm.goodsData.price,\n                      callback: function($$v) {\n                        _vm.$set(_vm.goodsData, \"price\", _vm._n($$v))\n                      },\n                      expression: \"goodsData.price\"\n                    }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"span\", [_vm._v(\"元\")])\n                ],\n                1\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"优惠价格：\", prop: \"preferential\" } },\n            [\n              _c(\n                \"div\",\n                { staticClass: \"a_unit\" },\n                [\n                  _c(\"el-input\", {\n                    attrs: {\n                      disabled: !!!_vm.goodsData.price,\n                      placeholder: \"请输入价格\"\n                    },\n                    model: {\n                      value: _vm.goodsData.preferential,\n                      callback: function($$v) {\n                        _vm.$set(_vm.goodsData, \"preferential\", _vm._n($$v))\n                      },\n                      expression: \"goodsData.preferential\"\n                    }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"span\", [_vm._v(\"元\")])\n                ],\n                1\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"商品图片：\", prop: \"imageList\" } },\n            [\n              _c(\n                \"div\",\n                { staticClass: \"upload_box\" },\n                [\n                  _vm._l(_vm.goodsData.imageList, function(ite, ind) {\n                    return [\n                      _c(\"ve-upload\", {\n                        key: ind,\n                        attrs: {\n                          title:\n                            \"图片小于2MB &nbsp;&nbsp;(jpg、png、bmp)&nbsp;&nbsp; 最佳尺寸：600 x 600\",\n                          accept: \"png|jpg|jpeg|bmp|gif\",\n                          defaultImg: _vm.defaultImg,\n                          nowIndex: ind || 0,\n                          fileSize: 2048,\n                          errorMsg: ite.errMsg,\n                          initImg: ite.name\n                        },\n                        on: {\n                          error: function($event) {\n                            _vm.uploadError($event, ite)\n                          },\n                          success: _vm.uploadImgSuccess\n                        }\n                      })\n                    ]\n                  })\n                ],\n                2\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"商品链接：\", prop: \"url\" } },\n            [\n              _c(\"el-input\", {\n                staticClass: \"inupt_text\",\n                attrs: { type: \"url\", placeholder: \"请输入商品链接\" },\n                model: {\n                  value: _vm.goodsData.url,\n                  callback: function($$v) {\n                    _vm.$set(_vm.goodsData, \"url\", $$v)\n                  },\n                  expression: \"goodsData.url\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"商品描述：\" } },\n            [\n              _c(\"com-input\", {\n                staticClass: \"inupt_textarea\",\n                attrs: {\n                  \"max-length\": 140,\n                  type: \"textarea\",\n                  placeholder: \"请输入商品描述\"\n                },\n                model: {\n                  value: _vm.goodsData.describe,\n                  callback: function($$v) {\n                    _vm.$set(\n                      _vm.goodsData,\n                      \"describe\",\n                      typeof $$v === \"string\" ? $$v.trim() : $$v\n                    )\n                  },\n                  expression: \"goodsData.describe\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"淘口令：\" } },\n            [\n              _c(\"com-input\", {\n                staticClass: \"inupt_textarea\",\n                attrs: {\n                  \"max-length\": 100,\n                  type: \"textarea\",\n                  rows: 5,\n                  cols: 4,\n                  placeholder: \"请输入淘口令\"\n                },\n                model: {\n                  value: _vm.goodsData.tao,\n                  callback: function($$v) {\n                    _vm.$set(\n                      _vm.goodsData,\n                      \"tao\",\n                      typeof $$v === \"string\" ? $$v.trim() : $$v\n                    )\n                  },\n                  expression: \"goodsData.tao\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            [\n              _c(\n                \"el-button\",\n                {\n                  staticClass: \"add-goods primary-button\",\n                  attrs: { type: \"primary\", round: \"\" },\n                  on: {\n                    click: function($event) {\n                      _vm.onSubmit(\"goodsData\")\n                    }\n                  }\n                },\n                [_vm._v(\"保存\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-button\",\n                {\n                  attrs: { round: \"\" },\n                  on: {\n                    click: function($event) {\n                      _vm.resetForm(\"goodsData\")\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      directives: [\n        {\n          name: \"ComLoading\",\n          rawName: \"v-ComLoading\",\n          value: _vm.loading,\n          expression: \"loading\"\n        }\n      ],\n      staticClass: \"ve-upload-box\"\n    },\n    [\n      _vm.fileSrc || (!_vm.fileSrc && _vm.coverImg)\n        ? _c(\n            \"div\",\n            { staticClass: \"upload-img-box\" },\n            [\n              _c(\"transition\", { attrs: { name: \"fade\" } }, [\n                _vm.fileSrc\n                  ? _c(\"div\", {\n                      staticClass: \"temp-img\",\n                      style: {\n                        backgroundImage:\n                          \"url(\" + _vm.imgHost + \"/\" + _vm.fileSrc + \")\"\n                      }\n                    })\n                  : _vm._e(),\n                _vm._v(\" \"),\n                !_vm.fileSrc && _vm.coverImg\n                  ? _c(\"div\", {\n                      staticClass: \"temp-img\",\n                      style: { backgroundImage: \"url(\" + _vm.coverImg + \")\" }\n                    })\n                  : _vm._e()\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"over-upload\" }, [\n                _c(\n                  \"span\",\n                  {\n                    on: {\n                      click: function($event) {\n                        $event.stopPropagation()\n                        return _vm.deleteImage($event)\n                      }\n                    }\n                  },\n                  [\n                    _c(\"i\", { staticClass: \"iconfont icon-icon-shanchu\" }),\n                    _vm._v(\"\\n        删除\\n      \")\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"span\",\n                  {\n                    on: {\n                      click: function($event) {\n                        $event.stopPropagation()\n                        return _vm.overUpload($event)\n                      }\n                    }\n                  },\n                  [\n                    _c(\"i\", { staticClass: \"iconfont icon-yulanxuanzhuan\" }),\n                    _vm._v(\"\\n        重置\\n      \")\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"span\",\n                  {\n                    on: {\n                      click: function($event) {\n                        $event.stopPropagation()\n                        return _vm.overPlus($event)\n                      }\n                    }\n                  },\n                  [\n                    _c(\"i\", { staticClass: \"iconfont icon-fangda\" }),\n                    _vm._v(\"\\n        放大\\n      \")\n                  ]\n                )\n              ])\n            ],\n            1\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.isShowBigImg\n        ? _c(\"div\", { staticClass: \"big-img\" }, [\n            _c(\"span\", {\n              staticClass: \"el-icon-circle-close\",\n              on: {\n                click: function($event) {\n                  _vm.isShowBigImg = false\n                }\n              }\n            }),\n            _vm._v(\" \"),\n            _c(\"div\", {\n              style: {\n                backgroundImage: \"url(\" + _vm.imgHost + \"/\" + _vm.fileSrc + \")\"\n              }\n            })\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"com-upload\",\n        {\n          attrs: {\n            accept: _vm.accept,\n            actionUrl: \"/api/upload/image\",\n            inputName: \"file\",\n            fileSize: _vm.fileSize\n          },\n          on: {\n            error: _vm.uploadError,\n            selected: _vm.selected,\n            progress: _vm.uploadProgress,\n            load: _vm.uploadImgSuccess\n          }\n        },\n        [\n          _c(\n            \"div\",\n            {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: !(_vm.fileSrc || (!_vm.fileSrc && _vm.coverImg)),\n                  expression: \"!(fileSrc||(!fileSrc && coverImg))\"\n                }\n              ],\n              ref: \"uploadFile\",\n              staticClass: \"upload-file-box\",\n              attrs: { title: \"点击上传\" }\n            },\n            [\n              _c(\"i\", { staticClass: \"upload-icon\" }),\n              _vm._v(\" \"),\n              !_vm.errorTxt\n                ? _c(\"span\", { domProps: { innerHTML: _vm._s(_vm.tipTxt) } })\n                : _c(\"span\", { staticClass: \"error-msg\" }, [\n                    _vm._v(_vm._s(_vm.errorTxt))\n                  ])\n            ]\n          )\n        ]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./ve-upload-goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./ve-upload-goods.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"ve-upload-box\" v-ComLoading=\"loading\">\r\n    <div class=\"upload-img-box\" v-if=\"fileSrc||(!fileSrc && coverImg)\">\r\n      <transition name=\"fade\">\r\n        <div class=\"temp-img\" v-if=\"fileSrc\"\r\n             :style=\"{backgroundImage:'url('+imgHost+'/'+fileSrc+')'}\"></div>\r\n        <div class=\"temp-img\" v-if=\"!fileSrc && coverImg\"\r\n             :style=\"{backgroundImage:'url('+coverImg+')'}\"></div>\r\n      </transition>\r\n      <div class=\"over-upload\">\r\n        <span @click.stop=\"deleteImage\">\r\n          <i class=\"iconfont icon-icon-shanchu\"></i>\r\n          删除\r\n        </span>\r\n        <span @click.stop=\"overUpload\">\r\n          <i class=\"iconfont icon-yulanxuanzhuan\"></i>\r\n          重置\r\n        </span>\r\n        <span @click.stop=\"overPlus\">\r\n          <i class=\"iconfont icon-fangda\"></i>\r\n          放大\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"big-img\" v-if=\"isShowBigImg\">\r\n      <span @click=\"isShowBigImg = false\" class=\"el-icon-circle-close\"></span>\r\n      <div :style=\"{backgroundImage:'url('+imgHost+'/'+fileSrc+')'}\"></div>\r\n    </div>\r\n    <com-upload\r\n      :accept=\"accept\"\r\n      actionUrl=\"/api/upload/image\"\r\n      inputName=\"file\"\r\n      :fileSize=\"fileSize\"\r\n      @error=\"uploadError\"\r\n      @selected=\"selected\"\r\n      @progress=\"uploadProgress\"\r\n      @load=\"uploadImgSuccess\">\r\n      <div class=\"upload-file-box\" ref=\"uploadFile\" title=\"点击上传\" v-show=\"!(fileSrc||(!fileSrc && coverImg))\">\r\n        <i class=\"upload-icon\"></i>\r\n        <span v-if=\"!errorTxt\" v-html=\"tipTxt\"></span>\r\n        <span class=\"error-msg\" v-else>{{errorTxt}}</span>\r\n      </div>\r\n    </com-upload>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import ComUpload from 'src/components/common/upload/com'\r\n\r\n  export default {\r\n    name: 've-upload-image',\r\n    components: { ComUpload },\r\n    data () {\r\n      return {\r\n        isShowBigImg: false,\r\n        imgHost: '',\r\n        fileSrc: '',\r\n        coverImg: '',\r\n        tipTxt: '',\r\n        percentImg: 0,\r\n        errorTxt: '',\r\n        loading: false\r\n      }\r\n    },\r\n    props: {\r\n      accept: {\r\n        type: String,\r\n        default: 'png|jpg|jpeg|bmp|gif|doc|mp4'\r\n      },\r\n      fileSize: {\r\n        type: Number,\r\n        default: 1024\r\n      },\r\n      defaultImg: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      title: {\r\n        type: String,\r\n        default: '上传文件'\r\n      },\r\n      errorMsg: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      nowIndex: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      initImg: {\r\n        type: String,\r\n        default: ''\r\n      }\r\n    },\r\n    watch: {\r\n      errorMsg (value) {\r\n        this.errorTxt = value\r\n        if (value.length) {\r\n          this.fileSrc = ''\r\n          this.coverImg = ''\r\n        }\r\n      },\r\n      defaultImg: {\r\n        handler (val) {\r\n          this.coverImg = val\r\n          if (!val) {\r\n            this.fileSrc = ''\r\n          }\r\n        },\r\n        immediate: true\r\n      },\r\n      title: {\r\n        handler (val) {\r\n          this.tipTxt = val\r\n        },\r\n        immediate: true\r\n      },\r\n      initImg: {\r\n        handler (val) {\r\n          this.imgHost = this.$imgHost\r\n          this.fileSrc = val\r\n        },\r\n        immediate: true\r\n      }\r\n    },\r\n    methods: {\r\n      deleteImage () {\r\n        this.coverImg = ''\r\n        this.fileSrc = ''\r\n        this.errorTxt = ''\r\n        this.$emit('success', {\r\n          name: '',\r\n          host: '',\r\n          nowIndex: this.nowIndex,\r\n          isDelete: true\r\n        })\r\n      },\r\n      overUpload () {\r\n        this.$refs.uploadFile.click()\r\n      },\r\n      overPlus () {\r\n        this.isShowBigImg = true\r\n      },\r\n      selected () {\r\n        this.loading = true\r\n      },\r\n      uploadProgress (data) {\r\n        this.loading = false\r\n        this.percentImg = parseFloat(parseFloat(data.percent.replace('%', '')).toFixed(2))\r\n        if (this.percentImg === 100) {\r\n          this.percentImg = 0\r\n        }\r\n      },\r\n      uploadImgSuccess (data) {\r\n        const fildObj = JSON.parse(data.data).data\r\n        if (fildObj.host) this.imgHost = fildObj.host\r\n        if (fildObj.name) this.fileSrc = fildObj.name\r\n        fildObj.nowIndex = this.nowIndex\r\n        this.$emit('success', fildObj)\r\n      },\r\n      uploadError (data) {\r\n        this.loading = false\r\n        const state = data.data[0].state\r\n        let msg = ''\r\n        if (state === 'size-limit') {\r\n          msg = '上传图片过大'\r\n        } else if (state === 'type-limit') {\r\n          msg = '不支持该格式，请重新上传'\r\n        } else {\r\n          msg = '图片上传失败'\r\n        }\r\n        this.fileSrc = ''\r\n        this.coverImg = ''\r\n        this.$emit('error', {\r\n          type: state,\r\n          msg: msg,\r\n          nowIndex: this.nowIndex\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .fade-enter-active {\r\n    transition: all 0.3s ease;\r\n  }\r\n\r\n  .fade-leave-active {\r\n    transition: all 0.5s cubic-bezier(1, 0.5, 0.8, 1);\r\n  }\r\n\r\n  .fade-enter,\r\n  .fade-leave-to {\r\n    opacity: 0;\r\n  }\r\n\r\n  .ve-upload-box {\r\n    position: relative;\r\n    width: 440px;\r\n    height: 140px;\r\n    border: 1px dashed #e2e2e2;\r\n    border-radius: 4px;\r\n    background-color: #f7f7f7;\r\n    text-align: center;\r\n    overflow: hidden;\r\n    .over-upload {\r\n      display: block;\r\n      position: relative;\r\n      width: 100%;\r\n      height: 40px;\r\n      background-color: rgba(0, 0, 0, 0.6);\r\n      z-index: 3;\r\n      top: 0;\r\n      span {\r\n        display: inline-block;\r\n        width: 25%;\r\n        text-align: center;\r\n        color: #fff;\r\n        /*margin-top: 50px;*/\r\n        .iconfont {\r\n          display: block;\r\n        }\r\n        &:hover {\r\n          color: #ccc;\r\n        }\r\n      }\r\n    }\r\n    .upload-img-box {\r\n      height: 100%;\r\n      width: 249px;\r\n      margin: 0 auto;\r\n      overflow: hidden;\r\n      cursor: pointer;\r\n      .temp-img {\r\n        width: 100%;\r\n        height: 100%;\r\n        background-position: center center;\r\n        background-size: cover;\r\n      }\r\n      &:hover .over-upload {\r\n        transition: top 0.3s;\r\n        top: -30%;\r\n      }\r\n    }\r\n    .upload-file-box {\r\n      width: 400px;\r\n      padding-bottom: 40px;\r\n      cursor: pointer;\r\n      span {\r\n        font-size: 14px;\r\n        line-height: 20px;\r\n        color: #888;\r\n        &.error-msg {\r\n          color: #fc5659!important;\r\n        }\r\n      }\r\n      .upload-icon {\r\n        display: block;\r\n        width: 60px;\r\n        height: 60px;\r\n        margin: 20px auto 10px auto;\r\n        background-image: url('../assets/image/upload-image-icon@2x.png');\r\n        background-size: cover;\r\n      }\r\n    }\r\n    .big-img {\r\n      width: 100%;\r\n      height: 100%;\r\n      background: rgba(0, 0, 0, 0.5);\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 9999;\r\n      span {\r\n        color: white;\r\n        font-size: 50px;\r\n        position: absolute;\r\n        top: 100px;\r\n        right: 100px;\r\n        cursor: pointer;\r\n      }\r\n      div {\r\n        width: 500px;\r\n        height: 500px;\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        background-size: cover\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import { render, staticRenderFns } from \"./ve-upload-goods.vue?vue&type=template&id=b09a25f0&scoped=true&\"\nimport script from \"./ve-upload-goods.vue?vue&type=script&lang=js&\"\nexport * from \"./ve-upload-goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ve-upload-goods.vue?vue&type=style&index=0&id=b09a25f0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b09a25f0\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\project\\\\fe_management\\\\node_modules\\\\_vue-hot-reload-api@2.3.1@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('b09a25f0', component.options)\n    } else {\n      api.reload('b09a25f0', component.options)\n    }\n    module.hot.accept(\"./ve-upload-goods.vue?vue&type=template&id=b09a25f0&scoped=true&\", function () {\n      api.rerender('b09a25f0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/ve-upload-goods.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"","<template>\r\n  <div id=\"goods-info\">\r\n    <header>{{this.$route.params.type === 'create'?'新建':'编辑'}}商品信息<com-back :class='\"back-btn\"'></com-back></header>\r\n    <el-form :model=\"goodsData\" ref=\"goodsData\" :rules=\"rules\" label-width=\"120px\" class=\"demo-ruleForm\">\r\n      <el-form-item label=\"商品名称：\" prop=\"title\">\r\n        <el-input v-model=\"goodsData.title\" class=\"slot_inp_b\" placeholder=\"请输入商品名称（不少于3个字）\">\r\n          <template slot=\"append\" class=\"slot\"><span v-text=\"goodsData.title.gbLength()\" style=\"color: #2878FF\"></span>\r\n            / 20\r\n          </template>\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"原始价格：\" prop=\"price\">\r\n        <div class=\"a_unit\">\r\n          <el-input v-model.number=\"goodsData.price\" min=\"0\" max=\"999999\" placeholder=\"请输入价格\"></el-input>\r\n          <span>元</span>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"优惠价格：\" prop=\"preferential\">\r\n        <div class=\"a_unit\">\r\n          <el-input v-model.number=\"goodsData.preferential\" :disabled=\"!!!goodsData.price\"\r\n                    placeholder=\"请输入价格\"></el-input>\r\n          <span>元</span>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品图片：\" prop=\"imageList\">\r\n        <div class=\"upload_box\">\r\n          <template v-for=\"(ite,ind) in goodsData.imageList\">\r\n            <ve-upload :key=\"ind\"\r\n                       title=\"图片小于2MB &nbsp;&nbsp;(jpg、png、bmp)&nbsp;&nbsp; 最佳尺寸：600 x 600\"\r\n                       accept=\"png|jpg|jpeg|bmp|gif\" :defaultImg=\"defaultImg\" :nowIndex=\"ind|| 0\"\r\n                       :fileSize=\"2048\"\r\n                       :errorMsg=\"ite.errMsg\"\r\n                       @error=\"uploadError($event, ite)\" :initImg=\"ite.name\"\r\n                       @success=\"uploadImgSuccess\"></ve-upload>\r\n          </template>\r\n          <!--:errorMsg=\"ind=== 0?uploadImgErrorMsg0:ind=== 1?uploadImgErrorMsg1:ind=== 2?uploadImgErrorMsg2:ind=== 3?uploadImgErrorMsg3:''\"-->\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品链接：\" prop=\"url\">\r\n        <el-input class=\"inupt_text\" v-model=\"goodsData.url\" type=\"url\" placeholder=\"请输入商品链接\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品描述：\">\r\n        <com-input class=\"inupt_textarea\" :max-length=140 type=\"textarea\" v-model.trim=\"goodsData.describe\"\r\n                   placeholder=\"请输入商品描述\"></com-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"淘口令：\">\r\n        <com-input class=\"inupt_textarea\" :max-length=100 type=\"textarea\" :rows=5 :cols=4 v-model.trim=\"goodsData.tao\"\r\n                   placeholder=\"请输入淘口令\"></com-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button class=\"add-goods primary-button\" type=\"primary\" @click=\"onSubmit('goodsData')\" round>保存</el-button>\r\n        <el-button @click=\"resetForm('goodsData')\" round>取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import VeUpload from 'src/components/ve-upload-goods'\r\n  import goodsServer from 'src/api/salesGoods-service'\r\n\r\n  export default {\r\n    name: 'info',\r\n    created () {\r\n      if (this.$route.params.type === 'update') {\r\n        this.getGoodsDetail()\r\n      }\r\n    },\r\n    components: {\r\n      VeUpload\r\n    },\r\n    computed: {\r\n      defaultImg () {\r\n        return this.poster ? `${this.$imgHost}/${this.poster}` : ''\r\n      }\r\n    },\r\n    data () {\r\n      let valiName = (rule, value, callback) => {\r\n        if (this.timerVail) return\r\n        this.timerVail = setTimeout(() => {\r\n          clearTimeout(this.timerVail)\r\n          this.timerVail = null\r\n          if (value) {\r\n            if (value.gbLength() < rule.min) {\r\n              return callback(new Error('商品名称过短'))\r\n            } else if (value.gbLength() > rule.max) {\r\n              for (let attr in this[rule.obj]) {\r\n                if (attr === rule.field) {\r\n                  this[rule.obj][attr] = value.slice(0, value.gbIndex(rule.max) + 1)\r\n                  return callback()\r\n                }\r\n              }\r\n            } else {\r\n              callback()\r\n            }\r\n          } else {\r\n            return callback(new Error('商品名称不能为空'))\r\n          }\r\n        }, 500)\r\n      }\r\n      let valicxjg = (rule, value, callback) => {\r\n        if (typeof value === 'number') {\r\n          let maxV = this[rule.obj].price\r\n          if (value && value < 0) {\r\n            return callback(new Error('商品促销价格不能小于0'))\r\n          } else if (value && maxV && value >= maxV) {\r\n            return callback(new Error('优惠价格需小于原始价格'))\r\n          } else if (value && !maxV) {\r\n            return callback(new Error('请先填写原始价格'))\r\n          } else {\r\n            return callback()\r\n          }\r\n        } else {\r\n          return callback(new Error('请输入优惠价格'))\r\n        }\r\n      }\r\n      let valiUpload = (rule, value, callback) => {\r\n        let num = 0\r\n        this[rule.obj].imageList.map((item) => {\r\n          if (item.name) {\r\n            num += 1\r\n          }\r\n        })\r\n        if (num > 0) {\r\n          if (value[0].name) {\r\n            return callback()\r\n          } else {\r\n            return callback(new Error('请上传封面图'))\r\n          }\r\n        } else {\r\n          return callback(new Error('请上传图片'))\r\n        }\r\n      }\r\n      return {\r\n        isShowMsgB: true,\r\n        errTitle: '',\r\n        goodsData: {\r\n          title: '', // 标题\r\n          price: '', // 价格\r\n          preferential: '', // 优惠价格\r\n          url: '', // 商品链接\r\n          imageList: [{ errMsg: '' }, { errMsg: '' }, { errMsg: '' }, { errMsg: '' }],\r\n          describe: '', // 商品描述\r\n          tao: ''\r\n        },\r\n        timerVail: null,\r\n        timer: null,\r\n        rules: {\r\n          title: [\r\n            { required: true, validator: valiName, min: 3, max: 20, trigger: 'change', obj: 'goodsData' }\r\n          ],\r\n          price: [\r\n            { required: true, type: 'number', message: '请输入原始价格', trigger: 'blur' },\r\n            { type: 'number', min: 0, max: 999999, message: '原始价格应大于0小于999999', trigger: 'blur' }\r\n          ],\r\n          preferential: [\r\n            { validator: valicxjg, type: 'number', min: 0, max: 999999, trigger: 'blur', obj: 'goodsData' }\r\n          ],\r\n          url: [\r\n            { required: true, type: 'url', message: '请输入商品链接', trigger: 'blur' },\r\n            { min: 0, max: 300, type: 'url', message: '商品链接应大于0小于300', trigger: 'blur' }\r\n          ],\r\n          imageList: [\r\n            { required: true, validator: valiUpload, trigger: 'blur', obj: 'goodsData' }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      add_upload () {\r\n        this.goodsData.imageList.push({ errMsg: '' })\r\n      },\r\n      getGoodsDetail () {\r\n        this.$post(goodsServer.GOODS_DETAIL, { goods_id: this.$route.params.id })\r\n          .then(res => {\r\n            res.data.image = JSON.parse(res.data.image)\r\n            let imgLen = res.data.image.length\r\n            for (let i = 0; i < 4 - imgLen; i++) {\r\n              res.data.image.push({ errMsg: '' })\r\n            }\r\n            res.data.price = Number.parseInt(res.data.price)\r\n            res.data.preferential = Number.parseInt(res.data.preferential);\r\n\r\n            ({\r\n              title: this.goodsData.title,\r\n              price: this.goodsData.price,\r\n              preferential: this.goodsData.preferential,\r\n              image: this.goodsData.imageList,\r\n              describe: this.goodsData.describe,\r\n              url: this.goodsData.url,\r\n              tao: this.goodsData.tao\r\n            } = res.data)\r\n          })\r\n      },\r\n      onSubmit (formName) {\r\n        if (this.timer) return\r\n        this.timer = setTimeout(() => {\r\n          clearTimeout(this.timer)\r\n          this.timer = null\r\n          this.$refs[formName].validate((valid) => {\r\n            if (valid) {\r\n              let _url\r\n              if (this.$route.params.type === 'create') {\r\n                this.goodsData.activity_id = this.$route.params.id // 活动id\r\n                _url = goodsServer.CREATE_GOODS\r\n              } else {\r\n                this.goodsData.goods_id = this.$route.params.id\r\n                _url = goodsServer.UPDATE_GOODS\r\n              }\r\n              let imgList = this.goodsData.imageList.filter((ite, ind) => {\r\n                if (ite.name) {\r\n                  return ite\r\n                }\r\n              })\r\n              this.goodsData.image = JSON.stringify(imgList)\r\n              delete this.goodsData.imageList\r\n              this.$post(_url, this.goodsData)\r\n                .then(res => {\r\n                  this.$toast({\r\n                    content: '操作成功!',\r\n                    position: 'center'\r\n                  })\r\n                  this.$router.go(-1)\r\n                  this.isShowMsgB = false\r\n                })\r\n                .catch(err => {\r\n                  console.log(err)\r\n                })\r\n            } else {\r\n              console.log('error submit!!')\r\n              return false\r\n            }\r\n          })\r\n        }, 400)\r\n      },\r\n      resetForm (formName) {\r\n        this.$messageBox({\r\n          header: '',\r\n          content: '是否放弃当前编辑内容',\r\n          cancelText: '暂不', // 不传递cancelText将只有一个确定按钮\r\n          confirmText: '确定',\r\n          handleClick: (e) => {\r\n            if (e.action === 'cancel') {\r\n            } else if (e.action === 'confirm') {\r\n              this.$refs[formName].resetFields()\r\n              this.isShowMsgB = false\r\n              this.$router.go(-1)\r\n            }\r\n          }\r\n        })\r\n      },\r\n      uploadImgSuccess (data) {\r\n        this.goodsData.imageList[data.nowIndex].name = data.name\r\n      },\r\n      uploadError (data, item) {\r\n        item.errMsg = data.msg\r\n        // this.goodsData.imageList[data.nowIndex].errMsg = data.msg\r\n      }\r\n    },\r\n    beforeRouteLeave (to, from, next) {\r\n      if (this.isShowMsgB) {\r\n        this.$messageBox({\r\n          header: '提示',\r\n          width: '400px',\r\n          content: '是否放弃当前编辑？',\r\n          cancelText: '否',\r\n          confirmText: '是',\r\n          handleClick: (e) => {\r\n            if (e.action === 'confirm') {\r\n              next(true)\r\n            } else {\r\n              next(false)\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        next(true)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~assets/css/mixin.scss';\r\n.back-btn {\r\n  margin: 0;\r\n  position: relative;\r\n  bottom: 10px;\r\n}\r\n#goods-info {\r\n  padding: 50px 100px;\r\n  font-family: PingFangSC-Regular;\r\n  /deep/ {\r\n    header {\r\n      height: 26px;\r\n      font-size: 24px;\r\n      font-weight: 400;\r\n      color: rgba(34, 34, 34, 1);\r\n      line-height: 26px;\r\n      margin-bottom: 25px;\r\n    }\r\n    .el-form {\r\n      padding: 40px 80px;\r\n      border: 1px solid #eee;\r\n      background-color: white;\r\n      .el-form-item:nth-of-type(1) {\r\n        .el-form-item__content {\r\n          width: 460px;\r\n        }\r\n      }\r\n      .el-form-item:nth-of-type(2),\r\n      .el-form-item:nth-of-type(3) {\r\n        width: 400px;\r\n      }\r\n      /*.el-form-item:last-of-type {*/\r\n      /*text-align: center;*/\r\n      /*}*/\r\n      .inupt_textarea {\r\n        width: 760px;\r\n        height: 120px;\r\n        .limit.area {\r\n          right: 12px;\r\n          bottom: 10px;\r\n        }\r\n      }\r\n      .inupt_text {\r\n        width: 440px;\r\n      }\r\n      .a_unit {\r\n        overflow: hidden;\r\n        width: 250px;\r\n        .el-input {\r\n          width: 200px;\r\n          float: left;\r\n        }\r\n        span {\r\n          display: inline-block;\r\n          width: 40px;\r\n          float: right;\r\n          text-align: left;\r\n        }\r\n      }\r\n      .slot_inp_b {\r\n        .el-input__inner {\r\n          padding-right: 60px;\r\n        }\r\n      }\r\n      .el-input-group__append {\r\n        width: 60px;\r\n        transform: translateX(-61px);\r\n        text-align: center;\r\n        border: transparent;\r\n        background-color: transparent;\r\n        padding: 0;\r\n      }\r\n    }\r\n    .upload_box {\r\n      position: relative;\r\n      &::before {\r\n        content: '';\r\n        width: 32px;\r\n        height: 35px;\r\n        display: inline-block;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 100;\r\n        background-image: url('~assets/image/index-img.png');\r\n        background-size: cover;\r\n      }\r\n      /* > i {\r\n           width: 32px;\r\n           height: 35px;\r\n           display: inline-block;\r\n           position: absolute;\r\n           top: 0;\r\n           left: 0;\r\n           z-index: 100;\r\n           background-image: url(\"~assets/image/index-img.png\");\r\n           background-size: cover;\r\n         }*/\r\n      .ve-upload-box {\r\n        width: 140px;\r\n        height: 140px;\r\n        margin: auto 20px auto 0;\r\n        display: inline-block;\r\n        .upload-img-box {\r\n          width: 140px;\r\n          height: 140px;\r\n        }\r\n        .over-upload {\r\n          width: 140px;\r\n        }\r\n        .com-upload {\r\n          width: 100%;\r\n          .upload-file-box {\r\n            width: 100%;\r\n            .upload-icon {\r\n              margin: 10px auto 5px auto;\r\n            }\r\n            span {\r\n              display: inline-block;\r\n              /*margin: auto 5px;*/\r\n              color: #cccccc;\r\n              font-size: 12px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      > span {\r\n        font-size: 30px;\r\n        transform: translateY(-60px);\r\n        color: #999999;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=5ceb96de&scoped=true&\"\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./info.vue?vue&type=style&index=0&id=5ceb96de&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ceb96de\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\project\\\\fe_management\\\\node_modules\\\\_vue-hot-reload-api@2.3.1@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5ceb96de', component.options)\n    } else {\n      api.reload('5ceb96de', component.options)\n    }\n    module.hot.accept(\"./info.vue?vue&type=template&id=5ceb96de&scoped=true&\", function () {\n      api.rerender('5ceb96de', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/sales-tools/recommend-goods/info.vue\"\nexport default component.exports"],"sourceRoot":""}