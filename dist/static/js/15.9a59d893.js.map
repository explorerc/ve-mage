{"version":3,"sources":["webpack:///./src/pages/live-mager/css/live.scss?7afd","webpack:///./src/pages/live-mager/email/index.vue?8b16","webpack:///./src/pages/live-mager/email/index.vue?902d","webpack:///src/pages/live-mager/email/index.vue","webpack:///./src/pages/live-mager/email/index.vue?67d2","webpack:///./src/pages/live-mager/email/index.vue"],"names":["_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_live_scss_vue_type_style_index_0_id_6533cfb3_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_1_id_6533cfb3_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","click","addEmail","directives","name","rawName","value","loading","expression","staticStyle","padding-top","width","attrs","data","emailList","prop","label","scopedSlots","_u","key","fn","scope","row","status","_s","statusName","_e","$event","stopPropagation","clickEmail","$index","handleType","info","delete","total","pageSize","changePage","_withStripped","send","edit","statusType","DRAFT","SEND","AWAIT","FAIL","live_mager_emailvue_type_script_lang_js_","components","VePagination","ve_pagination","currentPage","activeId","sendShow","currentEmailIdx","activityId","emailInviteId","title","content","desc","planTime","sendTime","senderName","sendCount","computed","currentEmail","created","queryId","$route","params","id","$router","go","queryEmailListById","methods","extends_default","Object","vuex_esm","storeEmailInfo","mutation_types","_this","$config","$get","activity_service","GET_EMAIL_LIST","page","then","res","list","map","dataItem","idx","type","_this2","queryInfoEmail","editEmail","$messageBox","header","cancelText","confirmText","handleClick","e","action","delEmail","email","push","sendEmail","$post","POST_SEND_EMAIL_INFO","console","log","handleClickSendEmail","_this3","emaiId","POST_DEL_EMAIL","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"uIAAA,IAAAA,EAAAC,EAAA,KAAAA,EAAAC,EAAAF,GAAkf,oCCAlf,IAAAG,EAAAF,EAAA,KAAAA,EAAAC,EAAAC,GAA0kB,2CCA1kB,IAAAC,EAAA,WACA,IAAAC,EAAAC,KACAC,EAAAF,EAAAG,eACAC,EAAAJ,EAAAK,MAAAD,IAAAF,EACA,OAAAE,EAAA,OAAoBE,YAAA,yBACpBF,EAAA,OAAeE,YAAA,eACfF,EAAA,QAAkBE,YAAA,UAAuBN,EAAAO,GAAA,UACzCP,EAAAO,GAAA,KACAH,EACA,UACSE,YAAA,oBAAAE,IAAwCC,MAAAT,EAAAU,YACjDV,EAAAO,GAAA,UAEAP,EAAAO,GAAA,KACAH,EAAA,QAAkBE,YAAA,gBAClBN,EAAAO,GAAA,uBAGAP,EAAAO,GAAA,KACAH,EACA,OAEAO,aAEAC,KAAA,aACAC,QAAA,eACAC,MAAAd,EAAAe,QACAC,WAAA,YAGAV,YAAA,oBAGAF,EAAA,OAAmBE,YAAA,YACnBN,EAAAO,GACA,+CAGAP,EAAAO,GAAA,KACAH,EACA,OAEAE,YAAA,iBACAW,aAA0BC,cAAA,UAG1Bd,EACA,YAEAa,aAA8BE,MAAA,QAC9BC,OAAwBC,KAAArB,EAAAsB,aAGxBlB,EAAA,mBACAgB,OAA0BG,KAAA,QAAAC,MAAA,UAE1BxB,EAAAO,GAAA,KACAH,EAAA,mBACAgB,OAA0BG,KAAA,WAAAC,MAAA,UAE1BxB,EAAAO,GAAA,KACAH,EAAA,mBACAgB,OAA0BG,KAAA,YAAAC,MAAA,UAE1BxB,EAAAO,GAAA,KACAH,EAAA,mBACAgB,OAA0BG,KAAA,aAAAC,MAAA,MAC1BC,YAAAzB,EAAA0B,KAEAC,IAAA,UACAC,GAAA,SAAAC,GACA,OACA,SAAAA,EAAAC,IAAAC,OACA3B,EAAA,QAA0CE,YAAA,cAC1CN,EAAAO,GAAAP,EAAAgC,GAAAH,EAAAC,IAAAG,eAEAjC,EAAAkC,KACAlC,EAAAO,GAAA,KACA,QAAAsB,EAAAC,IAAAC,OACA3B,EAAA,QAA0CE,YAAA,cAC1CN,EAAAO,GAAAP,EAAAgC,GAAAH,EAAAC,IAAAG,eAEAjC,EAAAkC,KACAlC,EAAAO,GAAA,KACA,SAAAsB,EAAAC,IAAAC,OACA3B,EAAA,QAA0CE,YAAA,cAC1CN,EAAAO,GAAAP,EAAAgC,GAAAH,EAAAC,IAAAG,eAEAjC,EAAAkC,YAMAlC,EAAAO,GAAA,KACAH,EAAA,mBACAgB,OAA0BI,MAAA,MAC1BC,YAAAzB,EAAA0B,KAEAC,IAAA,UACAC,GAAA,SAAAC,GACA,OACAzB,EAAA,OAAqCE,YAAA,kBACrCF,EACA,QAEAI,IACAC,MAAA,SAAA0B,GACAA,EAAAC,kBACApC,EAAAqC,WACAR,EAAAS,OACAtC,EAAAuC,WAAAC,UAKAxC,EAAAO,GAAA,QAEAP,EAAAO,GAAA,KACA,SAAAP,EAAAsB,UAAAO,EAAAS,QAAAP,OACA3B,EACA,QAEAI,IACAC,MAAA,SAAA0B,GACAA,EAAAC,kBACApC,EAAAqC,WACAR,EAAAS,OACAtC,EAAAuC,WAAAE,YAKAzC,EAAAO,GAAA,QAEAP,EAAAkC,eAQA,IAGA,GAEAlC,EAAAO,GAAA,KACAH,EAAA,OAAmBE,YAAA,mBACnBF,EACA,OACaE,YAAA,oBAEbF,EAAA,iBACAgB,OAAwBsB,MAAA1C,EAAA0C,MAAAC,SAAA3C,EAAA2C,UACxBnC,IAAqBoC,WAAA5C,EAAA4C,eAGrB,UAQA7C,EAAA8C,eAAA,yDCtDAN,GACAC,KAAA,iBACAM,KAAA,YACAC,KAAA,YACAN,OAAA,eAEAO,GACAC,MAAA,KACAC,KAAA,MACAC,MAAA,OACAC,KAAA,QC3HwOC,GD8HxOzC,KAAA,QACA0C,YAAAC,aAAAC,EAAA,GACAnC,KAHA,WAIA,OACAsB,SAAA,GACAD,MAAA,EACAe,YAAA,EACAC,SAAA,GACAC,UAAA,EACAC,gBAAA,GACArB,aACAxB,SAAA,EACAO,YAEAuC,WAAA,EACAC,cAAA,EACAC,MAAA,GACAC,QAAA,GACAC,KAAA,GACAC,SAAA,GACAC,SAAA,GACAC,WAAA,GACAC,UAAA,EACAtC,OAAA,GACAE,WAAA,OAKAqC,UACAC,aADA,WAEA,OAAAtE,KAAAqB,UAAArB,KAAA2D,mBAGAY,QAnCA,WAoCA,IAAAC,EAAAxE,KAAAyE,OAAAC,OAAAC,GACAH,GACAxE,KAAA4E,QAAAC,IAAA,GAEA7E,KAAAyD,SAAAe,EACAxE,KAAA8E,sBAEAC,QAAWC,OACXC,OAAAC,EAAA,EAAAD,CAAA,aACAE,eAAAC,EAAA,KAEAzC,WAJA,SAIAa,GACAxD,KAAAwD,cACAxD,KAAA8E,sBAEAA,mBARA,WAQA,IAAAO,EAAArF,KAEAA,KAAAsF,SAAAxE,SAAA,IAAAyE,KAAAC,EAAA,EAAAC,gBACA7B,WAAA5D,KAAAyD,SACAf,SAAA1C,KAAA0C,SACAgD,KAAA1F,KAAAwD,cACAmC,KAAA,SAAAC,GACAA,EAAAxE,KAAAyE,KAAAC,IAAA,SAAAC,GAIA,OAHAA,EAAA/D,WAAAe,EAAAgD,EAAAjE,QACAiE,EAAA7B,SAAA6B,EAAA7B,UAAA,KACA6B,EAAAjC,MAAAiC,EAAAjC,OAAA,KACAiC,IAEAV,EAAA5C,MAAAmD,EAAAxE,KAAAqB,MACA4C,EAAAhE,UAAAuE,EAAAxE,KAAAyE,QAGAzD,WAzBA,SAyBA4D,EAAAC,GAAA,IAAAC,EAAAlG,KACAA,KAAA2D,gBAAAqC,EACAC,IAAAjG,KAAAsC,WAAAC,KACAvC,KAAAmG,iBACAF,IAAAjG,KAAAsC,WAAAQ,KACA9C,KAAAoG,YACAH,IAAAjG,KAAAsC,WAAAO,KACA7C,KAAA0D,UAAA,EACAuC,IAAAjG,KAAAsC,WAAAE,QACAxC,KAAAqG,aACAC,OAAA,GACAvC,QAAA,wBACAwC,WAAA,KACAC,YAAA,KACAtF,MAAA,QACAuF,YAAA,SAAAC,GACA,YAAAA,EAAAC,QACAT,EAAAU,eAMAT,eAhDA,WAiDA,IAAAU,EAAA7G,KAAAqB,UAAArB,KAAA2D,iBACA3D,KAAAmF,eAAA0B,GACA7G,KAAA4E,QAAAkC,KAAA,wBAAA9G,KAAAyD,SAAA,UAAAoD,EAAAhD,gBAEAkD,UArDA,WAsDA/G,KAAAgH,MAAAxB,EAAA,EAAAyB,sBACApD,cAAA7D,KAAAqB,UAAArB,KAAA2D,iBAAAE,gBACA8B,KAAA,SAAAC,GACAsB,QAAAC,IAAA,UACAD,QAAAC,IAAAvB,MAYAwB,qBAtEA,SAsEAV,GACA1G,KAAA0D,UAAA,EACA,YAAAgD,EAAAC,QACA3G,KAAA+G,aAGAH,SA5EA,WA4EA,IAAAS,EAAArH,KACAsH,EAAAtH,KAAAqB,UAAArB,KAAA2D,iBAAAE,cACA7D,KAAAgH,MAAAxB,EAAA,EAAA+B,gBACA1D,cAAAyD,IACA3B,KAAA,SAAAC,GACAyB,EAAAvC,wBAWAsB,UA5FA,WA6FA,IAAAS,EAAA7G,KAAAqB,UAAArB,KAAA2D,iBACA3D,KAAAmF,eAAA0B,GACA7G,KAAA4E,QAAAkC,KAAA,wBAAA9G,KAAAyD,SAAA,UAAAoD,EAAAhD,gBAEApD,SAjGA,WAkGAT,KAAA4E,QAAAkC,KAAA,2BAAA9G,KAAAyD,qCEjQA+D,EAAgBvC,OAAAwC,EAAA,EAAAxC,CACd7B,EACAtD,MAEF,EACA,KACA,WACA,MAuBA0H,EAAAE,QAAAC,OAAA,uCACeC,EAAA,QAAAJ","file":"static/js/15.9a59d893.js","sourcesContent":["import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=6533cfb3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=6533cfb3&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=6533cfb3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=6533cfb3&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"live-mager email-box\" }, [\n    _c(\"div\", { staticClass: \"live-title\" }, [\n      _c(\"span\", { staticClass: \"title\" }, [_vm._v(\"邮件邀约\")]),\n      _vm._v(\" \"),\n      _c(\n        \"button\",\n        { staticClass: \"primary-button fr\", on: { click: _vm.addEmail } },\n        [_vm._v(\"新建邮件\")]\n      ),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"send-box fr\" }, [\n        _vm._v(\"发送限额：2399/10000\")\n      ])\n    ]),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      {\n        directives: [\n          {\n            name: \"ComLoading\",\n            rawName: \"v-ComLoading\",\n            value: _vm.loading,\n            expression: \"loading\"\n          }\n        ],\n        staticClass: \"email-table-box\"\n      },\n      [\n        _c(\"div\", { staticClass: \"tip-box\" }, [\n          _vm._v(\n            \"\\n      通过邮件邀约，定制邀约邮件，邀请特定客户群参加直播活动\\n    \"\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            staticClass: \"table-list-box\",\n            staticStyle: { \"padding-top\": \"20px\" }\n          },\n          [\n            _c(\n              \"el-table\",\n              {\n                staticStyle: { width: \"100%\" },\n                attrs: { data: _vm.emailList }\n              },\n              [\n                _c(\"el-table-column\", {\n                  attrs: { prop: \"title\", label: \"邮件标题\" }\n                }),\n                _vm._v(\" \"),\n                _c(\"el-table-column\", {\n                  attrs: { prop: \"sendTime\", label: \"发送时间\" }\n                }),\n                _vm._v(\" \"),\n                _c(\"el-table-column\", {\n                  attrs: { prop: \"sendCount\", label: \"发送数量\" }\n                }),\n                _vm._v(\" \"),\n                _c(\"el-table-column\", {\n                  attrs: { prop: \"statusName\", label: \"状态\" },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"default\",\n                      fn: function(scope) {\n                        return [\n                          scope.row.status == \"DRAFT\"\n                            ? _c(\"span\", { staticClass: \"cg-status\" }, [\n                                _vm._v(_vm._s(scope.row.statusName))\n                              ])\n                            : _vm._e(),\n                          _vm._v(\" \"),\n                          scope.row.status == \"SEND\"\n                            ? _c(\"span\", { staticClass: \"fs-status\" }, [\n                                _vm._v(_vm._s(scope.row.statusName))\n                              ])\n                            : _vm._e(),\n                          _vm._v(\" \"),\n                          scope.row.status == \"AWAIT\"\n                            ? _c(\"span\", { staticClass: \"dd-status\" }, [\n                                _vm._v(_vm._s(scope.row.statusName))\n                              ])\n                            : _vm._e()\n                        ]\n                      }\n                    }\n                  ])\n                }),\n                _vm._v(\" \"),\n                _c(\"el-table-column\", {\n                  attrs: { label: \"操作\" },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"default\",\n                      fn: function(scope) {\n                        return [\n                          _c(\"div\", { staticClass: \"table-handler\" }, [\n                            _c(\n                              \"span\",\n                              {\n                                on: {\n                                  click: function($event) {\n                                    $event.stopPropagation()\n                                    _vm.clickEmail(\n                                      scope.$index,\n                                      _vm.handleType.info\n                                    )\n                                  }\n                                }\n                              },\n                              [_vm._v(\"查看\")]\n                            ),\n                            _vm._v(\" \"),\n                            _vm.emailList[scope.$index].status !== \"SEND\"\n                              ? _c(\n                                  \"span\",\n                                  {\n                                    on: {\n                                      click: function($event) {\n                                        $event.stopPropagation()\n                                        _vm.clickEmail(\n                                          scope.$index,\n                                          _vm.handleType.delete\n                                        )\n                                      }\n                                    }\n                                  },\n                                  [_vm._v(\"删除\")]\n                                )\n                              : _vm._e()\n                          ])\n                        ]\n                      }\n                    }\n                  ])\n                })\n              ],\n              1\n            )\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"pagination-box\" }, [\n          _c(\n            \"div\",\n            { staticClass: \"page-pagination\" },\n            [\n              _c(\"ve-pagination\", {\n                attrs: { total: _vm.total, pageSize: _vm.pageSize },\n                on: { changePage: _vm.changePage }\n              })\n            ],\n            1\n          )\n        ])\n      ]\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"live-mager email-box\">\n    <div class=\"live-title\">\n      <span class=\"title\">邮件邀约</span>\n      <button class=\"primary-button fr\"\n              @click=\"addEmail\">新建邮件</button>\n      <span class=\"send-box fr\">发送限额：2399/10000</span>\n    </div>\n    <div class=\"email-table-box\"\n         v-ComLoading=\"loading\">\n      <div class=\"tip-box\">\n        通过邮件邀约，定制邀约邮件，邀请特定客户群参加直播活动\n      </div>\n      <div class=\"table-list-box\"\n           style=\"padding-top: 20px;\">\n        <el-table :data=\"emailList\"\n                  style=\"width: 100%\">\n          <el-table-column prop=\"title\"\n                           label=\"邮件标题\">\n          </el-table-column>\n          <el-table-column prop=\"sendTime\"\n                           label=\"发送时间\">\n          </el-table-column>\n          <el-table-column prop=\"sendCount\"\n                           label=\"发送数量\">\n          </el-table-column>\n          <el-table-column prop=\"statusName\"\n                           label=\"状态\">\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.status=='DRAFT'\"\n                    class=\"cg-status\">{{scope.row.statusName}}</span>\n              <span v-if=\"scope.row.status=='SEND'\"\n                    class=\"fs-status\">{{scope.row.statusName}}</span>\n              <span v-if=\"scope.row.status=='AWAIT'\"\n                    class=\"dd-status\">{{scope.row.statusName}}</span>\n              <!--DRAFT: '草稿',-->\n              <!--SEND: '已发送',-->\n              <!--AWAIT: '等待发送'-->\n              <!--v-if=\"scope.row.status=='DRAFT'\"-->\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作\">\n            <template slot-scope=\"scope\">\n              <!--<el-button-->\n              <!--type=\"text\" size=\"small\"-->\n              <!--@click.stop=\"clickEmail(scope.$index,handleType.info)\">查看</el-button>-->\n              <!--<el-button-->\n              <!--type=\"text\" size=\"small\"-->\n              <!--v-if=\"emailList[scope.$index].status==='DRAFT'\"-->\n              <!--@click.stop=\"clickEmail(scope.$index,handleType.send)\" disabled>立刻发送</el-button>-->\n              <!--<el-button-->\n              <!--type=\"text\" size=\"small\"-->\n              <!--v-else-if=\"emailList[scope.$index].status!=='SEND'\"-->\n              <!--@click.stop=\"clickEmail(scope.$index,handleType.send)\">立刻发送</el-button>-->\n              <!--<el-button-->\n              <!--type=\"text\" size=\"small\"-->\n              <!--v-if=\"emailList[scope.$index].status!=='SEND'\"-->\n              <!--@click.stop=\"clickEmail(scope.$index,handleType.edit)\">编辑</el-button>-->\n              <!--<el-button-->\n              <!--type=\"text\" size=\"small\"-->\n              <!--v-if=\"emailList[scope.$index].status!=='SEND'\"-->\n              <!--@click.stop=\"clickEmail(scope.$index,handleType.delete)\">删除</el-button>-->\n              <div class=\"table-handler\">\n                <span @click.stop=\"clickEmail(scope.$index,handleType.info)\">查看</span>\n                <span v-if=\"emailList[scope.$index].status!=='SEND'\"\n                      @click.stop=\"clickEmail(scope.$index,handleType.delete)\">删除</span>\n              </div>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n      <div class=\"pagination-box\">\n        <div class=\"page-pagination\">\n          <ve-pagination :total=\"total\"\n                         :pageSize=\"pageSize\"\n                         @changePage=\"changePage\" />\n        </div>\n      </div>\n    </div>\n    <!--<message-box-->\n    <!--v-if=\"sendShow\"-->\n    <!--width=\"500px\"-->\n    <!--header=\"邮件推送确认\"-->\n    <!--confirmText='确认发送'-->\n    <!--@handleClick=\"handleClickSendEmail\">-->\n    <!--<div class=\"email-info\">-->\n    <!--<div class=\"email-info-row\">-->\n    <!--<span>邮件标题：</span>-->\n    <!--<span>{{currentEmail.title}}</span>-->\n    <!--</div>-->\n    <!--<div class=\"email-info-row\">-->\n    <!--<span>发件人：</span>-->\n    <!--<span>*****</span>-->\n    <!--</div>-->\n    <!--<div class=\"email-info-row\">-->\n    <!--<span>收件人：</span>-->\n    <!--<span>666</span>-->\n    <!--</div>-->\n    <!--<div class=\"email-info-row\">-->\n    <!--<span>邮件摘要：</span>-->\n    <!--<span>***********************************************************</span>-->\n    <!--</div>-->\n    <!--</div>-->\n    <!--</message-box>-->\n  </div>\n</template>\n\n<script>\nimport activityService from 'src/api/activity-service'\nimport VePagination from 'src/components/ve-pagination'\nimport { mapMutations } from 'vuex'\nimport * as types from '../../../store/mutation-types'\n\nconst handleType = {\n  info: 'queryInfoEmail',\n  send: 'sendEmail',\n  edit: 'editEmail',\n  delete: 'deleteEmail'\n}\nconst statusType = {\n  DRAFT: '草稿',\n  SEND: '已发送',\n  AWAIT: '等待发送',\n  FAIL: '发送失败'\n}\nexport default {\n  name: 'index',\n  components: { VePagination },\n  data () {\n    return {\n      pageSize: 10,\n      total: 0,\n      currentPage: 1,\n      activeId: '', // 活动id\n      sendShow: false,\n      currentEmailIdx: '',\n      handleType: handleType,\n      loading: false,\n      emailList: [\n        {\n          activityId: 0,\n          emailInviteId: 0,\n          title: '',\n          content: '',\n          desc: '',\n          planTime: '',\n          sendTime: '',\n          senderName: '',\n          sendCount: 0,\n          status: '',\n          statusName: ''\n        }\n      ]\n    }\n  },\n  computed: {\n    currentEmail () {\n      return this.emailList[this.currentEmailIdx]\n    }\n  },\n  created () {\n    const queryId = this.$route.params.id\n    if (!queryId) {\n      this.$router.go(-1)\n    }\n    this.activeId = queryId\n    this.queryEmailListById()\n  },\n  methods: {\n    ...mapMutations('liveMager', {\n      storeEmailInfo: types.EMAIL_INFO\n    }),\n    changePage (currentPage) {\n      this.currentPage = currentPage\n      this.queryEmailListById()\n    },\n    queryEmailListById () {\n      // this.loading = true\n      this.$config({ loading: true }).$get(activityService.GET_EMAIL_LIST, {\n        activityId: this.activeId,\n        pageSize: this.pageSize,\n        page: this.currentPage\n      }).then((res) => {\n        res.data.list.map((dataItem) => {\n          dataItem.statusName = statusType[dataItem.status]\n          dataItem.sendTime = dataItem.sendTime || '--'\n          dataItem.title = dataItem.title || '--'\n          return dataItem\n        })\n        this.total = res.data.total\n        this.emailList = res.data.list\n      })\n    },\n    clickEmail (idx, type) {\n      this.currentEmailIdx = idx\n      if (type === this.handleType.info) { // 查看\n        this.queryInfoEmail()\n      } else if (type === this.handleType.edit) { // 编辑\n        this.editEmail()\n      } else if (type === this.handleType.send) { // 立即发送\n        this.sendShow = true\n      } else if (type === this.handleType.delete) { // 删除\n        this.$messageBox({\n          header: '',\n          content: '删除邮件后，邮件内容将无法找回，确认删除？',\n          cancelText: '取消',\n          confirmText: '删除',\n          width: '400px',\n          handleClick: (e) => {\n            if (e.action === 'confirm') {\n              this.delEmail()\n            }\n          }\n        })\n      }\n    },\n    queryInfoEmail () {\n      const email = this.emailList[this.currentEmailIdx]\n      this.storeEmailInfo(email)\n      this.$router.push(`/liveMager/emailInfo/${this.activeId}?email=${email.emailInviteId}`)\n    },\n    sendEmail () {\n      this.$post(activityService.POST_SEND_EMAIL_INFO, {\n        emailInviteId: this.emailList[this.currentEmailIdx].emailInviteId\n      }).then((res) => {\n        console.log('邮件发送成功')\n        console.log(res)\n      })\n      // LiveHttp.sendEmailInfo({\n      //   emailInviteId: this.emailList[this.currentEmailIdx].emailInviteId\n      // }).then((res) => {\n      //   console.log('邮件发送成功')\n      //   console.log(res)\n      // }).catch((e) => {\n      //   console.log('邮件发送失败')\n      //   console.log(e)\n      // })\n    },\n    handleClickSendEmail (e) {\n      this.sendShow = false\n      if (e.action === 'confirm') {\n        this.sendEmail()\n      }\n    },\n    delEmail () {\n      const emaiId = this.emailList[this.currentEmailIdx].emailInviteId\n      this.$post(activityService.POST_DEL_EMAIL, {\n        emailInviteId: emaiId\n      }).then((res) => {\n        this.queryEmailListById()\n      })\n      // LiveHttp.deleteEmailById(emaiId).then((res) => {\n      //   if (res.code === 200) {\n      //     this.queryEmailListById()\n      //   }\n      // }).catch((e) => {\n      //   console.log('删除邮件失败')\n      //   console.log(e)\n      // })\n    },\n    editEmail () {\n      const email = this.emailList[this.currentEmailIdx]\n      this.storeEmailInfo(email)\n      this.$router.push(`/liveMager/emailEdit/${this.activeId}?email=${email.emailInviteId}`)\n    },\n    addEmail () {\n      this.$router.push(`/liveMager/emailEditOne/${this.activeId}`)\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped src=\"../css/live.scss\"></style>\n<style lang=\"scss\" scoped>\n.email-table-box {\n  font-size: 14px;\n}\n\n.send-box {\n  display: inline-block;\n  color: #888;\n  font-size: 14px;\n  line-height: 44px;\n  margin-right: 20px;\n}\n\n.cg-status {\n  color: #1bcab7;\n}\n\n.fs-status {\n  color: #4b5afe;\n}\n\n.dd-status {\n  color: #ff8b0e;\n}\n\n.email-box {\n  margin-top: 20px;\n}\n</style>\n\n","import mod from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6533cfb3&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"../css/live.scss?vue&type=style&index=0&id=6533cfb3&lang=scss&scoped=true&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=6533cfb3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6533cfb3\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/x.g/Documents/work/fe_management/node_modules/_vue-hot-reload-api@2.3.1@vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('6533cfb3', component.options)\n    } else {\n      api.reload('6533cfb3', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=6533cfb3&scoped=true&\", function () {\n      api.rerender('6533cfb3', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/live-mager/email/index.vue\"\nexport default component.exports"],"sourceRoot":""}