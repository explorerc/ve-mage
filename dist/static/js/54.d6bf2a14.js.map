{"version":3,"sources":["webpack:///./src/pages/sales-tools/recommend-goods/info.vue?26a3","webpack:///./src/components/ve-upload-goods.vue?14dd","webpack:///./src/components/ve-upload-goods.vue?eacc","webpack:///src/components/ve-upload-goods.vue","webpack:///./src/components/ve-upload-goods.vue","webpack:///./src/pages/sales-tools/recommend-goods/info.vue?f851","webpack:///src/pages/sales-tools/recommend-goods/info.vue","webpack:///./src/pages/sales-tools/recommend-goods/info.vue","webpack:///./src/components/ve-upload-goods.vue?aed5","webpack:///./src/pages/sales-tools/recommend-goods/info.vue?31d7","webpack:///./src/pages/sales-tools/recommend-goods/info.vue?4c42"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","_v","_s","$route","params","type","ref","staticClass","model","goodsData","rules","label-width","label","prop","placeholder","value","title","callback","$$v","$set","expression","slot","staticStyle","color","domProps","textContent","gbLength","min","max","price","_n","disabled","preferential","margin-bottom","_l","imageList","ite","ind","key","accept","defaultImg","nowIndex","fileSize","errorMsg","errMsg","initImg","name","on","error","$event","uploadError","success","uploadImgSuccess","url","tipsShow","_e","max-length","describe","trim","rows","cols","tao","round","click","onSubmit","resetForm","_withStripped","ve_upload_goodsvue_type_template_id_b09a25f0_scoped_true_render","directives","rawName","loading","fileSrc","coverImg","style","backgroundImage","imgHost","stopPropagation","deleteImage","overUpload","overPlus","isShowBigImg","src","alt","actionUrl","inputName","selected","progress","uploadProgress","load","errorTxt","innerHTML","tipTxt","components_ve_upload_goodsvue_type_script_lang_js_","components","ComUpload","data","percentImg","props","String","default","Number","watch","length","handler","val","immediate","$imgHost","methods","$emit","host","isDelete","$refs","uploadFile","parseFloat","percent","replace","toFixed","fildObj","JSON","parse","state","msg","component","Object","componentNormalizer","options","__file","ve_upload_goods","recommend_goods_infovue_type_script_lang_js_","initReady","isShowMsgB","deep","created","_this","getGoodsDetail","Breadcrumb","$nextTick","mounted","eventBus","VeUpload","computed","poster","_this2","errTitle","timerVail","timer","required","validator","rule","setTimeout","clearTimeout","Error","attr","obj","field","slice","gbIndex","trigger","indexOf","maxV","startsWith","num","map","item","add_upload","push","_this3","$post","salesGoods_service","GOODS_DETAIL","goods_id","then","res","image","imgLen","i","parse_int_default","_res$data","formName","_this4","validate","valid","console","log","_url","activity_id","CREATE_GOODS","UPDATE_GOODS","imgList","filter","stringify_default","$router","go","catch","err","beforeRouteLeave","to","from","next","$messageBox","header","width","content","cancelText","confirmText","handleClick","e","action","info_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ve_upload_goods_vue_vue_type_style_index_0_id_b09a25f0_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_info_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_info_vue_vue_type_style_index_1_id_5ceb96de_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"static/js/54.d6bf2a14.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { attrs: { id: \"goods-info\" } },\n    [\n      _c(\n        \"header\",\n        [\n          _vm._v(\n            _vm._s(this.$route.params.type === \"create\" ? \"新建\" : \"编辑\") +\n              \"商品信息\\n    \"\n          ),\n          _c(\"com-back\")\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"el-form\",\n        {\n          ref: \"goodsData\",\n          staticClass: \"demo-ruleForm\",\n          attrs: {\n            model: _vm.goodsData,\n            rules: _vm.rules,\n            \"label-width\": \"120px\"\n          }\n        },\n        [\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"商品名称：\", prop: \"title\" } },\n            [\n              _c(\n                \"el-input\",\n                {\n                  staticClass: \"slot_inp_b\",\n                  attrs: { placeholder: \"请输入商品名称（不少于3个字）\" },\n                  model: {\n                    value: _vm.goodsData.title,\n                    callback: function($$v) {\n                      _vm.$set(_vm.goodsData, \"title\", $$v)\n                    },\n                    expression: \"goodsData.title\"\n                  }\n                },\n                [\n                  _c(\"template\", { staticClass: \"slot\", slot: \"append\" }, [\n                    _c(\"span\", {\n                      staticStyle: { color: \"#2878FF\" },\n                      domProps: {\n                        textContent: _vm._s(_vm.goodsData.title.gbLength())\n                      }\n                    }),\n                    _vm._v(\"\\n          / 20\\n        \")\n                  ])\n                ],\n                2\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            {\n              staticClass: \"is-required\",\n              attrs: { label: \"原始价格：\", prop: \"price\" }\n            },\n            [\n              _c(\n                \"div\",\n                { staticClass: \"a_unit\" },\n                [\n                  _c(\"el-input\", {\n                    attrs: {\n                      min: \"0\",\n                      max: \"999999\",\n                      placeholder: \"请输入价格\"\n                    },\n                    model: {\n                      value: _vm.goodsData.price,\n                      callback: function($$v) {\n                        _vm.$set(_vm.goodsData, \"price\", _vm._n($$v))\n                      },\n                      expression: \"goodsData.price\"\n                    }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"span\", [_vm._v(\"元\")])\n                ],\n                1\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"优惠价格：\", prop: \"preferential\" } },\n            [\n              _c(\n                \"div\",\n                { staticClass: \"a_unit\" },\n                [\n                  _c(\"el-input\", {\n                    attrs: {\n                      disabled: !!!_vm.goodsData.price,\n                      placeholder: \"请输入价格\"\n                    },\n                    model: {\n                      value: _vm.goodsData.preferential,\n                      callback: function($$v) {\n                        _vm.$set(_vm.goodsData, \"preferential\", _vm._n($$v))\n                      },\n                      expression: \"goodsData.preferential\"\n                    }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"span\", [_vm._v(\"元\")])\n                ],\n                1\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            {\n              staticStyle: { \"margin-bottom\": \"10px\" },\n              attrs: { label: \"商品图片：\", prop: \"imageList\" }\n            },\n            [\n              _c(\n                \"div\",\n                { staticClass: \"upload_box\" },\n                [\n                  _vm._l(_vm.goodsData.imageList, function(ite, ind) {\n                    return [\n                      _c(\"ve-upload\", {\n                        key: ind,\n                        attrs: {\n                          title:\n                            \"图片小于2MB &nbsp;&nbsp;(jpg、png、bmp)&nbsp;&nbsp; 最佳尺寸：600 x 800\",\n                          accept: \"png|jpg|jpeg|bmp|gif\",\n                          defaultImg: _vm.defaultImg,\n                          nowIndex: ind || 0,\n                          fileSize: 2048,\n                          errorMsg: ite.errMsg,\n                          initImg: ite.name\n                        },\n                        on: {\n                          error: function($event) {\n                            _vm.uploadError($event, ite)\n                          },\n                          success: _vm.uploadImgSuccess\n                        }\n                      })\n                    ]\n                  })\n                ],\n                2\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            {\n              staticClass: \"url is-required\",\n              attrs: { label: \"商品链接：\", prop: \"url\" }\n            },\n            [\n              _c(\"el-input\", {\n                staticClass: \"inupt_text\",\n                attrs: { type: \"url\", placeholder: \"请输入商品链接\" },\n                model: {\n                  value: _vm.goodsData.url,\n                  callback: function($$v) {\n                    _vm.$set(_vm.goodsData, \"url\", $$v)\n                  },\n                  expression: \"goodsData.url\"\n                }\n              }),\n              _vm._v(\" \"),\n              _vm.tipsShow\n                ? _c(\"span\", { staticClass: \"tips\" }, [\n                    _vm._v(\"链接需要附带http://或https://头协议\")\n                  ])\n                : _vm._e()\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"商品描述：\" } },\n            [\n              _c(\"com-input\", {\n                staticClass: \"inupt_textarea\",\n                attrs: {\n                  \"max-length\": 140,\n                  type: \"textarea\",\n                  placeholder: \"请输入商品描述\"\n                },\n                model: {\n                  value: _vm.goodsData.describe,\n                  callback: function($$v) {\n                    _vm.$set(\n                      _vm.goodsData,\n                      \"describe\",\n                      typeof $$v === \"string\" ? $$v.trim() : $$v\n                    )\n                  },\n                  expression: \"goodsData.describe\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { staticClass: \"textarea-box\", attrs: { label: \"淘口令：\" } },\n            [\n              _c(\"com-input\", {\n                staticClass: \"inupt_textarea\",\n                attrs: {\n                  \"max-length\": 100,\n                  type: \"textarea\",\n                  rows: 5,\n                  cols: 4,\n                  placeholder: \"请输入淘口令\"\n                },\n                model: {\n                  value: _vm.goodsData.tao,\n                  callback: function($$v) {\n                    _vm.$set(\n                      _vm.goodsData,\n                      \"tao\",\n                      typeof $$v === \"string\" ? $$v.trim() : $$v\n                    )\n                  },\n                  expression: \"goodsData.tao\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { staticClass: \"btns_box\" },\n            [\n              _c(\n                \"el-button\",\n                {\n                  staticClass: \"add-goods primary-button\",\n                  attrs: { type: \"primary\", round: \"\" },\n                  on: {\n                    click: function($event) {\n                      _vm.onSubmit(\"goodsData\")\n                    }\n                  }\n                },\n                [_vm._v(\"保存\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-button\",\n                {\n                  attrs: { round: \"\" },\n                  on: {\n                    click: function($event) {\n                      _vm.resetForm(\"goodsData\")\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      directives: [\n        {\n          name: \"ComLoading\",\n          rawName: \"v-ComLoading\",\n          value: _vm.loading,\n          expression: \"loading\"\n        }\n      ],\n      staticClass: \"ve-upload-box\"\n    },\n    [\n      _vm.fileSrc || (!_vm.fileSrc && _vm.coverImg)\n        ? _c(\n            \"div\",\n            { staticClass: \"upload-img-box\" },\n            [\n              _c(\"transition\", { attrs: { name: \"fade\" } }, [\n                _vm.fileSrc\n                  ? _c(\"div\", {\n                      staticClass: \"temp-img\",\n                      style: {\n                        backgroundImage:\n                          \"url(\" + _vm.imgHost + \"/\" + _vm.fileSrc + \")\"\n                      }\n                    })\n                  : _vm._e(),\n                _vm._v(\" \"),\n                !_vm.fileSrc && _vm.coverImg\n                  ? _c(\"div\", {\n                      staticClass: \"temp-img\",\n                      style: { backgroundImage: \"url(\" + _vm.coverImg + \")\" }\n                    })\n                  : _vm._e()\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"over-upload\" }, [\n                _c(\n                  \"span\",\n                  {\n                    on: {\n                      click: function($event) {\n                        $event.stopPropagation()\n                        return _vm.deleteImage($event)\n                      }\n                    }\n                  },\n                  [\n                    _c(\"i\", { staticClass: \"iconfont icon-icon-shanchu\" }),\n                    _vm._v(\"\\n        删除\\n      \")\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"span\",\n                  {\n                    on: {\n                      click: function($event) {\n                        $event.stopPropagation()\n                        return _vm.overUpload($event)\n                      }\n                    }\n                  },\n                  [\n                    _c(\"i\", { staticClass: \"iconfont icon-yulanxuanzhuan\" }),\n                    _vm._v(\"\\n        重置\\n      \")\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"span\",\n                  {\n                    on: {\n                      click: function($event) {\n                        $event.stopPropagation()\n                        return _vm.overPlus($event)\n                      }\n                    }\n                  },\n                  [\n                    _c(\"i\", { staticClass: \"iconfont icon-fangda\" }),\n                    _vm._v(\"\\n        放大\\n      \")\n                  ]\n                )\n              ])\n            ],\n            1\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.isShowBigImg\n        ? _c(\"div\", { staticClass: \"big-img\" }, [\n            _c(\"span\", {\n              staticClass: \"el-icon-circle-close\",\n              on: {\n                click: function($event) {\n                  _vm.isShowBigImg = false\n                }\n              }\n            }),\n            _vm._v(\" \"),\n            _c(\"div\", [\n              _c(\"img\", {\n                attrs: {\n                  src:\n                    _vm.imgHost +\n                    \"/\" +\n                    _vm.fileSrc +\n                    \"?x-oss-process=image/resize,m_pad,h_500,w_500\",\n                  alt: \"\"\n                }\n              })\n            ])\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"com-upload\",\n        {\n          attrs: {\n            accept: _vm.accept,\n            actionUrl: \"/api/upload/image\",\n            inputName: \"file\",\n            fileSize: _vm.fileSize\n          },\n          on: {\n            error: _vm.uploadError,\n            selected: _vm.selected,\n            progress: _vm.uploadProgress,\n            load: _vm.uploadImgSuccess\n          }\n        },\n        [\n          _c(\n            \"div\",\n            {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: !(_vm.fileSrc || (!_vm.fileSrc && _vm.coverImg)),\n                  expression: \"!(fileSrc||(!fileSrc && coverImg))\"\n                }\n              ],\n              ref: \"uploadFile\",\n              staticClass: \"upload-file-box\",\n              attrs: { title: \"点击上传\" }\n            },\n            [\n              _c(\"i\", { staticClass: \"upload-icon\" }),\n              _vm._v(\" \"),\n              !_vm.errorTxt\n                ? _c(\"span\", { domProps: { innerHTML: _vm._s(_vm.tipTxt) } })\n                : _c(\"span\", { staticClass: \"error-msg\" }, [\n                    _vm._v(_vm._s(_vm.errorTxt))\n                  ])\n            ]\n          )\n        ]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ve-upload-goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ve-upload-goods.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"ve-upload-box\" v-ComLoading=\"loading\">\n    <div class=\"upload-img-box\" v-if=\"fileSrc||(!fileSrc && coverImg)\">\n      <transition name=\"fade\">\n        <div class=\"temp-img\" v-if=\"fileSrc\"\n             :style=\"{backgroundImage:'url('+imgHost+'/'+fileSrc+')'}\"></div>\n        <div class=\"temp-img\" v-if=\"!fileSrc && coverImg\"\n             :style=\"{backgroundImage:'url('+coverImg+')'}\"></div>\n      </transition>\n      <div class=\"over-upload\">\n        <span @click.stop=\"deleteImage\">\n          <i class=\"iconfont icon-icon-shanchu\"></i>\n          删除\n        </span>\n        <span @click.stop=\"overUpload\">\n          <i class=\"iconfont icon-yulanxuanzhuan\"></i>\n          重置\n        </span>\n        <span @click.stop=\"overPlus\">\n          <i class=\"iconfont icon-fangda\"></i>\n          放大\n        </span>\n      </div>\n    </div>\n    <div class=\"big-img\" v-if=\"isShowBigImg\">\n      <span @click=\"isShowBigImg = false\" class=\"el-icon-circle-close\"></span>\n      <!--:style=\"{backgroundImage:'url('+imgHost+'/'+fileSrc+')'+'?x-oss-process=image/resize,m_pad,h_500,w_500'}\"-->\n      <div>\n        <img :src=\"`${imgHost}/${fileSrc}?x-oss-process=image/resize,m_pad,h_500,w_500`\" alt=\"\">\n      </div>\n    </div>\n    <com-upload\n      :accept=\"accept\"\n      actionUrl=\"/api/upload/image\"\n      inputName=\"file\"\n      :fileSize=\"fileSize\"\n      @error=\"uploadError\"\n      @selected=\"selected\"\n      @progress=\"uploadProgress\"\n      @load=\"uploadImgSuccess\">\n      <div class=\"upload-file-box\" ref=\"uploadFile\" title=\"点击上传\" v-show=\"!(fileSrc||(!fileSrc && coverImg))\">\n        <i class=\"upload-icon\"></i>\n        <span v-if=\"!errorTxt\" v-html=\"tipTxt\"></span>\n        <span class=\"error-msg\" v-else>{{errorTxt}}</span>\n      </div>\n    </com-upload>\n  </div>\n</template>\n\n<script>\n  import ComUpload from 'src/components/common/upload/com'\n\n  export default {\n    name: 've-upload-image',\n    components: { ComUpload },\n    data () {\n      return {\n        isShowBigImg: false,\n        imgHost: '',\n        fileSrc: '',\n        coverImg: '',\n        tipTxt: '',\n        percentImg: 0,\n        errorTxt: '',\n        loading: false\n      }\n    },\n    props: {\n      accept: {\n        type: String,\n        default: 'png|jpg|jpeg|bmp|gif|doc|mp4'\n      },\n      fileSize: {\n        type: Number,\n        default: 1024\n      },\n      defaultImg: {\n        type: String,\n        default: ''\n      },\n      title: {\n        type: String,\n        default: '上传文件'\n      },\n      errorMsg: {\n        type: String,\n        default: ''\n      },\n      nowIndex: {\n        type: Number,\n        default: 0\n      },\n      initImg: {\n        type: String,\n        default: ''\n      }\n    },\n    watch: {\n      errorMsg (value) {\n        this.errorTxt = value\n        if (value.length) {\n          this.fileSrc = ''\n          this.coverImg = ''\n        }\n      },\n      defaultImg: {\n        handler (val) {\n          this.coverImg = val\n          if (!val) {\n            this.fileSrc = ''\n          }\n        },\n        immediate: true\n      },\n      title: {\n        handler (val) {\n          this.tipTxt = val\n        },\n        immediate: true\n      },\n      initImg: {\n        handler (val) {\n          this.imgHost = this.$imgHost\n          this.fileSrc = val\n        },\n        immediate: true\n      }\n    },\n    methods: {\n      deleteImage () {\n        this.coverImg = ''\n        this.fileSrc = ''\n        this.errorTxt = ''\n        this.$emit('success', {\n          name: '',\n          host: '',\n          nowIndex: this.nowIndex,\n          isDelete: true\n        })\n      },\n      overUpload () {\n        this.$refs.uploadFile.click()\n      },\n      overPlus () {\n        this.isShowBigImg = true\n      },\n      selected () {\n        this.loading = true\n      },\n      uploadProgress (data) {\n        this.loading = false\n        this.percentImg = parseFloat(parseFloat(data.percent.replace('%', '')).toFixed(2))\n        if (this.percentImg === 100) {\n          this.percentImg = 0\n        }\n      },\n      uploadImgSuccess (data) {\n        const fildObj = JSON.parse(data.data).data\n        if (fildObj.host) this.imgHost = fildObj.host\n        if (fildObj.name) this.fileSrc = fildObj.name\n        fildObj.nowIndex = this.nowIndex\n        this.$emit('success', fildObj)\n      },\n      uploadError (data) {\n        this.loading = false\n        const state = data.data[0].state\n        let msg = ''\n        if (state === 'size-limit') {\n          msg = '上传图片过大'\n        } else if (state === 'type-limit') {\n          msg = '不支持该格式，请重新上传'\n        } else {\n          msg = '图片上传失败'\n        }\n        this.fileSrc = ''\n        this.coverImg = ''\n        this.$emit('error', {\n          type: state,\n          msg: msg,\n          nowIndex: this.nowIndex\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n.fade-enter-active {\n  transition: all 0.3s ease;\n}\n\n.fade-leave-active {\n  transition: all 0.5s cubic-bezier(1, 0.5, 0.8, 1);\n}\n\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.ve-upload-box {\n  position: relative;\n  width: 440px;\n  height: 140px;\n  border: 1px dashed #e2e2e2;\n  border-radius: 4px;\n  background-color: #f7f7f7;\n  text-align: center;\n  overflow: hidden;\n  .over-upload {\n    display: block;\n    position: relative;\n    width: 100%;\n    height: 40px;\n    background-color: rgba(0, 0, 0, 0.6);\n    z-index: 3;\n    top: 0;\n    span {\n      display: inline-block;\n      width: 25%;\n      text-align: center;\n      color: #fff;\n      /*margin-top: 50px;*/\n      .iconfont {\n        display: block;\n      }\n      &:hover {\n        color: #ccc;\n      }\n    }\n  }\n  .upload-img-box {\n    height: 100%;\n    width: 249px;\n    margin: 0 auto;\n    overflow: hidden;\n    cursor: pointer;\n    .temp-img {\n      width: 100%;\n      height: 100%;\n      background-position: center center;\n      background-size: cover;\n    }\n    &:hover .over-upload {\n      transition: top 0.3s;\n      top: -30%;\n    }\n  }\n  .upload-file-box {\n    width: 400px;\n    padding-bottom: 40px;\n    cursor: pointer;\n    span {\n      font-size: 14px;\n      line-height: 20px;\n      color: #888;\n      &.error-msg {\n        color: #fc5659 !important;\n      }\n    }\n    .upload-icon {\n      display: block;\n      width: 60px;\n      height: 60px;\n      margin: 20px auto 0px auto;\n      background-image: url('../assets/image/upload-image-icon@2x.png');\n      background-size: cover;\n    }\n  }\n  .big-img {\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.5);\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 9999;\n    span {\n      color: white;\n      font-size: 50px;\n      position: absolute;\n      top: 100px;\n      right: 100px;\n      cursor: pointer;\n    }\n    div {\n      width: 500px;\n      height: 500px;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      background-size: cover;\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./ve-upload-goods.vue?vue&type=template&id=b09a25f0&scoped=true&\"\nimport script from \"./ve-upload-goods.vue?vue&type=script&lang=js&\"\nexport * from \"./ve-upload-goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ve-upload-goods.vue?vue&type=style&index=0&id=b09a25f0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b09a25f0\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/chenqi/Desktop/Wswork/fe_management/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('b09a25f0', component.options)\n    } else {\n      api.reload('b09a25f0', component.options)\n    }\n    module.hot.accept(\"./ve-upload-goods.vue?vue&type=template&id=b09a25f0&scoped=true&\", function () {\n      api.rerender('b09a25f0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/ve-upload-goods.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"","<template>\n  <div id=\"goods-info\">\n    <header>{{this.$route.params.type === 'create'?'新建':'编辑'}}商品信息\n      <com-back></com-back>\n    </header>\n    <el-form :model=\"goodsData\" ref=\"goodsData\" :rules=\"rules\" label-width=\"120px\" class=\"demo-ruleForm\">\n      <el-form-item label=\"商品名称：\" prop=\"title\">\n        <el-input v-model=\"goodsData.title\" class=\"slot_inp_b\" placeholder=\"请输入商品名称（不少于3个字）\">\n          <template slot=\"append\" class=\"slot\"><span v-text=\"goodsData.title.gbLength()\" style=\"color: #2878FF\"></span>\n            / 20\n          </template>\n        </el-input>\n      </el-form-item>\n      <el-form-item label=\"原始价格：\" prop=\"price\"  class=\"is-required\">\n        <div class=\"a_unit\">\n          <el-input v-model.number=\"goodsData.price\" min=\"0\" max=\"999999\" placeholder=\"请输入价格\"></el-input>\n          <span>元</span>\n        </div>\n      </el-form-item>\n      <el-form-item label=\"优惠价格：\" prop=\"preferential\">\n        <div class=\"a_unit\">\n          <el-input v-model.number=\"goodsData.preferential\" :disabled=\"!!!goodsData.price\"\n                    placeholder=\"请输入价格\"></el-input>\n          <span>元</span>\n        </div>\n      </el-form-item>\n      <el-form-item label=\"商品图片：\" prop=\"imageList\" style=\"margin-bottom:10px;\">\n        <div class=\"upload_box\">\n          <template v-for=\"(ite,ind) in goodsData.imageList\">\n            <ve-upload :key=\"ind\"\n                       title=\"图片小于2MB &nbsp;&nbsp;(jpg、png、bmp)&nbsp;&nbsp; 最佳尺寸：600 x 800\"\n                       accept=\"png|jpg|jpeg|bmp|gif\" :defaultImg=\"defaultImg\" :nowIndex=\"ind|| 0\"\n                       :fileSize=\"2048\"\n                       :errorMsg=\"ite.errMsg\"\n                       @error=\"uploadError($event, ite)\" :initImg=\"ite.name\"\n                       @success=\"uploadImgSuccess\"></ve-upload>\n          </template>\n          <!--:errorMsg=\"ind=== 0?uploadImgErrorMsg0:ind=== 1?uploadImgErrorMsg1:ind=== 2?uploadImgErrorMsg2:ind=== 3?uploadImgErrorMsg3:''\"-->\n        </div>\n      </el-form-item>\n      <el-form-item label=\"商品链接：\" prop=\"url\" class=\"url is-required\">\n        <el-input class=\"inupt_text\" v-model=\"goodsData.url\" type=\"url\" placeholder=\"请输入商品链接\"></el-input>\n        <span class=\"tips\" v-if=\"tipsShow\">链接需要附带http://或https://头协议</span>\n      </el-form-item>\n      <el-form-item label=\"商品描述：\" >\n        <com-input class=\"inupt_textarea\" :max-length=140 type=\"textarea\" v-model.trim=\"goodsData.describe\"\n                   placeholder=\"请输入商品描述\"></com-input>\n      </el-form-item>\n\n      <el-form-item label=\"淘口令：\" class=\"textarea-box\">\n        <com-input class=\"inupt_textarea\" :max-length=100 type=\"textarea\" :rows=5 :cols=4 v-model.trim=\"goodsData.tao\"\n                   placeholder=\"请输入淘口令\"></com-input>\n      </el-form-item>\n      <el-form-item class=\"btns_box\">\n        <el-button class=\"add-goods primary-button\" type=\"primary\" @click=\"onSubmit('goodsData')\" round>保存</el-button>\n        <el-button @click=\"resetForm('goodsData')\" round>取消</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  import VeUpload from 'src/components/ve-upload-goods'\n  import goodsServer from 'src/api/salesGoods-service'\n  import EventBus from 'src/utils/eventBus'\n\n  export default {\n    name: 'info',\n    watch: {\n      goodsData: {\n        handler () {\n          if (this.initReady) {\n            this.isShowMsgB = true\n          }\n        },\n        deep: true\n      }\n    },\n    created () {\n      if (this.$route.params.type === 'update') {\n        this.getGoodsDetail()\n        this.Breadcrumb = '编辑商品'\n      } else {\n        this.Breadcrumb = '新建商品'\n      }\n      this.$nextTick(() => {\n        this.initReady = true\n      })\n    },\n    mounted () {\n      EventBus.$emit('breads', [{\n        title: '活动管理'\n      }, {\n        title: '活动列表',\n        url: '/liveMager/list'\n      }, {\n        title: '活动详情',\n        url: `/liveMager/detail/${this.$route.params.id}`\n      }, {\n        title: '商品列表',\n        url: `/salesTools/recommendGoodsList/${this.$route.params.id}`\n      }, {\n        title: this.Breadcrumb,\n        url: `/salesTools/recommendGoodsList/${this.$route.params.id}/${this.$route.params.type}`\n      }])\n    },\n    components: {\n      VeUpload\n    },\n    computed: {\n      defaultImg () {\n        return this.poster ? `${this.$imgHost}/${this.poster}` : ''\n      }\n    },\n    data () {\n      let valiName = (rule, value, callback) => {\n        if (this.timerVail) return\n        this.timerVail = setTimeout(() => {\n          clearTimeout(this.timerVail)\n          this.timerVail = null\n          if (value) {\n            if (value.gbLength() < rule.min) {\n              return callback(new Error('商品名称过短'))\n            } else if (value.gbLength() > rule.max) {\n              for (let attr in this[rule.obj]) {\n                if (attr === rule.field) {\n                  this[rule.obj][attr] = value.slice(0, value.gbIndex(rule.max) + 1)\n                  return callback()\n                }\n              }\n            } else {\n              callback()\n            }\n          } else {\n            return callback(new Error('商品名称不能为空'))\n          }\n        }, 500)\n      }\n      let price = (rule, value, callback) => {\n        if (typeof value === 'number' && (value || value === 0)) {\n          if (value < 0 || value >= 999999) {\n            return callback(new Error('原始价格应大于0小于999999'))\n          } else if (String(value).indexOf('.') > -1 && String(value).slice(String(value).indexOf('.') + 1).length > 2) {\n            return callback(new Error('价格最多为小数点后两位'))\n          } else {\n            return callback()\n          }\n        } else {\n          return callback(new Error('请输入原始价格'))\n        }\n      }\n      let preferential = (rule, value, callback) => {\n        // if (String(value).slice(String(value).indexOf('.') + 1).length > 2) {\n        //   value = String(value).slice(0, String(value).indexOf('.') + 3)\n        // }\n        if (value) {\n          if (typeof value === 'number') {\n            let maxV = this[rule.obj].price\n            if (value && value < 0) {\n              return callback(new Error('优惠价格不能小于0'))\n            } else if (value && maxV && value >= maxV) {\n              return callback(new Error('优惠价格需小于原始价格'))\n            } else if (String(value).indexOf('.') > -1 && String(value).slice(String(value).indexOf('.') + 1).length > 2) {\n              return callback(new Error('优惠价格最多为小数点后两位'))\n            } else if (value && !maxV) {\n              return callback(new Error('请先填写原始价格'))\n            } else {\n              return callback()\n            }\n          } else {\n            return callback(new Error('请输入优惠价格'))\n          }\n        } else {\n          return callback()\n        }\n      }\n      let valiUpload = (rule, value, callback) => {\n        let num = 0\n        this[rule.obj].imageList.map((item) => {\n          if (item.name) {\n            num += 1\n          }\n        })\n        if (num > 0) {\n          if (value[0].name) {\n            return callback()\n          } else {\n            return callback(new Error('请上传封面图'))\n          }\n        } else {\n          return callback(new Error('请上传图片'))\n        }\n      }\n      let vailUrl = (rule, value, callback) => {\n        if (value.startsWith('http://') || value.startsWith('https://')) {\n          this.tipsShow = true\n          return callback()\n        } else {\n          this.tipsShow = false\n          return callback(new Error('请输入有效的链接以http://或https://开头'))\n        }\n      }\n      return {\n        tipsShow: true,\n        Breadcrumb: '',\n        isShowMsgB: false,\n        errTitle: '',\n        goodsData: {\n          title: '', // 标题\n          price: '', // 价格\n          preferential: '', // 优惠价格\n          url: '', // 商品链接\n          imageList: [{ errMsg: '' }, { errMsg: '' }, { errMsg: '' }, { errMsg: '' }],\n          describe: '', // 商品描述\n          tao: ''\n        },\n        timerVail: null,\n        timer: null,\n        rules: {\n          title: [\n            { required: true, validator: valiName, min: 3, max: 20, trigger: 'change', obj: 'goodsData' }\n          ],\n          price: [\n            { validator: price, type: 'number', min: 0, max: 999999, trigger: 'blur', obj: 'goodsData' }\n          ],\n          preferential: [\n            { validator: preferential, type: 'number', min: 0, max: 999999, trigger: 'blur', obj: 'goodsData' }\n          ],\n          // url: [\n          //   { required: true, type: 'url', message: '请输入有效的链接以http://或https://开头', trigger: 'blur', minlength: 0, maxlength: 300 },\n          //   { min: 0, max: 300, type: 'url', message: '商品链接应大于0小于300', trigger: 'blur' }\n          // ],\n          url: [\n            { validator: vailUrl, trigger: 'blur' }\n          ],\n          imageList: [\n            { required: true, validator: valiUpload, trigger: 'blur', obj: 'goodsData' }\n          ]\n        }\n      }\n    },\n    methods: {\n      add_upload () {\n        this.goodsData.imageList.push({ errMsg: '' })\n      },\n      getGoodsDetail () {\n        this.$post(goodsServer.GOODS_DETAIL, { goods_id: this.$route.params.id })\n          .then(res => {\n            res.data.image = JSON.parse(res.data.image)\n            let imgLen = res.data.image.length\n            for (let i = 0; i < 4 - imgLen; i++) {\n              res.data.image.push({ errMsg: '' })\n            }\n            res.data.price = Number.parseInt(res.data.price)\n            res.data.preferential = Number.parseInt(res.data.preferential);\n\n            ({\n              title: this.goodsData.title,\n              price: this.goodsData.price,\n              preferential: this.goodsData.preferential,\n              image: this.goodsData.imageList,\n              describe: this.goodsData.describe,\n              url: this.goodsData.url,\n              tao: this.goodsData.tao\n            } = res.data)\n          })\n      },\n      onSubmit (formName) {\n        if (this.timer) return\n        this.timer = setTimeout(() => {\n          clearTimeout(this.timer)\n          this.timer = null\n          this.$refs[formName].validate((valid) => {\n            if (valid) {\n              let _url\n              if (this.$route.params.type === 'create') {\n                this.goodsData.activity_id = this.$route.params.id // 活动id\n                _url = goodsServer.CREATE_GOODS\n              } else {\n                this.goodsData.goods_id = this.$route.params.id\n                _url = goodsServer.UPDATE_GOODS\n              }\n              let imgList = this.goodsData.imageList.filter((ite, ind) => {\n                if (ite.name) {\n                  return ite\n                }\n              })\n              this.goodsData.image = JSON.stringify(imgList)\n              this.$post(_url, this.goodsData)\n                .then(res => {\n                  // this.$toast({\n                  //   content: '操作成功!'\n                  // })\n                  this.$router.go(-1)\n                  this.isShowMsgB = false\n                })\n                .catch(err => {\n                  console.log(err)\n                })\n            } else {\n              console.log('error submit!!')\n              return false\n            }\n          })\n        }, 100)\n      },\n      resetForm (formName) {\n        this.$router.go(-1)\n        // this.$messageBox({\n        //   header: '',\n        //   content: '是否放弃当前编辑内容',\n        //   cancelText: '暂不', // 不传递cancelText将只有一个确定按钮\n        //   confirmText: '确定',\n        //   handleClick: (e) => {\n        //     if (e.action === 'cancel') {\n        //     } else if (e.action === 'confirm') {\n        //       this.$refs[formName].resetFields()\n        //       this.isShowMsgB = false\n        //       this.$router.go(-1)\n        //     }\n        //   }\n        // })\n      },\n      uploadImgSuccess (data) {\n        this.goodsData.imageList[data.nowIndex].name = data.name\n      },\n      uploadError (data, item) {\n        item.errMsg = data.msg\n        // this.goodsData.imageList[data.nowIndex].errMsg = data.msg\n      }\n    },\n    beforeRouteLeave (to, from, next) {\n      if (this.isShowMsgB) {\n        this.$messageBox({\n          header: '提示',\n          width: '400px',\n          content: '是否放弃当前编辑？',\n          cancelText: '否',\n          confirmText: '是',\n          handleClick: (e) => {\n            if (e.action === 'confirm') {\n              next(true)\n            } else {\n              next(false)\n            }\n          }\n        })\n      } else {\n        next(true)\n      }\n    }\n  }\n</script>\n<style lang=\"scss\">\n.el-form-item__error {\n  top: 90%;\n}\n</style>\n<style lang=\"scss\" scoped>\n@import '~assets/css/mixin.scss';\n#goods-info {\n  padding: 50px 100px;\n  font-family: PingFangSC-Regular;\n  /deep/ {\n    .el-form-item .tips {\n      display: block;\n      color: #606266;\n      height: 20px;\n      line-height: 20px;\n      font-size: 14px;\n    }\n    header {\n      height: 26px;\n      font-size: 24px;\n      font-weight: 400;\n      color: rgba(34, 34, 34, 1);\n      line-height: 26px;\n      margin-bottom: 25px;\n      position: relative;\n    }\n    .el-form {\n      padding: 40px 80px;\n      border: 1px solid #eee;\n      background-color: white;\n      .el-form-item:nth-of-type(1) {\n        .el-form-item__content {\n          width: 460px;\n        }\n      }\n      .el-form-item:nth-of-type(2),\n      .el-form-item:nth-of-type(3) {\n        width: 400px;\n      }\n      /*.el-form-item:last-of-type {*/\n      /*text-align: center;*/\n      /*}*/\n      .inupt_textarea {\n        width: 100%;\n        height: 120px;\n        .limit.area {\n          right: 12px;\n          bottom: 10px;\n        }\n      }\n      .inupt_text {\n        width: 440px;\n      }\n      .a_unit {\n        overflow: hidden;\n        width: 250px;\n        .el-input {\n          width: 200px;\n          float: left;\n        }\n        span {\n          display: inline-block;\n          width: 40px;\n          float: right;\n          text-align: left;\n        }\n      }\n      .slot_inp_b {\n        .el-input__inner {\n          padding-right: 60px;\n          border-radius: 4px;\n        }\n      }\n      .el-input-group__append {\n        width: 60px;\n        transform: translateX(-61px);\n        text-align: center;\n        border: transparent;\n        background-color: transparent;\n        padding: 0;\n      }\n      .el-input__inner,\n      .el-input.el-input__inner,\n      .el-input__inner {\n        border-color: #cecece !important;\n      }\n      .el-input__inner:hover,\n      .el-input.is-active .el-input__inner,\n      .el-input__inner:focus {\n        border-color: #888888 !important;\n      }\n      .el-form-item.url {\n        margin-bottom: 24px;\n      }\n      .el-form-item.textarea-box {\n        transform: translateY(-8px);\n      }\n      .el-form-item:last-child {\n        text-align: center;\n      }\n    }\n    .upload_box {\n      position: relative;\n      &::before {\n        content: '';\n        width: 32px;\n        height: 35px;\n        display: inline-block;\n        position: absolute;\n        top: 0;\n        left: 0;\n        z-index: 100;\n        background-image: url('~assets/image/index01.svg');\n        background-size: cover;\n      }\n      .ve-upload-box {\n        width: 140px;\n        height: 140px;\n        margin: auto 10px auto 0;\n        display: inline-block;\n        .upload-img-box {\n          width: 140px;\n          height: 140px;\n        }\n        .over-upload {\n          width: 140px;\n        }\n        .com-upload {\n          width: 100%;\n          height: 140px;\n          .upload-file-box {\n            width: 100%;\n            .upload-icon {\n              margin: 10px auto 0px auto;\n            }\n            span {\n              display: inline-block;\n              /*margin: auto 5px;*/\n              color: #cccccc;\n              font-size: 12px;\n            }\n          }\n        }\n      }\n      > span {\n        font-size: 30px;\n        transform: translateY(-60px);\n        color: #999999;\n      }\n    }\n    .btns_box {\n      .add-goods {\n\n      }\n      .el-button.is-round {\n        width: 140px;\n        height: 40px !important;\n      }\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=5ceb96de&scoped=true&\"\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./info.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./info.vue?vue&type=style&index=1&id=5ceb96de&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ceb96de\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/chenqi/Desktop/Wswork/fe_management/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5ceb96de', component.options)\n    } else {\n      api.reload('5ceb96de', component.options)\n    }\n    module.hot.accept(\"./info.vue?vue&type=template&id=5ceb96de&scoped=true&\", function () {\n      api.rerender('5ceb96de', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/sales-tools/recommend-goods/info.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ve-upload-goods.vue?vue&type=style&index=0&id=b09a25f0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ve-upload-goods.vue?vue&type=style&index=0&id=b09a25f0&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=1&id=5ceb96de&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=1&id=5ceb96de&lang=scss&scoped=true&\""],"sourceRoot":""}