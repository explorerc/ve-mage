{"version":3,"sources":["webpack:///./src/pages/sales-tools/recommend-cards/detail.vue?46c1","webpack:///./src/pages/sales-tools/recommend-cards/detail.vue?9d3f","webpack:///./src/pages/sales-tools/recommend-cards/detail.vue?b404","webpack:///src/pages/sales-tools/recommend-cards/detail.vue","webpack:///./src/pages/sales-tools/recommend-cards/detail.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_detail_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","cardId","_m","attrs","value","title","placeholder","max-length","error-tips","titleError","on","update:value","$event","focus","accept","defaultImg","fileSize","errorMsg","uploadImgErrorMsg","error","uploadError","success","uploadImgSuccess","type","desc","inactive-color","width","active-color","change","switchChange","model","btnSwitch","callback","$$v","expression","btnTxt","btnTxtError","_e","btnLink","btnLinkError","click","save","cancel","poster","length","src","imgHost","to","target","_withStripped","recommend_cards_detailvue_type_script_lang_js_","data","activityId","$route","params","id","img","query","saveData","canSave","mounted","getDetail","methods","verify","activity_id","recommend_card_id","pic","btn_display","btn_text","btn_link","saveCard","updateCard","window","history","go","name","console","log","msg","res","_this","$post","salesCards_service","POST_CREATE_CARD","then","$toast","content","position","$router","push","_this2","POST_UPDATE_CARD","setTimeout","reg","RegExp","test","_this3","$config","loading","$get","GET_CARDS_DETAIL","computed","$imgHost","components","VeUpload","ve_upload_image","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/52.0b1f31e2.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&scope=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&scope=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"wrap-page card-page\" }, [\n    _c(\"div\", { staticClass: \"page-title\" }, [\n      _c(\"span\", { staticClass: \"title\" }, [\n        _vm._v(_vm._s(_vm.cardId === \"new\" ? \"创建\" : \"编辑\") + \"卡片\")\n      ])\n    ]),\n    _vm._v(\" \"),\n    _vm._m(0),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"content from-box\" }, [\n      _c(\"div\", { staticClass: \"from-row\" }, [\n        _vm._m(1),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"from-content\" },\n          [\n            _c(\"com-input\", {\n              attrs: {\n                value: _vm.title,\n                placeholder: \"请输入卡片名称\",\n                \"max-length\": 15,\n                \"error-tips\": _vm.titleError\n              },\n              on: {\n                \"update:value\": function($event) {\n                  _vm.title = $event\n                },\n                focus: function($event) {\n                  _vm.titleError = \"\"\n                }\n              }\n            })\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"from-row\" }, [\n        _vm._m(2),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"from-content\" },\n          [\n            _c(\"ve-upload\", {\n              attrs: {\n                title: \"gif、jpg、png、bmp<br>大小不超过2M\",\n                accept: \"gif|png|jpg|bmp\",\n                defaultImg: _vm.defaultImg,\n                fileSize: 2048,\n                errorMsg: _vm.uploadImgErrorMsg\n              },\n              on: { error: _vm.uploadError, success: _vm.uploadImgSuccess }\n            })\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"from-row\" }, [\n        _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"卡片描述：\")]),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"from-content\" },\n          [\n            _c(\"com-input\", {\n              staticClass: \"msg-content\",\n              attrs: {\n                type: \"textarea\",\n                value: _vm.desc,\n                placeholder: \"请输入卡片描述\",\n                \"max-length\": 140\n              },\n              on: {\n                \"update:value\": function($event) {\n                  _vm.desc = $event\n                }\n              }\n            })\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"from-row\" }, [\n        _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"显示按钮：\")]),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"from-content switch-box\" },\n          [\n            _c(\"el-switch\", {\n              staticClass: \"switch\",\n              attrs: {\n                \"inactive-color\": \"#DEE1FF\",\n                width: 32,\n                \"active-color\": \"#FFD021\"\n              },\n              on: {\n                change: function($event) {\n                  _vm.switchChange()\n                }\n              },\n              model: {\n                value: _vm.btnSwitch,\n                callback: function($$v) {\n                  _vm.btnSwitch = $$v\n                },\n                expression: \"btnSwitch\"\n              }\n            })\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _vm.btnSwitch\n        ? _c(\"div\", { staticClass: \"from-row\" }, [\n            _vm._m(3),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"from-content\" },\n              [\n                _c(\"com-input\", {\n                  attrs: {\n                    value: _vm.btnTxt,\n                    placeholder: \"请输入按钮文案\",\n                    \"max-length\": 6,\n                    \"error-tips\": _vm.btnTxtError\n                  },\n                  on: {\n                    \"update:value\": function($event) {\n                      _vm.btnTxt = $event\n                    },\n                    focus: function($event) {\n                      _vm.btnTxtError = \"\"\n                    }\n                  }\n                })\n              ],\n              1\n            )\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.btnSwitch\n        ? _c(\"div\", { staticClass: \"from-row\" }, [\n            _vm._m(4),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"from-content\" },\n              [\n                _c(\"com-input\", {\n                  attrs: {\n                    value: _vm.btnLink,\n                    placeholder: \"请输入按钮链接\",\n                    \"error-tips\": _vm.btnLinkError,\n                    \"max-length\": 300\n                  },\n                  on: {\n                    \"update:value\": function($event) {\n                      _vm.btnLink = $event\n                    },\n                    focus: function($event) {\n                      _vm.btnLinkError = \"\"\n                    }\n                  }\n                })\n              ],\n              1\n            )\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"from-row\" }, [\n        _c(\"div\", { staticClass: \"from-title\" }),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"from-content btn-box\" },\n          [\n            _c(\n              \"el-button\",\n              {\n                staticClass: \"primary-button save-btn\",\n                on: { click: _vm.save }\n              },\n              [_vm._v(\"保存\")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"el-button\",\n              {\n                staticClass: \"default-button save-btn\",\n                on: { click: _vm.cancel }\n              },\n              [_vm._v(\"取消\")]\n            )\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"overview\" }, [\n        _c(\"dl\", [\n          _c(\"dt\", [\n            !_vm.poster.length\n              ? _c(\"div\", { staticClass: \"img img-empty\" })\n              : _c(\"img\", {\n                  staticClass: \"img\",\n                  attrs: { src: _vm.imgHost + \"/\" + _vm.poster }\n                })\n          ]),\n          _vm._v(\" \"),\n          _vm.desc.length > 0\n            ? _c(\"dd\", { staticClass: \"desc\" }, [_vm._v(_vm._s(_vm.desc))])\n            : _c(\"dd\", { staticClass: \"desc\" }, [\n                _vm._v(\"此处是卡片描述，最多可添加140个字\")\n              ]),\n          _vm._v(\" \"),\n          _vm.btnSwitch\n            ? _c(\n                \"dd\",\n                { staticClass: \"btn-dd\" },\n                [\n                  _c(\n                    \"router-link\",\n                    { attrs: { to: _vm.btnLink, target: \"_blank\" } },\n                    [\n                      _c(\"el-button\", { staticClass: \"primary-button btn\" }, [\n                        _vm._v(\n                          _vm._s(_vm.btnTxt.length > 0 ? _vm.btnTxt : \"按钮\")\n                        )\n                      ])\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            : _vm._e()\n        ]),\n        _vm._v(\" \"),\n        _vm._m(5)\n      ])\n    ])\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"tips-title\" }, [\n      _c(\"i\"),\n      _vm._v(\"注意：在推荐卡片中嵌入链接可能会导致观众跳转分流，请合理使用\\n  \")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"卡片名称：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"卡片图片：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"按钮文案：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"按钮链接：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"tips\" }, [\n      _c(\"p\", { staticClass: \"title\" }, [_vm._v(\"卡片预览\")])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class='wrap-page card-page'>\r\n    <div class=\"page-title\">\r\n      <span class=\"title\">{{cardId === 'new' ? '创建' :'编辑'}}卡片</span>\r\n    </div>\r\n    <div class=\"tips-title\">\r\n      <i></i>注意：在推荐卡片中嵌入链接可能会导致观众跳转分流，请合理使用\r\n    </div>\r\n    <div class=\"content from-box\">\r\n      <div class=\"from-row\">\r\n        <div class=\"from-title\"><i class=\"star\">*</i>卡片名称：</div>\r\n        <div class=\"from-content\">\r\n          <com-input :value.sync=\"title\" placeholder=\"请输入卡片名称\" :max-length=\"15\" :error-tips='titleError' @focus=\"titleError=''\"></com-input>\r\n        </div>\r\n      </div>\r\n      <div class=\"from-row\">\r\n        <div class=\"from-title\"><i class=\"star\">*</i>卡片图片：</div>\r\n        <div class=\"from-content\">\r\n          <ve-upload title=\"gif、jpg、png、bmp<br>大小不超过2M\" accept=\"gif|png|jpg|bmp\" :defaultImg=\"defaultImg\" :fileSize=\"2048\" :errorMsg=\"uploadImgErrorMsg\" @error=\"uploadError\" @success=\"uploadImgSuccess\"></ve-upload>\r\n        </div>\r\n      </div>\r\n      <div class=\"from-row\">\r\n        <div class=\"from-title\">卡片描述：</div>\r\n        <div class=\"from-content\">\r\n          <com-input type=\"textarea\" class=\"msg-content\" :value.sync=\"desc\" placeholder=\"请输入卡片描述\" :max-length=\"140\"></com-input>\r\n        </div>\r\n      </div>\r\n      <div class=\"from-row\">\r\n        <div class=\"from-title\">显示按钮：</div>\r\n        <div class=\"from-content switch-box\">\r\n          <el-switch class='switch' v-model=\"btnSwitch\" inactive-color=\"#DEE1FF\" :width=\"32\" active-color=\"#FFD021\" @change=\"switchChange()\"></el-switch>\r\n        </div>\r\n      </div>\r\n      <div class=\"from-row\" v-if=\"btnSwitch\">\r\n        <div class=\"from-title\"><i class=\"star\">*</i>按钮文案：</div>\r\n        <div class=\"from-content\">\r\n          <com-input :value.sync=\"btnTxt\" placeholder=\"请输入按钮文案\" :max-length=\"6\" :error-tips=\"btnTxtError\" @focus=\"btnTxtError = ''\"></com-input>\r\n        </div>\r\n      </div>\r\n      <div class=\"from-row\" v-if=\"btnSwitch\">\r\n        <div class=\"from-title\"><i class=\"star\">*</i>按钮链接：</div>\r\n        <div class=\"from-content\">\r\n          <com-input :value.sync=\"btnLink\" placeholder=\"请输入按钮链接\" :error-tips=\"btnLinkError\" @focus=\"btnLinkError = ''\" :max-length=\"300\"></com-input>\r\n        </div>\r\n      </div>\r\n      <div class=\"from-row\">\r\n        <div class=\"from-title\"></div>\r\n        <div class=\"from-content btn-box\">\r\n          <el-button class='primary-button save-btn' @click='save'>保存</el-button>\r\n          <el-button class='default-button save-btn' @click='cancel'>取消</el-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"overview\">\r\n        <dl>\r\n          <dt>\r\n              <div class=\"img img-empty\" v-if=\"!poster.length\"></div>\r\n              <img class=\"img\" :src=\"`${imgHost}/${poster}`\" v-else>\r\n            </dt>\r\n          <dd class='desc' v-if=\"desc.length>0\">{{desc}}</dd>\r\n          <dd class='desc' v-else>此处是卡片描述，最多可添加140个字</dd>\r\n          <dd class='btn-dd' v-if=\"btnSwitch\">\r\n            <router-link :to=\"btnLink\" target=\"_blank\">\r\n              <el-button class='primary-button btn'>{{btnTxt.length>0 ? btnTxt:'按钮'}}</el-button>\r\n            </router-link>\r\n          </dd>\r\n        </dl>\r\n        <div class=\"tips\">\r\n          <p class=\"title\">卡片预览</p>\r\n          <!-- <p class=\"txt\">功能说明：<br></p> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import VeUpload from 'src/components/ve-upload-image'\r\n  import cardService from 'src/api/salesCards-service.js'\r\n  export default {\r\n    data () {\r\n      return {\r\n        activityId: this.$route.params.id,\r\n        title: '',\r\n        titleError: '',\r\n        img: '',\r\n        desc: '',\r\n        btnSwitch: true,\r\n        btnTxt: '',\r\n        btnTxtError: '',\r\n        btnLink: '',\r\n        btnLinkError: '',\r\n        poster: '',\r\n        imgHost: process.env.IMGHOST + '/',\r\n        uploadImgErrorMsg: '',\r\n        cardId: this.$route.query.cardId,\r\n        saveData: '',\r\n        canSave: false\r\n      }\r\n    },\r\n    mounted () {\r\n      if (this.cardId !== 'new') {\r\n        this.getDetail(this.cardId)\r\n      }\r\n    },\r\n    methods: {\r\n      save () {\r\n        this.verify()\r\n        if (!this.canSave) {\r\n          return false\r\n        }\r\n        this.saveData = {\r\n          activity_id: this.activityId,\r\n          recommend_card_id: this.cardId === 'new' ? '' : this.cardId,\r\n          title: this.title,\r\n          pic: this.poster,\r\n          desc: this.desc,\r\n          btn_display: this.btnSwitch ? 'Y' : 'N',\r\n          btn_text: this.btnTxt,\r\n          btn_link: this.btnLink\r\n        }\r\n        if (this.cardId === 'new') { // 新建\r\n          this.saveCard()\r\n        } else { // 编辑\r\n          this.updateCard()\r\n        }\r\n      },\r\n      cancel () {\r\n        window.history.go(-1)\r\n      },\r\n      uploadImgSuccess (data) {\r\n        this.poster = data.name\r\n      },\r\n      uploadError (data) {\r\n        console.log('上传失败:', data)\r\n        this.uploadImgErrorMsg = data.msg\r\n      },\r\n      switchChange (res) {\r\n\r\n      },\r\n      saveCard () {\r\n        this.$post(cardService.POST_CREATE_CARD, this.saveData).then((res) => {\r\n          this.$toast({\r\n            content: '保存成功',\r\n            position: 'center'\r\n          })\r\n          this.$router.push(`/salesTools/recommendCards/${this.activityId}`)\r\n        })\r\n      },\r\n      updateCard () {\r\n        this.$post(cardService.POST_UPDATE_CARD, this.saveData).then((res) => {\r\n          this.$toast({\r\n            content: '更新成功',\r\n            position: 'center'\r\n          })\r\n          setTimeout(() => {\r\n            this.$router.push(`/salesTools/recommendCards/${this.activityId}`)\r\n          }, 500)\r\n        })\r\n      },\r\n      verify () {\r\n        const reg = new RegExp('^(https?:\\/\\/)([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$') // eslint-disable-line\r\n        this.title.length ? this.titleError = '' : this.titleError = '请输入卡片名称'\r\n        this.poster.length ? this.uploadImgErrorMsg = '' : this.uploadImgErrorMsg = '请上传卡片图片'\r\n        if (this.btnSwitch) {\r\n          this.btnTxt.length ? this.btnTxtError = '' : this.btnTxtError = '请输入按钮文案'\r\n          reg.test(this.btnLink) ? this.btnLinkError = '' : this.btnLinkError = '请输入有效的按钮链接以http或https开头'\r\n        } else {\r\n          this.canSave = false\r\n        }\r\n        if (this.title.length && this.poster.length) {\r\n          if (this.btnSwitch) {\r\n            if (this.btnTxt.length && !this.btnLinkError.length) {\r\n              this.canSave = true\r\n            } else {\r\n              this.canSave = false\r\n            }\r\n          } else {\r\n            this.canSave = true\r\n          }\r\n        } else {\r\n          this.canSave = false\r\n        }\r\n      },\r\n      getDetail (id) {\r\n        this.$config({\r\n          loading: true\r\n        }).$get(cardService.GET_CARDS_DETAIL, {\r\n          recommend_card_id: id\r\n        }).then((res) => {\r\n          this.title = res.data.title\r\n          this.poster = res.data.pic\r\n          this.btnSwitch = res.data.btn_display === 'Y'\r\n          this.btnTxt = res.data.btn_text\r\n          this.btnLink = res.data.btn_link\r\n          this.desc = res.data.desc\r\n        })\r\n      }\r\n    },\r\n    computed: {\r\n      defaultImg () {\r\n        return this.poster ? `${this.$imgHost}/${this.poster}` : ''\r\n      }\r\n    },\r\n    components: {\r\n      VeUpload\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang='scss' scope>\r\n@import '~assets/css/mixin.scss';\r\n@import './common.scss';\r\n.card-page {\r\n  .from-row {\r\n    display: flex;\r\n    padding: 12px;\r\n    .from-title {\r\n      width: 180px;\r\n      text-align: right;\r\n      padding-right: 20px;\r\n      color: #555;\r\n      line-height: 40px;\r\n      .star {\r\n        position: relative;\r\n        top: 3px;\r\n        color: $color-red;\r\n        padding-right: 5px;\r\n      }\r\n    }\r\n    .error /deep/ {\r\n      .el-input__inner {\r\n        border: 1px solid $color-red;\r\n      }\r\n      .default-button {\r\n        border: 1px solid $color-red;\r\n      }\r\n    }\r\n    .from-content {\r\n      position: relative;\r\n      flex: 1;\r\n      .error-msg {\r\n        display: block;\r\n        color: $color-red;\r\n        margin-left: 10px;\r\n      }\r\n      .input-box {\r\n        width: 400px;\r\n      }\r\n      .from-msg-tip {\r\n        position: absolute;\r\n        top: -2px;\r\n        width: 100%;\r\n        left: 200px;\r\n      }\r\n      &.switch-box {\r\n        line-height: 40px;\r\n        // .el-switch__core {\r\n        //   height: 26px;\r\n        //   border-radius: 38px;\r\n        //   .el-switch__button {\r\n        //     width: 22px;\r\n        //     height: 22px;\r\n        //   }\r\n        // }\r\n      }\r\n      .msg-content {\r\n        width: 440px;\r\n        height: 200px;\r\n        .limit.area {\r\n          right: 12px;\r\n          bottom: 10px;\r\n        }\r\n      }\r\n      &.btn-box {\r\n        text-align: center;\r\n      }\r\n      .ve-upload-box {\r\n        width: 140px;\r\n        .upload-img-box {\r\n          width: 100%;\r\n          .temp-img {\r\n            background-size: 100%;\r\n            background-repeat: no-repeat;\r\n          }\r\n        }\r\n        .upload-file-box {\r\n          width: 100%;\r\n        }\r\n      }\r\n      .com-input {\r\n        width: 440px;\r\n        textarea::-webkit-input-placeholder {\r\n          color: #888888;\r\n          font-size: 14px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .content {\r\n    position: relative;\r\n    .overview {\r\n      position: absolute;\r\n      top: 40px;\r\n      right: 123px;\r\n      width: 280px;\r\n      .img-empty {\r\n        background: url('~assets/image/cards-group.jpg') no-repeat center;\r\n        background-size: 140px 100px;\r\n      }\r\n    }\r\n    .overview dl {\r\n      text-align: center;\r\n      padding: 20px;\r\n      width: 100%;\r\n      border: 1px solid #d9d9d9;\r\n      border-radius: 4px;\r\n      .img {\r\n        width: 240px;\r\n        height: 200px;\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 4px;\r\n        margin: 0 auto;\r\n      }\r\n      .desc {\r\n        padding: 20px 0;\r\n        color: #888;\r\n        word-break: break-all;\r\n      }\r\n      a:hover .btn {\r\n        color: $color-font;\r\n      }\r\n      .btn {\r\n        padding: 0;\r\n        width: 180px;\r\n        height: 32px;\r\n        line-height: 32px;\r\n        text-align: center;\r\n      }\r\n      .btn-dd {\r\n        margin-top: 20px;\r\n      }\r\n    }\r\n    .overview .tips {\r\n      width: 100%;\r\n      .title {\r\n        color: $color-font;\r\n        font-size: 18px;\r\n        text-align: center;\r\n        padding: 20px 0 10px 0;\r\n      }\r\n      .txt {\r\n        color: #888;\r\n        font-size: 14px;\r\n        text-align: justify;\r\n        line-height: 24px;\r\n        padding: 0 10px;\r\n      }\r\n    }\r\n    .btn-box {\r\n      // text-align: center;\r\n    }\r\n    .save-btn {\r\n      padding: 0;\r\n      width: 160px;\r\n      height: 40px;\r\n      line-height: 40px;\r\n      text-align: center;\r\n      &:hover span {\r\n        color: $color-font;\r\n      }\r\n    }\r\n  }\r\n  .tips-title {\r\n    width: 100%;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    background: rgba(233, 235, 255, 1);\r\n    border-radius: 4px;\r\n    border: 1px solid rgba(129, 140, 254, 1);\r\n    margin-bottom: 20px;\r\n    i {\r\n      width: 20px;\r\n      height: 20px;\r\n      display: inline-block;\r\n      background: url('~assets/image/excal.svg') no-repeat;\r\n      position: relative;\r\n      top: 4px;\r\n      right: 4px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=01f6e472&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\vHall\\\\fe_management\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('01f6e472', component.options)\n    } else {\n      api.reload('01f6e472', component.options)\n    }\n    module.hot.accept(\"./detail.vue?vue&type=template&id=01f6e472&\", function () {\n      api.rerender('01f6e472', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/sales-tools/recommend-cards/detail.vue\"\nexport default component.exports"],"sourceRoot":""}