{"version":3,"sources":["webpack:///./src/pages/sales-tools/recommend-cards/detail.vue?9d3f","webpack:///./src/pages/sales-tools/recommend-cards/detail.vue?b404","webpack:///src/pages/sales-tools/recommend-cards/detail.vue","webpack:///./src/pages/sales-tools/recommend-cards/detail.vue","webpack:///./src/pages/sales-tools/recommend-cards/detail.vue?46c1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","keydown","$event","canPaas","_v","_s","cardId","class","_m","attrs","value","title","placeholder","max-length","error-tips","titleError","update:value","focus","accept","defaultImg","fileSize","errorMsg","uploadImgErrorMsg","error","uploadError","success","uploadImgSuccess","type","desc","staticStyle","padding","inactive-color","width","active-color","change","switchChange","model","btnSwitch","callback","$$v","expression","btnTxt","btnTxtError","_e","btnLink","btnLinkError","click","save","cancel","poster","length","style","backgroundImage","$imgHost","to","target","_withStripped","recommend_cards_detailvue_type_script_lang_js_","data","activityId","$route","params","id","img","imgHost","query","saveData","canSave","created","eventBus","$emit","url","mounted","getDetail","methods","verify","activity_id","recommend_card_id","pic","btn_display","btn_text","btn_link","saveCard","updateCard","window","history","go","name","console","log","msg","res","_this","$post","salesCards_service","POST_CREATE_CARD","then","$router","push","_this2","POST_UPDATE_CARD","$toast","content","position","setTimeout","test","_this3","$config","loading","$get","GET_CARDS_DETAIL","beforeRouteLeave","from","next","$messageBox","header","cancelText","confirmText","handleClick","e","action","computed","components","VeUpload","ve_upload_image","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_detail_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n"],"mappings":"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","file":"static/js/52.f7461bb6.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"wrap-page card-page\",\n      on: {\n        keydown: function($event) {\n          _vm.canPaas = false\n        }\n      }\n    },\n    [\n      _c(\n        \"div\",\n        { staticClass: \"page-title\" },\n        [\n          _c(\"span\", { staticClass: \"title\" }, [\n            _vm._v(_vm._s(_vm.cardId === \"new\" ? \"创建\" : \"编辑\") + \"卡片\")\n          ]),\n          _vm._v(\" \"),\n          _c(\"com-back\", { class: \"back-btn\" })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _vm._m(0),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"content from-box\" }, [\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _vm._m(1),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"from-content\" },\n            [\n              _c(\"com-input\", {\n                attrs: {\n                  value: _vm.title,\n                  placeholder: \"请输入卡片名称\",\n                  \"max-length\": 15,\n                  \"error-tips\": _vm.titleError\n                },\n                on: {\n                  \"update:value\": function($event) {\n                    _vm.title = $event\n                  },\n                  focus: function($event) {\n                    _vm.titleError = \"\"\n                  }\n                }\n              })\n            ],\n            1\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _vm._m(2),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"from-content\" },\n            [\n              _c(\"ve-upload\", {\n                attrs: {\n                  title: \"gif、jpg、png、bmp<br>大小不超过2M\",\n                  accept: \"gif|png|jpg|bmp\",\n                  defaultImg: _vm.defaultImg,\n                  fileSize: 2048,\n                  errorMsg: _vm.uploadImgErrorMsg\n                },\n                on: { error: _vm.uploadError, success: _vm.uploadImgSuccess }\n              })\n            ],\n            1\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"卡片描述：\")]),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"from-content\" },\n            [\n              _c(\"com-input\", {\n                staticClass: \"msg-content\",\n                attrs: {\n                  type: \"textarea\",\n                  value: _vm.desc,\n                  placeholder: \"请输入卡片描述\",\n                  \"max-length\": 140\n                },\n                on: {\n                  \"update:value\": function($event) {\n                    _vm.desc = $event\n                  }\n                }\n              })\n            ],\n            1\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"from-row\", staticStyle: { padding: \"0 12px\" } },\n          [\n            _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"显示按钮：\")]),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"from-content switch-box\" },\n              [\n                _c(\"el-switch\", {\n                  staticClass: \"switch\",\n                  attrs: {\n                    \"inactive-color\": \"#DEE1FF\",\n                    width: 32,\n                    \"active-color\": \"#FFD021\"\n                  },\n                  on: {\n                    change: function($event) {\n                      _vm.switchChange()\n                    }\n                  },\n                  model: {\n                    value: _vm.btnSwitch,\n                    callback: function($$v) {\n                      _vm.btnSwitch = $$v\n                    },\n                    expression: \"btnSwitch\"\n                  }\n                })\n              ],\n              1\n            )\n          ]\n        ),\n        _vm._v(\" \"),\n        _vm.btnSwitch\n          ? _c(\"div\", { staticClass: \"from-row\" }, [\n              _vm._m(3),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"from-content\" },\n                [\n                  _c(\"com-input\", {\n                    attrs: {\n                      value: _vm.btnTxt,\n                      placeholder: \"请输入按钮文案\",\n                      \"max-length\": 6,\n                      \"error-tips\": _vm.btnTxtError\n                    },\n                    on: {\n                      \"update:value\": function($event) {\n                        _vm.btnTxt = $event\n                      },\n                      focus: function($event) {\n                        _vm.btnTxtError = \"\"\n                      }\n                    }\n                  })\n                ],\n                1\n              )\n            ])\n          : _vm._e(),\n        _vm._v(\" \"),\n        _vm.btnSwitch\n          ? _c(\"div\", { staticClass: \"from-row\" }, [\n              _vm._m(4),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"from-content\" },\n                [\n                  _c(\"com-input\", {\n                    attrs: {\n                      value: _vm.btnLink,\n                      placeholder: \"请输入按钮链接\",\n                      \"error-tips\": _vm.btnLinkError,\n                      \"max-length\": 300\n                    },\n                    on: {\n                      \"update:value\": function($event) {\n                        _vm.btnLink = $event\n                      },\n                      focus: function($event) {\n                        _vm.btnLinkError = \"\"\n                      }\n                    }\n                  })\n                ],\n                1\n              )\n            ])\n          : _vm._e(),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _c(\"div\", { staticClass: \"from-title\" }),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"from-content btn-box\" },\n            [\n              _c(\n                \"el-button\",\n                {\n                  staticClass: \"primary-button save-btn\",\n                  on: { click: _vm.save }\n                },\n                [_vm._v(\"保存\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-button\",\n                {\n                  staticClass: \"default-button save-btn\",\n                  on: { click: _vm.cancel }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ],\n            1\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"overview\" }, [\n          _c(\"dl\", [\n            _c(\"dt\", [\n              !_vm.poster.length\n                ? _c(\"div\", { staticClass: \"img img-empty\" })\n                : _c(\"div\", {\n                    staticClass: \"img cov_img\",\n                    style: {\n                      backgroundImage:\n                        \"url(\" + _vm.$imgHost + \"/\" + _vm.poster + \")\"\n                    }\n                  })\n            ]),\n            _vm._v(\" \"),\n            _vm.desc.length > 0\n              ? _c(\"dd\", { staticClass: \"desc\" }, [_vm._v(_vm._s(_vm.desc))])\n              : _c(\"dd\", { staticClass: \"desc\" }, [\n                  _vm._v(\"此处是卡片描述，最多可添加140个字\")\n                ]),\n            _vm._v(\" \"),\n            _vm.btnSwitch\n              ? _c(\n                  \"dd\",\n                  { staticClass: \"btn-dd\" },\n                  [\n                    _c(\n                      \"router-link\",\n                      { attrs: { to: _vm.btnLink, target: \"_blank\" } },\n                      [\n                        _c(\"el-button\", { staticClass: \"primary-button btn\" }, [\n                          _vm._v(\n                            _vm._s(_vm.btnTxt.length > 0 ? _vm.btnTxt : \"按钮\")\n                          )\n                        ])\n                      ],\n                      1\n                    )\n                  ],\n                  1\n                )\n              : _vm._e()\n          ]),\n          _vm._v(\" \"),\n          _vm._m(5)\n        ])\n      ])\n    ]\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"tips-title\" }, [\n      _c(\"i\"),\n      _vm._v(\"注意：在推荐卡片中嵌入链接可能会导致观众跳转分流，请合理使用\\n  \")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"卡片名称：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"卡片图片：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"按钮文案：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"按钮链接：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"tips\" }, [\n      _c(\"p\", { staticClass: \"title\" }, [_vm._v(\"卡片预览\")])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class='wrap-page card-page' @keydown=\"canPaas = false\">\r\n    <div class=\"page-title\">\r\n      <span class=\"title\">{{cardId === 'new' ? '创建' :'编辑'}}卡片</span>\r\n      <com-back :class='\"back-btn\"'></com-back>\r\n    </div>\r\n    <div class=\"tips-title\">\r\n      <i></i>注意：在推荐卡片中嵌入链接可能会导致观众跳转分流，请合理使用\r\n    </div>\r\n    <div class=\"content from-box\">\r\n      <div class=\"from-row\">\r\n        <div class=\"from-title\"><i class=\"star\">*</i>卡片名称：</div>\r\n        <div class=\"from-content\">\r\n          <com-input :value.sync=\"title\" placeholder=\"请输入卡片名称\" :max-length=\"15\" :error-tips='titleError' @focus=\"titleError=''\"></com-input>\r\n        </div>\r\n      </div>\r\n      <div class=\"from-row\">\r\n        <div class=\"from-title\"><i class=\"star\">*</i>卡片图片：</div>\r\n        <div class=\"from-content\">\r\n          <ve-upload title=\"gif、jpg、png、bmp<br>大小不超过2M\" accept=\"gif|png|jpg|bmp\" :defaultImg=\"defaultImg\" :fileSize=\"2048\" :errorMsg=\"uploadImgErrorMsg\" @error=\"uploadError\" @success=\"uploadImgSuccess\"></ve-upload>\r\n        </div>\r\n      </div>\r\n      <div class=\"from-row\">\r\n        <div class=\"from-title\">卡片描述：</div>\r\n        <div class=\"from-content\">\r\n          <com-input type=\"textarea\" class=\"msg-content\" :value.sync=\"desc\" placeholder=\"请输入卡片描述\" :max-length=\"140\"></com-input>\r\n        </div>\r\n      </div>\r\n      <div class=\"from-row\" style=\"padding:0 12px;\">\r\n        <div class=\"from-title\">显示按钮：</div>\r\n        <div class=\"from-content switch-box\">\r\n          <el-switch class='switch' v-model=\"btnSwitch\" inactive-color=\"#DEE1FF\" :width=\"32\" active-color=\"#FFD021\" @change=\"switchChange()\"></el-switch>\r\n        </div>\r\n      </div>\r\n      <div class=\"from-row\" v-if=\"btnSwitch\">\r\n        <div class=\"from-title\"><i class=\"star\">*</i>按钮文案：</div>\r\n        <div class=\"from-content\">\r\n          <com-input :value.sync=\"btnTxt\" placeholder=\"请输入按钮文案\" :max-length=\"6\" :error-tips=\"btnTxtError\" @focus=\"btnTxtError = ''\"></com-input>\r\n        </div>\r\n      </div>\r\n      <div class=\"from-row\" v-if=\"btnSwitch\">\r\n        <div class=\"from-title\"><i class=\"star\">*</i>按钮链接：</div>\r\n        <div class=\"from-content\">\r\n          <com-input :value.sync=\"btnLink\" placeholder=\"请输入按钮链接\" :error-tips=\"btnLinkError\" @focus=\"btnLinkError = ''\" :max-length=\"300\"></com-input>\r\n        </div>\r\n      </div>\r\n      <div class=\"from-row\">\r\n        <div class=\"from-title\"></div>\r\n        <div class=\"from-content btn-box\">\r\n          <el-button class='primary-button save-btn' @click='save'>保存</el-button>\r\n          <el-button class='default-button save-btn' @click='cancel'>取消</el-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"overview\">\r\n        <dl>\r\n          <dt>\r\n              <div class=\"img img-empty\" v-if=\"!poster.length\"></div>\r\n            <div class=\"img cov_img\" :style=\"{backgroundImage:`url(${$imgHost}/${poster})`}\" v-else></div>\r\n              <!--<img :src=\"`${imgHost}/${poster}?x-oss-process=image/resize,m_fill,h_200,w_240`\">-->\r\n            </dt>\r\n          <dd class='desc' v-if=\"desc.length>0\">{{desc}}</dd>\r\n          <dd class='desc' v-else>此处是卡片描述，最多可添加140个字</dd>\r\n          <dd class='btn-dd' v-if=\"btnSwitch\">\r\n            <router-link :to=\"btnLink\" target=\"_blank\">\r\n              <el-button class='primary-button btn'>{{btnTxt.length>0 ? btnTxt:'按钮'}}</el-button>\r\n            </router-link>\r\n          </dd>\r\n        </dl>\r\n        <div class=\"tips\">\r\n          <p class=\"title\">卡片预览</p>\r\n          <!-- <p class=\"txt\">功能说明：<br></p> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import VeUpload from 'src/components/ve-upload-image'\r\n  import cardService from 'src/api/salesCards-service.js'\r\n  import EventBus from 'src/utils/eventBus'\r\n  export default {\r\n    data () {\r\n      return {\r\n        activityId: this.$route.params.id,\r\n        title: '',\r\n        titleError: '',\r\n        img: '',\r\n        desc: '',\r\n        btnSwitch: true,\r\n        btnTxt: '',\r\n        btnTxtError: '',\r\n        btnLink: '',\r\n        btnLinkError: '',\r\n        poster: '',\r\n        imgHost: process.env.IMGHOST + '/',\r\n        uploadImgErrorMsg: '',\r\n        cardId: this.$route.query.cardId,\r\n        saveData: '',\r\n        canSave: false,\r\n        canPaas: true\r\n      }\r\n    },\r\n    created () {\r\n      EventBus.$emit('breads', [{\r\n        title: '活动管理'\r\n      }, {\r\n        title: '活动列表',\r\n        url: '/liveMager/list'\r\n      }, {\r\n        title: '活动详情',\r\n        url: `/liveMager/detail/${this.$route.params.id}`\r\n      }, {\r\n        title: '推荐卡片',\r\n        url: `/salesTools/recommendCards/${this.$route.params.id}`\r\n      }, {\r\n        title: this.cardId !== 'new' ? '编辑卡片' : '新建卡片'\r\n      }])\r\n    },\r\n    mounted () {\r\n      if (this.cardId !== 'new') {\r\n        this.getDetail(this.cardId)\r\n      }\r\n    },\r\n    methods: {\r\n      save () {\r\n        this.verify()\r\n        if (!this.canSave) {\r\n          return false\r\n        }\r\n        this.saveData = {\r\n          activity_id: this.activityId,\r\n          recommend_card_id: this.cardId === 'new' ? '' : this.cardId,\r\n          title: this.title,\r\n          pic: this.poster,\r\n          desc: this.desc,\r\n          btn_display: this.btnSwitch ? 'Y' : 'N',\r\n          btn_text: this.btnTxt,\r\n          btn_link: this.btnLink\r\n        }\r\n        if (this.cardId === 'new') { // 新建\r\n          this.saveCard()\r\n        } else { // 编辑\r\n          this.updateCard()\r\n        }\r\n      },\r\n      cancel () {\r\n        window.history.go(-1)\r\n      },\r\n      uploadImgSuccess (data) {\r\n        this.poster = data.name\r\n      },\r\n      uploadError (data) {\r\n        console.log('上传失败:', data)\r\n        this.uploadImgErrorMsg = data.msg\r\n      },\r\n      switchChange (res) {\r\n\r\n      },\r\n      saveCard () {\r\n        this.$post(cardService.POST_CREATE_CARD, this.saveData).then((res) => {\r\n          // this.$toast({\r\n          //   content: '保存成功',\r\n          //   position: 'center'\r\n          // })\r\n          this.canPaas = true\r\n          this.$router.push(`/salesTools/recommendCards/${this.activityId}`)\r\n        })\r\n      },\r\n      updateCard () {\r\n        this.$post(cardService.POST_UPDATE_CARD, this.saveData).then((res) => {\r\n          this.$toast({\r\n            content: '更新成功',\r\n            position: 'center'\r\n          })\r\n          this.canPaas = true\r\n          setTimeout(() => {\r\n            this.$router.push(`/salesTools/recommendCards/${this.activityId}`)\r\n          }, 500)\r\n        })\r\n      },\r\n      verify () {\r\n        // const reg = new RegExp(/(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:/~\\+#]*[\\w\\-\\@?^=%&/~\\+#])?/) // eslint-disable-line\r\n        const reg = /(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:/~\\+#]*[\\w\\-\\@?^=%&/~\\+#])?/ // eslint-disable-line\r\n        this.title.length ? this.titleError = '' : this.titleError = '请输入卡片名称'\r\n        this.poster.length ? this.uploadImgErrorMsg = '' : this.uploadImgErrorMsg = '请上传卡片图片'\r\n        if (this.btnSwitch) {\r\n          this.btnTxt.length ? this.btnTxtError = '' : this.btnTxtError = '请输入按钮文案'\r\n          reg.test(this.btnLink) ? this.btnLinkError = '' : this.btnLinkError = '请输入有效的按钮链接以http或https开头'\r\n        } else {\r\n          this.canSave = false\r\n        }\r\n        if (this.title.length && this.poster.length) {\r\n          if (this.btnSwitch) {\r\n            if (this.btnTxt.length && !this.btnLinkError.length) {\r\n              this.canSave = true\r\n            } else {\r\n              this.canSave = false\r\n            }\r\n          } else {\r\n            this.canSave = true\r\n          }\r\n        } else {\r\n          this.canSave = false\r\n        }\r\n      },\r\n      getDetail (id) {\r\n        this.$config({\r\n          loading: true\r\n        }).$get(cardService.GET_CARDS_DETAIL, {\r\n          recommend_card_id: id\r\n        }).then((res) => {\r\n          this.title = res.data.title\r\n          this.poster = res.data.pic\r\n          this.btnSwitch = res.data.btn_display === 'Y'\r\n          this.btnTxt = res.data.btn_text\r\n          this.btnLink = res.data.btn_link\r\n          this.desc = res.data.desc\r\n        })\r\n      }\r\n    },\r\n    /* 路由守卫，离开当前页面之前被调用 */\r\n    beforeRouteLeave (to, from, next) {\r\n      if (this.canPaas) {\r\n        next(true)\r\n        return false\r\n      }\r\n      this.$messageBox({\r\n        header: '提示',\r\n        width: '400px',\r\n        content: '是否放弃当前编辑？',\r\n        cancelText: '否',\r\n        confirmText: '是',\r\n        handleClick: (e) => {\r\n          if (e.action === 'confirm') {\r\n            next(true)\r\n          } else {\r\n            next(false)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    computed: {\r\n      defaultImg () {\r\n        return this.poster ? `${this.$imgHost}/${this.poster}` : ''\r\n      }\r\n    },\r\n    components: {\r\n      VeUpload\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang='scss' scope>\r\n@import '~assets/css/mixin.scss';\r\n@import './common.scss';\r\n.card-page {\r\n  .from-row {\r\n    display: flex;\r\n    padding: 12px;\r\n    .from-title {\r\n      width: 180px;\r\n      text-align: right;\r\n      padding-right: 20px;\r\n      color: #555;\r\n      line-height: 40px;\r\n      .star {\r\n        position: relative;\r\n        top: 3px;\r\n        color: $color-red;\r\n        padding-right: 5px;\r\n      }\r\n    }\r\n    .error /deep/ {\r\n      .el-input__inner {\r\n        border: 1px solid $color-red;\r\n      }\r\n      .default-button {\r\n        border: 1px solid $color-red;\r\n      }\r\n    }\r\n    .from-content {\r\n      position: relative;\r\n      flex: 1;\r\n      .error-msg {\r\n        display: block;\r\n        color: $color-red;\r\n        margin-left: 10px;\r\n      }\r\n      .input-box {\r\n        width: 400px;\r\n      }\r\n      .from-msg-tip {\r\n        position: absolute;\r\n        top: -2px;\r\n        width: 100%;\r\n        left: 200px;\r\n      }\r\n      &.switch-box {\r\n        line-height: 40px;\r\n        // .el-switch__core {\r\n        //   height: 26px;\r\n        //   border-radius: 38px;\r\n        //   .el-switch__button {\r\n        //     width: 22px;\r\n        //     height: 22px;\r\n        //   }\r\n        // }\r\n      }\r\n      .msg-content {\r\n        width: 440px;\r\n        height: 200px;\r\n        .limit.area {\r\n          right: 12px;\r\n          bottom: 10px;\r\n        }\r\n      }\r\n      &.btn-box {\r\n        text-align: center;\r\n      }\r\n      .ve-upload-box {\r\n        width: 140px;\r\n        .upload-img-box {\r\n          width: 100%;\r\n          .temp-img {\r\n            background-size: 100%;\r\n            background-repeat: no-repeat;\r\n          }\r\n        }\r\n        .upload-file-box {\r\n          width: 100%;\r\n        }\r\n      }\r\n      .com-input {\r\n        width: 440px;\r\n        textarea::-webkit-input-placeholder {\r\n          color: #888888;\r\n          font-size: 14px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .content {\r\n    position: relative;\r\n    .overview {\r\n      position: absolute;\r\n      top: 40px;\r\n      right: 123px;\r\n      width: 280px;\r\n      .img-empty {\r\n        background: url('~assets/image/cards-group.jpg') no-repeat center;\r\n        background-size: 140px 100px;\r\n      }\r\n    }\r\n    .overview dl {\r\n      text-align: center;\r\n      padding: 20px;\r\n      width: 100%;\r\n      border: 1px solid #d9d9d9;\r\n      border-radius: 4px;\r\n      .img {\r\n        width: 240px;\r\n        height: 200px;\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 4px;\r\n        margin: 0 auto;\r\n      }\r\n      .cov_img{\r\n        background: no-repeat center;\r\n        background-size: cover;\r\n      }\r\n      .desc {\r\n        padding: 20px 0;\r\n        color: #888;\r\n        word-break: break-all;\r\n      }\r\n      a:hover .btn {\r\n        color: $color-font;\r\n      }\r\n      .btn {\r\n        padding: 0;\r\n        width: 180px;\r\n        height: 32px;\r\n        line-height: 32px;\r\n        text-align: center;\r\n      }\r\n      .btn-dd {\r\n        margin-top: 20px;\r\n      }\r\n    }\r\n    .overview .tips {\r\n      width: 100%;\r\n      .title {\r\n        color: $color-font;\r\n        font-size: 18px;\r\n        text-align: center;\r\n        padding: 20px 0 10px 0;\r\n      }\r\n      .txt {\r\n        color: #888;\r\n        font-size: 14px;\r\n        text-align: justify;\r\n        line-height: 24px;\r\n        padding: 0 10px;\r\n      }\r\n    }\r\n    .btn-box {\r\n      // text-align: center;\r\n    }\r\n    .save-btn {\r\n      padding: 0;\r\n      width: 160px;\r\n      height: 40px;\r\n      line-height: 40px;\r\n      text-align: center;\r\n      &:hover span {\r\n        color: $color-font;\r\n      }\r\n    }\r\n  }\r\n  .tips-title {\r\n    width: 100%;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    background: rgba(233, 235, 255, 1);\r\n    border-radius: 4px;\r\n    border: 1px solid rgba(129, 140, 254, 1);\r\n    margin-bottom: 20px;\r\n    i {\r\n      width: 20px;\r\n      height: 20px;\r\n      display: inline-block;\r\n      background: url('~assets/image/excal.svg') no-repeat;\r\n      position: relative;\r\n      top: 4px;\r\n      right: 4px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=01f6e472&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\work\\\\saas营销\\\\fe_management\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('01f6e472', component.options)\n    } else {\n      api.reload('01f6e472', component.options)\n    }\n    module.hot.accept(\"./detail.vue?vue&type=template&id=01f6e472&\", function () {\n      api.rerender('01f6e472', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/sales-tools/recommend-cards/detail.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&scope=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&scope=true&\""],"sourceRoot":""}