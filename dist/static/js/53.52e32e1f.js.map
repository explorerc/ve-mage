{"version":3,"sources":["webpack:///./src/pages/sales-tools/recommend-goods/index.vue?cb25","webpack:///./src/pages/sales-tools/recommend-goods/index.vue?f0cc","webpack:///src/pages/sales-tools/recommend-goods/index.vue","webpack:///./src/pages/sales-tools/recommend-goods/index.vue","webpack:///./src/assets/image/not-goodlist.png","webpack:///./src/pages/sales-tools/recommend-goods/index.vue?e1a0"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","_v","url","activity_id","tableData","length","staticClass","staticStyle","line-height","round","disabled","isShowlive","on","click","check","createGoods","_s","_e","border","_m","element","options","handle","model","value","callback","$$v","expression","_l","row","ind","key","style","backgroundImage","$imgHost","image","name","title","added","price","directives","rawName","preferential","width","min-width","type","$event","handleEdit","handleShelf","handleDelete","size","isNoGoods","src","__webpack_require__","alt","_withStripped","sales_tools_recommend_goodsvue_type_script_lang_js_","components","draggable","vuedraggable_default","a","created","getList","isShowLiveData","eventBus","$emit","$route","params","data","isInit","timerShelf","watch","handler","val","oldVal","sortGoods","deep","methods","_this","$post","salesGoods_service","GOODS_LISTS","then","res","forEach","ite","JSON","parse","console","log","setTimeout","catch","$router","push","goods","map","goods_id","SORT_GOODS","goods_ids","join","_this2","$get","GET_DETAILS","activityId","time","_this3","clearTimeout","GOODS_SHELF","$toast","content","index","_this4","$messageBox","header","cancelText","confirmText","handleClick","e","action","GOODS_DELETE","splice","component","Object","componentNormalizer","__file","__webpack_exports__","module","exports","p","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_2e5cf102_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","n"],"mappings":"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","file":"static/js/53.52e32e1f.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { attrs: { id: \"goods-list\" } }, [\n    _c(\n      \"header\",\n      [\n        _c(\"p\", [_vm._v(\"商品推荐\")]),\n        _vm._v(\" \"),\n        _c(\"com-back\", {\n          attrs: { url: \"/liveMager/detail/\" + _vm.activity_id }\n        }),\n        _vm._v(\" \"),\n        _vm.tableData.length >= 1\n          ? _c(\n              \"div\",\n              { staticClass: \"btn-box\" },\n              [\n                _c(\n                  \"com-button\",\n                  {\n                    staticClass: \"default-button\",\n                    staticStyle: { \"line-height\": \"29px\" },\n                    attrs: { round: \"\", disabled: !_vm.isShowlive },\n                    on: { click: _vm.check }\n                  },\n                  [_vm._v(\"查看数据\")]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"com-button\",\n                  {\n                    staticClass: \"add-goods primary-button\",\n                    attrs: { disabled: _vm.tableData.length >= 20, round: \"\" },\n                    on: { click: _vm.createGoods }\n                  },\n                  [\n                    _vm._v(\n                      \"\\n        新建商品（\" +\n                        _vm._s(_vm.tableData.length) +\n                        \" / 20）\\n      \"\n                    )\n                  ]\n                )\n              ],\n              1\n            )\n          : _vm._e()\n      ],\n      1\n    ),\n    _vm._v(\" \"),\n    _vm.tableData.length >= 1\n      ? _c(\"div\", { staticClass: \"table-box\" }, [\n          _c(\n            \"table\",\n            { attrs: { border: \"1\" } },\n            [\n              _vm._m(0),\n              _vm._v(\" \"),\n              _c(\n                \"draggable\",\n                {\n                  attrs: { element: \"tbody\", options: { handle: \".item\" } },\n                  model: {\n                    value: _vm.tableData,\n                    callback: function($$v) {\n                      _vm.tableData = $$v\n                    },\n                    expression: \"tableData\"\n                  }\n                },\n                _vm._l(_vm.tableData, function(row, ind) {\n                  return _c(\"tr\", { key: ind }, [\n                    _c(\"td\", [\n                      _vm._v(_vm._s(ind < 10 ? \"0\" + (ind + 1) : ind + 1))\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _c(\"div\", {\n                        staticClass: \"cover_img\",\n                        style: {\n                          backgroundImage:\n                            \"url(\" +\n                            _vm.$imgHost +\n                            \"/\" +\n                            row.image[0].name +\n                            \")\"\n                        }\n                      })\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [_vm._v(_vm._s(row.title))]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [\n                      _vm._v(_vm._s(row.added === \"1\" ? \"已上架\" : \"已下架\"))\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\n                      \"td\",\n                      [\n                        row.price !== \"0.00\" ? [_vm._v(\"￥\")] : _vm._e(),\n                        _c(\n                          \"span\",\n                          {\n                            directives: [\n                              {\n                                name: \"show\",\n                                rawName: \"v-show\",\n                                value: row.preferential !== \"0.00\",\n                                expression: \"row.preferential !== '0.00'\"\n                              }\n                            ],\n                            staticClass: \"del-line\"\n                          },\n                          [_vm._v(_vm._s(row.price))]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"span\",\n                          {\n                            directives: [\n                              {\n                                name: \"show\",\n                                rawName: \"v-show\",\n                                value: row.preferential === \"0.00\",\n                                expression: \"row.preferential === '0.00'\"\n                              }\n                            ]\n                          },\n                          [\n                            _vm._v(\n                              _vm._s(row.price === \"0.00\" ? \"免费\" : row.price)\n                            )\n                          ]\n                        )\n                      ],\n                      2\n                    ),\n                    _vm._v(\" \"),\n                    _c(\"td\", { staticClass: \"dis-prices\" }, [\n                      _vm._v(\n                        _vm._s(\n                          row.price === \"0.00\"\n                            ? \"免费\"\n                            : \"￥\" + row.preferential\n                        )\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\n                      \"td\",\n                      { staticStyle: { width: \"15%\", \"min-width\": \"140px\" } },\n                      [\n                        _c(\n                          \"div\",\n                          { staticClass: \"btn-box\" },\n                          [\n                            _c(\n                              \"el-button\",\n                              {\n                                attrs: { type: \"text\" },\n                                on: {\n                                  click: function($event) {\n                                    _vm.handleEdit(row, ind)\n                                  }\n                                }\n                              },\n                              [_vm._v(\"编辑\")]\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"el-button\",\n                              {\n                                attrs: { type: \"text\" },\n                                on: {\n                                  click: function($event) {\n                                    _vm.handleShelf(row, ind)\n                                  }\n                                }\n                              },\n                              [\n                                _vm._v(\n                                  _vm._s(row.added === \"0\" ? \"上架\" : \"下架\") +\n                                    \"\\n              \"\n                                )\n                              ]\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"el-button\",\n                              {\n                                attrs: { type: \"text\" },\n                                on: {\n                                  click: function($event) {\n                                    _vm.handleDelete(row, ind)\n                                  }\n                                }\n                              },\n                              [_vm._v(\"删除\")]\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"el-button\",\n                              {\n                                staticClass: \"item move-btn\",\n                                attrs: {\n                                  size: \"mini\",\n                                  type: \"text\",\n                                  title: \"拖拽可调整商品排序\"\n                                }\n                              },\n                              [_vm._v(\"移动\")]\n                            )\n                          ],\n                          1\n                        )\n                      ]\n                    )\n                  ])\n                })\n              )\n            ],\n            1\n          )\n        ])\n      : _vm._e(),\n    _vm._v(\" \"),\n    _vm.isNoGoods\n      ? _c(\n          \"div\",\n          { staticClass: \"no-goods\" },\n          [\n            _c(\"img\", {\n              attrs: { src: require(\"assets/image/not-goodlist.png\"), alt: \"\" }\n            }),\n            _vm._v(\" \"),\n            _vm._m(1),\n            _vm._v(\" \"),\n            _c(\n              \"el-button\",\n              {\n                staticClass: \"add-goods primary-button\",\n                attrs: { round: \"\" },\n                on: { click: _vm.createGoods }\n              },\n              [_vm._v(\"添加商品\")]\n            )\n          ],\n          1\n        )\n      : _vm._e()\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"thead\", [\n      _c(\"tr\", [\n        _c(\"th\", [_vm._v(\"序号\")]),\n        _vm._v(\" \"),\n        _c(\"th\", [_vm._v(\"封面图\")]),\n        _vm._v(\" \"),\n        _c(\"th\", [_vm._v(\"商品名称\")]),\n        _vm._v(\" \"),\n        _c(\"th\", [_vm._v(\"商品状态\")]),\n        _vm._v(\" \"),\n        _c(\"th\", [_vm._v(\"原始价格\")]),\n        _vm._v(\" \"),\n        _c(\"th\", [_vm._v(\"优惠价格\")]),\n        _vm._v(\" \"),\n        _c(\"th\", { staticStyle: { width: \"15%\", \"min-width\": \"140px\" } }, [\n          _vm._v(\"操作\")\n        ])\n      ])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"p\", [\n      _vm._v(\"全新直播购物模式，通过实时直播带动粉丝经济，\"),\n      _c(\"br\"),\n      _vm._v(\"你甚至可以联合品牌商一起策划品牌内容，提升观众信任感\")\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <div id=\"goods-list\">\n    <header>\n      <p>商品推荐</p>\n      <com-back :url=\"`/liveMager/detail/${activity_id}`\"></com-back>\n      <div v-if=\"tableData.length>=1\" class='btn-box'>\n        <com-button @click=\"check\" class=\"default-button\" round :disabled=\"!isShowlive\" style='line-height:29px;'>查看数据</com-button>\n        <com-button class=\"add-goods primary-button\" @click=\"createGoods\" :disabled=\"tableData.length>=20\" round>\n          新建商品（{{tableData.length}} / 20）\n        </com-button>\n      </div>\n    </header>\n    <div class=\"table-box\" v-if=\"tableData.length>=1\">\n      <table border=\"1\">\n        <thead>\n        <tr>\n          <th>序号</th>\n          <th>封面图</th>\n          <th>商品名称</th>\n          <th>商品状态</th>\n          <th>原始价格</th>\n          <th>优惠价格</th>\n          <th style=\"width: 15%;min-width: 140px;\">操作</th>\n        </tr>\n        </thead>\n        <draggable element=\"tbody\" v-model=\"tableData\" :options=\"{handle:'.item'}\">\n          <tr v-for=\"(row,ind) in tableData\" :key=\"ind\">\n            <td>{{ind<10?`0${ind+1}`:ind+1}}</td>\n            <td>\n              <div class=\"cover_img\" :style=\"{backgroundImage:`url(${$imgHost}/${row.image[0].name})`}\">\n                <!---->\n                <!-- <img\n                   :src=\"row.image ? `${$imgHost}/${row.image[0].name}?x-oss-process=image/resize,m_pad,h_60,w_60` :require('assets/image/avatar@2x.png' \"\n                   alt=\"\">-->\n              </div>\n            </td>\n            <td>{{row.title}}</td>\n            <td>{{row.added === '1' ? '已上架':'已下架'}}</td>\n            <td>\n              <template v-if=\"row.price !== '0.00'\">￥</template><span class=\"del-line\" v-show=\"row.preferential !== '0.00'\">{{row.price}}</span>\n              <span v-show=\"row.preferential === '0.00'\">{{row.price === '0.00'?'免费':row.price}}</span>\n              <!--<span v-show=\"row.price === '0.00'\">免费</span>-->\n            </td>\n            <td class=\"dis-prices\">{{row.price === '0.00'?'免费':'￥'+row.preferential}}</td>\n            <td style=\"width: 15%;min-width: 140px;\">\n              <div class='btn-box'>\n                <el-button type=\"text\" @click=\"handleEdit(row,ind)\">编辑</el-button>\n                <el-button type=\"text\" @click=\"handleShelf(row,ind)\">{{row.added === '0' ?'上架':'下架'}}\n                </el-button>\n                <el-button type=\"text\" @click=\"handleDelete(row,ind)\">删除</el-button>\n                <el-button class=\"item move-btn\" size=\"mini\" type=\"text\" title='拖拽可调整商品排序'>移动</el-button>\n              </div>\n            </td>\n          </tr>\n        </draggable>\n      </table>\n    </div>\n    <div class=\"no-goods\" v-if=\"isNoGoods\">\n      <img :src=\"require('assets/image/not-goodlist.png')\" alt=\"\">\n      <p>全新直播购物模式，通过实时直播带动粉丝经济，<br>你甚至可以联合品牌商一起策划品牌内容，提升观众信任感</p>\n      <el-button class=\"add-goods primary-button\" @click=\"createGoods\" round>添加商品</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\n  import draggable from 'vuedraggable'\n  import goodsServer from 'src/api/salesGoods-service'\n  import EventBus from 'src/utils/eventBus'\n\n  export default {\n    components: { draggable },\n    created () {\n      this.getList()\n      this.isShowLiveData()\n      EventBus.$emit('breads', [{\n        title: '活动管理'\n      }, {\n        title: '活动列表',\n        url: '/liveMager/list'\n      }, {\n        title: '活动详情',\n        url: `/liveMager/detail/${this.$route.params.activity_id}`\n      }, {\n        title: '商品列表',\n        url: `/salesTools/recommendGoodsList/${this.$route.params.activity_id}`\n      }])\n    },\n    data () {\n      return {\n        activity_id: this.$route.params.activity_id,\n        tableData: [],\n        isInit: false,\n        timerShelf: null,\n        isShowlive: null,\n        isNoGoods: false\n      }\n    },\n    watch: {\n      tableData: {\n        handler (val, oldVal) {\n          if (val.length >= 1) {\n            if (this.isInit) {\n              this.sortGoods()\n            }\n          }\n        },\n        deep: true\n      }\n    },\n    methods: {\n      getList () {\n        this.$post(goodsServer.GOODS_LISTS, { activity_id: this.activity_id })\n          .then(res => {\n            res.data.forEach((ite, ind) => {\n              ite.image = JSON.parse(ite.image)\n            })\n            this.tableData = res.data\n            console.log(this.tableData)\n            if (this.tableData.length < 1) {\n              this.isNoGoods = true\n            } else {\n              this.isNoGoods = false\n            }\n            setTimeout(() => {\n              this.isInit = true\n            }, 500)\n          })\n          .catch(() => {\n            this.tableData = []\n          })\n      },\n      // 创建\n      createGoods () {\n        this.$router.push(`/salesTools/recommendGoodsInfo/${this.activity_id}/create`)\n      },\n      sortGoods () {\n        let goods = this.tableData.map((ite, ind) => {\n          return ite.goods_id\n        })\n        this.$post(goodsServer.SORT_GOODS, { activity_id: this.activity_id, goods_ids: goods.join() }).then()\n      },\n      check () {\n        if (this.isShowlive) {\n          this.$router.push(`/data/live/${this.activity_id}#tools`)\n        }\n      },\n      isShowLiveData () {\n        this.$get(goodsServer.GET_DETAILS, { activityId: this.activity_id })\n          .then(res => {\n            this.isShowlive = res.data.data.time\n          })\n      },\n      // 上下架\n      handleShelf (row) {\n        if (this.timerShelf) return\n        this.timerShelf = setTimeout(() => {\n          clearTimeout(this.timerShelf)\n          this.timerShelf = null\n          this.$post(goodsServer.GOODS_SHELF, { goods_id: row.goods_id, type: row.added === '0' ? '1' : '0' })\n            .then(res => {\n              setTimeout(() => {\n                this.getList()\n              }, 500)\n              this.$toast({\n                content: '操作成功!'\n              })\n            })\n        }, 1000)\n      },\n      // 编辑\n      handleEdit (row, index) {\n        this.$router.push(`/salesTools/recommendGoodsInfo/${row.goods_id}/update`)\n      },\n      handleDelete (row, index) {\n        console.log(row)\n        this.$messageBox({\n          header: '删除该商品',\n          type: 'error',\n          width: '450px',\n          content: '删除后观看页将不再显示该商品',\n          cancelText: '取消', // 不传递cancelText将只有一个确定按钮\n          confirmText: '删除',\n          handleClick: (e) => {\n            if (e.action === 'cancel') {\n              /*  this.$toast({\n                  content: '已取消删除',\n                  position: 'center'\n                }) */\n            } else if (e.action === 'confirm') {\n              this.$post(goodsServer.GOODS_DELETE, { goods_id: row.goods_id })\n                .then(res => {\n                  this.tableData.splice(index, 1)\n                  setTimeout(() => {\n                    this.getList()\n                  }, 1000)\n                  this.$toast({\n                    content: '删除成功!'\n                  })\n                })\n            }\n          }\n        })\n      }\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n@import '~assets/css/mixin.scss';\n\n#goods-list {\n  font-family: PingFangSC-Regular;\n  /*padding: 0px 100px 34px;*/\n  margin: 0 auto;\n  @media all and (min-width: 1600px) {\n    width: 1366px;\n  }\n\n  /* 设备宽度小于 1600px */\n  @media all and (max-width: 1600px) {\n    width: 1019px;\n  }\n  /deep/ {\n    header {\n      position: relative;\n      overflow: hidden;\n      text-align: right;\n      line-height: 60px;\n      margin-bottom: 7px;\n      margin-top: 32px;\n      p {\n        float: left;\n        height: 60px;\n        font-size: 24px;\n        font-weight: 400;\n        color: rgba(34, 34, 34, 1);\n        line-height: 60px;\n      }\n      .default-button,\n      .primary-button {\n        transition: unset;\n        height: 30px;\n        line-height: 30px;\n      }\n\n      .btn-box {\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        right: 80px;\n        .com-button {\n          padding: 0 20px;\n        }\n        .add-goods {\n          /*width: 130px;*/\n          padding-left: 20px;\n          margin-left: 6px;\n          padding-right: 10px;\n        }\n      }\n    }\n    .table-box {\n      /*margin-top: 22px;*/\n      padding: 30px;\n      border: 1px solid #e2e2e2;\n      border-radius: 4px;\n      background-color: white;\n      min-height: 550px;\n      table thead tr th,\n      table tbody tr td {\n        border-color: #ebeef5;\n        font-size: 14px;\n      }\n      table {\n        width: 100%;\n        border-collapse: collapse;\n        border: none;\n        thead,\n        tbody {\n          height: 47px;\n          line-height: 47px;\n          th {\n            border-top-color: transparent !important;\n            background-color: #f6f6f6;\n          }\n          th,\n          td {\n            color: #222222;\n            padding-left: 20px;\n            font-weight: 400;\n            border-right-color: transparent !important;\n            border-left-color: transparent !important;\n            .btn-box {\n              position: relative;\n            }\n            &:nth-of-type(1) {\n              width: 5%;\n            }\n            &:nth-of-type(2) {\n              width: 8%;\n            }\n            &:nth-of-type(3) {\n              width: 26%;\n            }\n            &:nth-of-type(4) {\n              width: 8%;\n            }\n            &:nth-of-type(5) {\n              width: 10%;\n            }\n            &:nth-of-type(6) {\n              width: 8%;\n            }\n            &:nth-of-type(7) {\n              width: 25%;\n              button {\n                color: #222222;\n                &:hover {\n                  color: #4B5AFE;\n                }\n              }\n            }\n            .move-btn {\n              span {\n                position: absolute;\n                top: 50%;\n                left: 140px;\n                transform: translate(-50%, -50%);\n                display: inline-block;\n                width: 20px;\n                height: 20px;\n                color: transparent;\n                background: url('~assets/image/move-icon.svg') no-repeat center;\n                background-size: contain;\n                &:hover {\n                  opacity: 0.8;\n                }\n              }\n            }\n            .cover_img {\n              margin: 10px auto 10px 0;\n              background: no-repeat center;\n              background-size: contain;\n              width: 60px;\n              height: 60px;\n              img {\n                width: 60px;\n                height: 60px;\n              }\n            }\n          }\n          td.dis-prices {\n            color: #fc5659;\n          }\n          /*  tr {\n              display: table;\n              width: 100%;\n              table-layout: fixed;\n            }*/\n          tr:hover {\n            background-color: #f0f1fe;\n          }\n        }\n        /* thead {\n            width: calc(100% - 100px);\n          }\n          tbody {\n            display: block;\n            height: 550px;\n            overflow-y: scroll;\n          }*/\n      }\n    }\n\n    .no-goods {\n      text-align: center;\n      background-color: #ffffff;\n      border-radius: 4px;\n      border: 1px solid #e2e2e2;\n      min-height: 550px;\n      img {\n        width: 150px;\n        height: 150px;\n        margin: 130px auto 27px;\n      }\n\n      p {\n        font-size: 14px;\n        font-weight: 400;\n        color: rgba(85, 85, 85, 1);\n        margin: 0 auto 30px;\n      }\n      button {\n        margin-bottom: 90px;\n        span {\n          margin: auto 40px;\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2e5cf102&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2e5cf102&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e5cf102\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/chenqi/Desktop/Wswork/fe_management/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2e5cf102', component.options)\n    } else {\n      api.reload('2e5cf102', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=2e5cf102&scoped=true&\", function () {\n      api.rerender('2e5cf102', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/sales-tools/recommend-goods/index.vue\"\nexport default component.exports","module.exports = __webpack_public_path__ + \"static/img/not-goodlist.77438fe.png\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2e5cf102&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2e5cf102&lang=scss&scoped=true&\""],"sourceRoot":""}