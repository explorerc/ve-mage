(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{641:function(t,e,a){},848:function(t,e,a){"use strict";var i=a(641);a.n(i).a},898:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-page"},[t._m(0),t._v(" "),a("div",{staticClass:"content from-box"},[t.tableData.length>0?[a("div",{staticClass:"top-bar"},[a("router-link",{attrs:{to:"/salesTools/recommendCardsDetails/"+t.activityId+"?cardId=new"}},[a("el-button",{attrs:{disabled:t.tableData.length>=20}},[t._v("新建卡片 "+t._s(t.tableData.length)+"/20")])],1),t._v(" "),a("router-link",{attrs:{to:"/data/live/"+t.activityId}},[a("el-button",[t._v("查看活动数据")])],1)],1),t._v(" "),a("el-table",{class:"table-box",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{label:"卡片图片",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{class:"img",attrs:{src:t.imgHost+"/"+e.row.pic}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"卡片名称",width:"250","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"卡片描述",width:"350","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"btn_link",label:"按钮链接",width:"350","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:"/salesTools/recommendCardsDetails/"+t.activityId+"?cardId="+e.row.recommend_card_id}},[a("el-button",{attrs:{round:""}},[t._v("编辑")])],1),t._v(" "),a("el-button",{attrs:{round:""},on:{click:function(a){t.del(e.row.recommend_card_id,e.row.title,e.row.index)}}},[t._v("删除")])]}}])})],1)]:[a("div",{staticClass:"empty-box"},[a("p",[t._v("创建一张推荐卡片")]),t._v(" "),a("p",[t._v("在直播中为观众推送卡片")]),t._v(" "),a("p",[t._v("制作一张精美的自定义卡片，在直播中推送给观众，企业可以根据自己的需求定义卡片的内容。可以推送二维码、店铺链接、自媒体链接、图片等各种各样的内容")]),t._v(" "),a("router-link",{attrs:{to:"/salesTools/recommendCardsDetails/"+t.activityId+"?cardId=new"}},[a("el-button",[t._v("新建卡片")])],1)],1)]],2)])};i._withStripped=!0;var s=a(632),o={data:function(){return{activityId:this.$route.params.id,imgHost:"//test-zhike.oss-cn-beijing.aliyuncs.com/",tableData:[]}},mounted:function(){this.getList()},created:function(){},methods:{getList:function(){var t=this;this.$get(s.a.GET_CARDS_LIST,{activity_id:this.activityId}).then(function(e){t.tableData=e.data.list})},del:function(t,e,a){var i=this;this.$messageBox({header:"提示",width:"400px",content:"是否确认删除 "+e+" 推荐卡片",cancelText:"否",confirmText:"是",handleClick:function(e){"confirm"===e.action&&i.delItem(t,a)}})},delItem:function(t,e){var a=this;this.$get(s.a.POST_DELETE_CARD,{recommend_card_id:t}).then(function(t){a.$toast({content:"删除成功",position:"center"}),a.tableData.splice(e,1)})}}},l=(a(848),a(1)),n=Object(l.a)(o,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-title"},[e("span",{staticClass:"title"},[this._v("推荐卡片")])])}],!1,null,null,null);n.options.__file="src/pages/sales-tools/recommend-cards/index.vue";e.default=n.exports}}]);
//# sourceMappingURL=51.d4a7db65.js.map