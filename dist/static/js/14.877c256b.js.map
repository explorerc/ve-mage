{"version":3,"sources":["webpack:///./src/pages/user-mager/edit.vue?64ec","webpack:///./src/pages/user-mager/edit.vue?d7c9","webpack:///src/pages/user-mager/edit.vue","webpack:///./src/pages/user-mager/edit.vue","webpack:///./src/pages/user-mager/edit.vue?952f","webpack:///./src/pages/user-mager/edit.vue?a5fe"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","_v","ref","staticClass","model","userData","rules","label-width","label","prop","disabled","value","callback","$$v","$set","expression","name","slot","gbLength","staticStyle","color","domProps","textContent","_s","_e","openId","placeholder","nickname","_n","address","tel","podtCode","type","round","on","click","$event","onSubmit","resetForm","_withStripped","user_mager_editvue_type_script_lang_js_","watch","goodsData","handler","initReady","isShowMsgB","deep","created","_this","$route","params","getGoodsDetail","Breadcrumb","$nextTick","mounted","eventBus","$emit","title","url","components","VeUpload","ve_upload_goods","computed","defaultImg","poster","$imgHost","data","_this2","timerVail","timer","tipsShow","errTitle","imgEmptyMsg","goodId","price","imgUrl","errMsg","disprice","describe","inventory","added","required","validator","rule","console","log","setTimeout","clearTimeout","Error","min","max","attr","obj","field","slice","gbIndex","trigger","String","indexOf","length","preferential","maxV","num","map","item","methods","_this3","$get","goods","GET_GOOD_BYID","then","res","code","formName","_this4","$refs","validate","valid","_url","CREATE_GOODS","goods_id","UPDATE_GOODS","imgList","filter","ite","ind","image","stringify_default","$router","go","uploadImgSuccess","nowIndex","uploadError","index","msg","beforeRouteLeave","to","from","next","$messageBox","header","width","content","cancelText","confirmText","handleClick","e","action","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_1_id_9e91ab32_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"static/js/14.877c256b.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { attrs: { id: \"goods-info\" } },\n    [\n      _c(\"header\", [_vm._v(\"编辑粉丝信息\\n    \"), _c(\"com-back\")], 1),\n      _vm._v(\" \"),\n      _c(\n        \"el-form\",\n        {\n          ref: \"userData\",\n          staticClass: \"demo-ruleForm\",\n          attrs: {\n            model: _vm.userData,\n            rules: _vm.rules,\n            \"label-width\": \"120px\"\n          }\n        },\n        [\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"用户ID：\", prop: \"id\" } },\n            [\n              _c(\"el-input\", {\n                staticClass: \"slot_inp_b\",\n                attrs: { disabled: \"disabled\" },\n                model: {\n                  value: _vm.userData.id,\n                  callback: function($$v) {\n                    _vm.$set(_vm.userData, \"id\", $$v)\n                  },\n                  expression: \"userData.id\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"粉丝姓名：\", prop: \"name\" } },\n            [\n              _c(\n                \"el-input\",\n                {\n                  staticClass: \"slot_inp_b\",\n                  model: {\n                    value: _vm.userData.name,\n                    callback: function($$v) {\n                      _vm.$set(_vm.userData, \"name\", $$v)\n                    },\n                    expression: \"userData.name\"\n                  }\n                },\n                [\n                  _c(\"template\", { staticClass: \"slot\", slot: \"append\" }, [\n                    _vm.userData.name.gbLength() > 0\n                      ? _c(\"span\", {\n                          staticStyle: { color: \"#4b5afe\" },\n                          domProps: {\n                            textContent: _vm._s(_vm.userData.name.gbLength())\n                          }\n                        })\n                      : _vm._e(),\n                    _vm.userData.name.gbLength() == 0\n                      ? _c(\"span\", {\n                          staticStyle: { color: \"#999\" },\n                          domProps: {\n                            textContent: _vm._s(_vm.userData.name.gbLength())\n                          }\n                        })\n                      : _vm._e(),\n                    _vm._v(\"/20\")\n                  ])\n                ],\n                2\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"openID：\", prop: \"openId\" } },\n            [\n              _c(\"el-input\", {\n                staticClass: \"slot_inp_b\",\n                attrs: { disabled: \"disabled\" },\n                model: {\n                  value: _vm.userData.openId,\n                  callback: function($$v) {\n                    _vm.$set(_vm.userData, \"openId\", $$v)\n                  },\n                  expression: \"userData.openId\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"粉丝昵称：\", prop: \"nickname\" } },\n            [\n              _c(\n                \"div\",\n                { staticClass: \"a_unit\" },\n                [\n                  _c(\"el-input\", {\n                    attrs: { placeholder: \"请输入粉丝昵称\" },\n                    model: {\n                      value: _vm.userData.nickname,\n                      callback: function($$v) {\n                        _vm.$set(_vm.userData, \"nickname\", _vm._n($$v))\n                      },\n                      expression: \"userData.nickname\"\n                    }\n                  })\n                ],\n                1\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"el-form-item\", { attrs: { label: \"地址：\", prop: \"address\" } }, [\n            _c(\n              \"div\",\n              { staticClass: \"a_unit\" },\n              [\n                _c(\"el-input\", {\n                  attrs: { placeholder: \"请输入地址\" },\n                  model: {\n                    value: _vm.userData.address,\n                    callback: function($$v) {\n                      _vm.$set(_vm.userData, \"address\", _vm._n($$v))\n                    },\n                    expression: \"userData.address\"\n                  }\n                })\n              ],\n              1\n            )\n          ]),\n          _vm._v(\" \"),\n          _c(\"el-form-item\", { attrs: { label: \"联系：\", prop: \"address\" } }, [\n            _c(\n              \"div\",\n              { staticClass: \"a_unit\" },\n              [\n                _c(\"el-input\", {\n                  attrs: { placeholder: \"请输入联系方式\" },\n                  model: {\n                    value: _vm.userData.tel,\n                    callback: function($$v) {\n                      _vm.$set(_vm.userData, \"tel\", _vm._n($$v))\n                    },\n                    expression: \"userData.tel\"\n                  }\n                })\n              ],\n              1\n            )\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"postCode：\", prop: \"inventory\", disabled: \"\" } },\n            [\n              _c(\n                \"div\",\n                { staticClass: \"a_unit\" },\n                [\n                  _c(\"el-input\", {\n                    attrs: { disabled: \"true\" },\n                    model: {\n                      value: _vm.userData.podtCode,\n                      callback: function($$v) {\n                        _vm.$set(_vm.userData, \"podtCode\", _vm._n($$v))\n                      },\n                      expression: \"userData.podtCode\"\n                    }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"span\", [_vm._v(\"件\")])\n                ],\n                1\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { staticClass: \"btns_box\" },\n            [\n              _c(\n                \"el-button\",\n                {\n                  staticClass: \"add-goods primary-button\",\n                  attrs: { type: \"primary\", round: \"\" },\n                  on: {\n                    click: function($event) {\n                      _vm.onSubmit(\"goodsData\")\n                    }\n                  }\n                },\n                [_vm._v(\"保存\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-button\",\n                {\n                  attrs: { round: \"\" },\n                  on: {\n                    click: function($event) {\n                      _vm.resetForm(\"goodsData\")\n                    }\n                  }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","<template>\r\n  <div id=\"goods-info\">\r\n    <header>编辑粉丝信息\r\n      <com-back></com-back>\r\n    </header>\r\n    <el-form :model=\"userData\" ref=\"userData\" :rules=\"rules\" label-width=\"120px\" class=\"demo-ruleForm\">\r\n      <el-form-item label=\"用户ID：\" prop=\"id\">\r\n        <el-input v-model=\"userData.id\" class=\"slot_inp_b\" disabled=\"disabled\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"粉丝姓名：\" prop=\"name\">\r\n        <el-input v-model=\"userData.name\" class=\"slot_inp_b\">\r\n          <template slot=\"append\" class=\"slot\">\r\n            <span v-text=\"userData.name.gbLength()\" style=\"color: #4b5afe\" v-if=\"userData.name.gbLength()>0\"></span><span v-text=\"userData.name.gbLength()\" style=\"color: #999\" v-if=\"userData.name.gbLength()==0\">\r\n            </span>/20</template>\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"openID：\" prop=\"openId\">\r\n        <el-input v-model=\"userData.openId\" class=\"slot_inp_b\" disabled=\"disabled\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"粉丝昵称：\" prop=\"nickname\" class=\"\">\r\n        <div class=\"a_unit\">\r\n          <el-input v-model.number=\"userData.nickname\"  placeholder=\"请输入粉丝昵称\"></el-input>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"地址：\" prop=\"address\">\r\n        <div class=\"a_unit\">\r\n          <el-input v-model.number=\"userData.address\" placeholder=\"请输入地址\"></el-input>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"联系：\" prop=\"address\">\r\n        <div class=\"a_unit\">\r\n          <el-input v-model.number=\"userData.tel\" placeholder=\"请输入联系方式\"></el-input>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"postCode：\" prop=\"inventory\" disabled>\r\n        <div class=\"a_unit\">\r\n          <el-input v-model.number=\"userData.podtCode\" disabled=\"true\"></el-input>\r\n          <span>件</span>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item class=\"btns_box\">\r\n        <el-button class=\"add-goods primary-button\" type=\"primary\" @click=\"onSubmit('goodsData')\" round>保存</el-button>\r\n        <el-button @click=\"resetForm('goodsData')\" round>取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import VeUpload from 'src/components/ve-upload-goods'\r\n  import goodsServer from 'src/api/goods'\r\n  import EventBus from 'src/utils/eventBus'\r\n\r\n  export default {\r\n    name: 'info',\r\n    watch: {\r\n      goodsData: {\r\n        handler () {\r\n          if (this.initReady) {\r\n            this.isShowMsgB = true\r\n          }\r\n        },\r\n        deep: true\r\n      }\r\n    },\r\n    created () {\r\n      if (this.$route.params.type === 'update') {\r\n        this.getGoodsDetail()\r\n        this.Breadcrumb = '编辑商品'\r\n      } else {\r\n        this.Breadcrumb = '新建商品'\r\n      }\r\n      this.$nextTick(() => {\r\n        this.initReady = true\r\n      })\r\n    },\r\n    mounted () {\r\n      EventBus.$emit('breads', [{\r\n        title: '商品管理'\r\n      }, {\r\n        title: '商品列表',\r\n        url: '/goodMager/list'\r\n      }, {\r\n        title: this.Breadcrumb,\r\n        url: `/goodMager/edit/${this.$route.params.type}`\r\n      }])\r\n    },\r\n    components: {\r\n      VeUpload\r\n    },\r\n    computed: {\r\n      defaultImg () {\r\n        return this.poster ? `${this.$imgHost}/${this.poster}` : ''\r\n      }\r\n    },\r\n    data () {\r\n      let valiName = (rule, value, callback) => {\r\n        console.log(value)\r\n        if (this.timerVail) return\r\n        this.timerVail = setTimeout(() => {\r\n          clearTimeout(this.timerVail)\r\n          this.timerVail = null\r\n          if (value) {\r\n            if (value.gbLength() < rule.min) {\r\n              return callback(new Error('商品名称过短'))\r\n            } else if (value.gbLength() > rule.max) {\r\n              for (let attr in this[rule.obj]) {\r\n                if (attr === rule.field) {\r\n                  this[rule.obj][attr] = value.slice(0, value.gbIndex(rule.max) + 1)\r\n                  return callback()\r\n                }\r\n              }\r\n            } else {\r\n              callback()\r\n            }\r\n          } else {\r\n            return callback(new Error('商品名称不能为空'))\r\n          }\r\n        }, 500)\r\n      }\r\n      let price = (rule, value, callback) => {\r\n        if (typeof value === 'number' && (value || value === 0)) {\r\n          if (value < 0 || value >= 999999) {\r\n            return callback(new Error('原始价格应大于0小于999999'))\r\n          } else if (String(value).indexOf('.') > -1 && String(value).slice(String(value).indexOf('.') + 1).length > 2) {\r\n            return callback(new Error('价格最多为小数点后两位'))\r\n          } else {\r\n            return callback()\r\n          }\r\n        } else {\r\n          return callback(new Error('请输入原始价格'))\r\n        }\r\n      }\r\n      let preferential = (rule, value, callback) => {\r\n        // if (String(value).slice(String(value).indexOf('.') + 1).length > 2) {\r\n        //   value = String(value).slice(0, String(value).indexOf('.') + 3)\r\n        // }\r\n        if (value) {\r\n          if (typeof value === 'number') {\r\n            let maxV = this[rule.obj].price\r\n            if (value && value < 0) {\r\n              return callback(new Error('优惠价格不能小于0'))\r\n            } else if (value && maxV && value >= maxV) {\r\n              return callback(new Error('优惠价格需小于原始价格'))\r\n            } else if (String(value).indexOf('.') > -1 && String(value).slice(String(value).indexOf('.') + 1).length > 2) {\r\n              return callback(new Error('优惠价格最多为小数点后两位'))\r\n            } else if (value && !maxV) {\r\n              return callback(new Error('请先填写原始价格'))\r\n            } else {\r\n              return callback()\r\n            }\r\n          } else {\r\n            return callback(new Error('请输入优惠价格'))\r\n          }\r\n        } else {\r\n          return callback()\r\n        }\r\n      }\r\n      let valiUpload = (rule, value, callback) => {\r\n        let num = 0\r\n        this[rule.obj].imgUrl.map((item) => {\r\n          if (item.name) {\r\n            num += 1\r\n          }\r\n        })\r\n        if (num > 0) {\r\n          if (value[0].name) {\r\n            return callback()\r\n          } else {\r\n            this.imgEmptyMsg = '请上传封面图'\r\n            return callback(new Error('请上传封面图'))\r\n          }\r\n        } else {\r\n          this.imgEmptyMsg = '请上传图片'\r\n          return callback(new Error('请上传图片'))\r\n        }\r\n      }\r\n      let inventory = (rule, value, callback) => {\r\n        if (typeof value === 'number' && (value || value === 0)) {\r\n          if (value < 0 || value >= 999999) {\r\n            return callback(new Error('现有库存应大于0小于999999'))\r\n          } else if (String(value).indexOf('.') > -1 && String(value).slice(String(value).indexOf('.') + 1).length >= 1) {\r\n            return callback(new Error('库存量应为整数'))\r\n          } else {\r\n            return callback()\r\n          }\r\n        } else {\r\n          return callback(new Error('请输入现有库存'))\r\n        }\r\n      }\r\n      return {\r\n        timerVail: null,\r\n        timer: null,\r\n        tipsShow: true,\r\n        Breadcrumb: '',\r\n        isShowMsgB: false,\r\n        errTitle: '',\r\n        imgEmptyMsg: '',\r\n        goodId: this.$route.params.id,\r\n        goodsData: {\r\n          name: '',\r\n          price: '',\r\n          imgUrl: [{errMsg: ''}],\r\n          disprice: '',\r\n          describe: '',\r\n          inventory: null,\r\n          added: '1'\r\n        },\r\n        rules: {\r\n          name: [\r\n            {required: true, validator: valiName, min: 3, max: 20, trigger: 'change', obj: 'goodsData'}\r\n          ],\r\n          price: [\r\n            {validator: price, type: 'number', min: 0, max: 999999, trigger: 'change', obj: 'goodsData'}\r\n          ],\r\n          preferential: [\r\n            {validator: preferential, type: 'number', min: 0, max: 999999, trigger: 'change', obj: 'goodsData'}\r\n          ],\r\n          inventory: [\r\n            {validator: inventory, type: 'number', min: 0, max: 999999, trigger: 'change', obj: 'goodsData'}\r\n          ],\r\n          imgUrl: [\r\n            {required: true, validator: valiUpload, trigger: 'blur', obj: 'goodsData'}\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      getGoodsDetail () {\r\n        let data = {\r\n          goodId: this.goodId\r\n        }\r\n        this.$get(goodsServer.GET_GOOD_BYID, data).then(res => {\r\n          if (res.code === 200) {\r\n            this.goodsData = res.data\r\n          }\r\n        })\r\n        console.log(this.goodId)\r\n      },\r\n      onSubmit (formName) {\r\n        if (this.timer) return\r\n        this.timer = setTimeout(() => {\r\n          clearTimeout(this.timer)\r\n          this.timer = null\r\n          this.$refs[formName].validate((valid) => {\r\n            if (valid) {\r\n              let _url\r\n              if (this.$route.params.type === 'create') {\r\n                _url = goodsServer.CREATE_GOODS\r\n              } else {\r\n                this.goodsData.goods_id = this.$route.params.id\r\n                _url = goodsServer.UPDATE_GOODS\r\n              }\r\n              let imgList = this.goodsData.imgUrl.filter((ite, ind) => {\r\n                if (ite.name) {\r\n                  return ite\r\n                }\r\n              })\r\n              this.goodsData.image = JSON.stringify(imgList)\r\n              console.log(_url)\r\n              // this.$post(_url, this.goodsData)\r\n              //   .then(res => {\r\n              //     // this.$toast({\r\n              //     //   content: '操作成功!'\r\n              //     // })\r\n              //     this.$router.go(-1)\r\n              //     this.isShowMsgB = false\r\n              //   })\r\n              //   .catch(err => {\r\n              //     console.log(err)\r\n              //   })\r\n            } else {\r\n              console.log('error submit!!')\r\n              return false\r\n            }\r\n          })\r\n        }, 100)\r\n      },\r\n      resetForm (formName) {\r\n        this.$router.go(-1)\r\n      },\r\n      uploadImgSuccess (data) {\r\n        data.errMsg = ''\r\n        this.goodsData.imgUrl[data.nowIndex].name = data.name\r\n      },\r\n      uploadError (data, item, index) {\r\n        this.imgEmptyMsg = ''\r\n        item.errMsg = data.msg\r\n        // this.goodsData.imageList[data.nowIndex].errMsg = data.msg\r\n      }\r\n    },\r\n    beforeRouteLeave (to, from, next) {\r\n      if (this.isShowMsgB) {\r\n        this.$messageBox({\r\n          header: '提示',\r\n          width: '400px',\r\n          content: '是否放弃当前编辑？',\r\n          cancelText: '否',\r\n          confirmText: '是',\r\n          handleClick: (e) => {\r\n            if (e.action === 'confirm') {\r\n              next(true)\r\n            } else {\r\n              next(false)\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        next(true)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\">\r\n  .el-form-item__error {\r\n    top: 90%;\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  @import '~assets/css/mixin.scss';\r\n\r\n  #goods-info {\r\n    padding: 50px 100px;\r\n    font-family: PingFangSC-Regular;\r\n    /deep/ {\r\n      .el-form-item .tips {\r\n        display: block;\r\n        color: #888;\r\n        height: 20px;\r\n        line-height: 20px;\r\n        font-size: 14px;\r\n      }\r\n      header {\r\n        height: 26px;\r\n        font-size: 24px;\r\n        font-weight: 400;\r\n        color: rgba(34, 34, 34, 1);\r\n        line-height: 26px;\r\n        margin-bottom: 25px;\r\n        position: relative;\r\n      }\r\n      .el-form {\r\n        padding: 40px 80px;\r\n        border: 1px solid #eee;\r\n        background-color: white;\r\n        .el-form-item {\r\n          margin-bottom: 27px;\r\n          &.image-list {\r\n            .el-form-item__error {\r\n              display: none;\r\n              top: calc(100% - 17px);\r\n            }\r\n            div {\r\n              position: relative;\r\n            }\r\n            .error-msg {\r\n              color: #f56c6c;\r\n              position: absolute;\r\n              top: 83%;\r\n            }\r\n          }\r\n\r\n        }\r\n        .el-form-item:nth-of-type(1) {\r\n          .el-form-item__content {\r\n            width: 460px;\r\n          }\r\n        }\r\n        .el-form-item:nth-of-type(2),\r\n        .el-form-item:nth-of-type(3) {\r\n          width: 400px;\r\n        }\r\n        /*.el-form-item:last-of-type {*/\r\n        /*text-align: center;*/\r\n        /*}*/\r\n        .inupt_textarea {\r\n          width: 100%;\r\n          height: 120px;\r\n          .limit.area {\r\n            right: 12px;\r\n            bottom: 10px;\r\n          }\r\n        }\r\n        .inupt_text {\r\n          width: 440px;\r\n        }\r\n        .a_unit {\r\n          overflow: hidden;\r\n          width: 250px;\r\n          .el-input {\r\n            width: 200px;\r\n            float: left;\r\n          }\r\n          span {\r\n            display: inline-block;\r\n            width: 40px;\r\n            float: right;\r\n            text-align: left;\r\n          }\r\n        }\r\n        .slot_inp_b {\r\n          .el-input__inner {\r\n            padding-right: 60px;\r\n            padding-left: 10px;\r\n            border-radius: 4px;\r\n          }\r\n        }\r\n        .el-input__inner {\r\n          padding-left: 10px;\r\n        }\r\n        .el-input-group__append {\r\n          width: 60px;\r\n          transform: translateX(-61px);\r\n          text-align: center;\r\n          border: transparent;\r\n          background-color: transparent;\r\n          padding: 0;\r\n        }\r\n        .el-input__inner,\r\n        .el-input.el-input__inner,\r\n        .el-input__inner {\r\n          border-color: #cecece !important;\r\n        }\r\n        .el-input__inner:hover,\r\n        .el-input.is-active .el-input__inner,\r\n        .el-input__inner:focus {\r\n          border-color: #888888 !important;\r\n        }\r\n        .el-form-item.url {\r\n          margin-bottom: 30px;\r\n        }\r\n        .el-form-item.textarea-box {\r\n          transform: translateY(-8px);\r\n        }\r\n        .el-form-item:last-child {\r\n          text-align: center;\r\n        }\r\n        .is-error input {\r\n          border-color: #FC5659 !important;\r\n        }\r\n      }\r\n      .upload_box {\r\n        position: relative;\r\n        &::before {\r\n          content: '';\r\n          width: 32px;\r\n          height: 35px;\r\n          display: inline-block;\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          z-index: 100;\r\n          background-image: url('~assets/image/index01.svg');\r\n          background-size: cover;\r\n        }\r\n        .ve-upload-box {\r\n          width: 140px;\r\n          height: 140px;\r\n          margin: auto 10px auto 0;\r\n          display: inline-block;\r\n          .upload-img-box {\r\n            width: 140px;\r\n            height: 140px;\r\n          }\r\n          .over-upload {\r\n            width: 140px;\r\n          }\r\n          .com-upload {\r\n            width: 100%;\r\n            height: 140px;\r\n            .upload-file-box {\r\n              position: relative;\r\n              width: 100%;\r\n              .upload-icon {\r\n                margin: 10px auto 0px auto;\r\n              }\r\n              .error-msg {\r\n                /*position: absolute;*/\r\n                /*top: 0;*/\r\n                /*left: 0;*/\r\n              }\r\n              span {\r\n                display: inline-block;\r\n                /*margin: auto 5px;*/\r\n                /*color: #cccccc;*/\r\n                font-size: 12px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        > span {\r\n          font-size: 30px;\r\n          transform: translateY(-60px);\r\n          color: #999999;\r\n        }\r\n      }\r\n      .btns_box {\r\n        margin-bottom: 10px;\r\n        margin-top: -6px;\r\n        .add-goods {\r\n\r\n        }\r\n        .el-button.is-round {\r\n          width: 140px;\r\n          height: 40px !important;\r\n        }\r\n      }\r\n      .el-form-item__error {\r\n        font-size: 14px;\r\n      }\r\n\r\n    }\r\n  }\r\n</style>\r\n","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=9e91ab32&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./edit.vue?vue&type=style&index=1&id=9e91ab32&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e91ab32\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\gradute\\\\project\\\\ve_management\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('9e91ab32', component.options)\n    } else {\n      api.reload('9e91ab32', component.options)\n    }\n    module.hot.accept(\"./edit.vue?vue&type=template&id=9e91ab32&scoped=true&\", function () {\n      api.rerender('9e91ab32', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/user-mager/edit.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=1&id=9e91ab32&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=1&id=9e91ab32&lang=scss&scoped=true&\""],"sourceRoot":""}