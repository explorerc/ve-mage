{"version":3,"sources":["webpack:///./src/api/identifyingcode-manage.js","webpack:///./src/pages/login/forgot.vue?4fa8","webpack:///./src/pages/login/forgot.vue?cbcb","webpack:///./src/pages/login/forgot.vue?666e","webpack:///src/pages/login/forgot.vue","webpack:///./src/pages/login/forgot.vue"],"names":["IdentifyingcodeManage","getCodeId","data","src_utils__WEBPACK_IMPORTED_MODULE_0__","ajax","method","url","params","getCode","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","alt","_v","value","activeName","disabled","on","update:value","$event","label","index","class","warning","isWarning","userPhone","placeholder","maxLength","inputFocus","id","phoneCode","prohibit","isProhibit","href","click","directives","name","rawName","isSend","expression","_s","second","style","opacity","error","verifyUser","password","type","rePassword","undatePhone","_withStripped","login_forgotvue_type_script_lang_js_","tabValue","outValue","token","phoneStatus","key","timerr","phoneKey","isImg","cap","isValidPassword","components","[object Object]","identifyingcode_manage","then","res","code","console","log","msg","window","initNECaptcha","captchaId","element","mode","width","onReady","instance","onVerify","err","validate","onError","watch","checkPhone","isGetCodePermission","val","methods","param","test","parseInt","mobile","captcha","clearInterval","refresh","setInterval","account_manage","verifyMobile","codeToken","phone","messageBoxExplain","isOldphone","step","validPassword","newPassword","updateMobileByToken","validPhone","re","component","Object","componentNormalizer","options","__file"],"mappings":"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","file":"static/js/11.24ee6967.js","sourcesContent":["import utils from 'src/utils'\n\nconst IdentifyingcodeManage = {\n  getCodeId (data) {\n    return utils.ajax({\n      method: 'post',\n      url: '/common/sms/get-captchaid',\n      params: data\n    })\n  },\n  getCode (data) {\n    return utils.ajax({\n      method: 'post',\n      url: '/common/sms/send-code',\n      params: data\n    })\n  }\n}\nexport default IdentifyingcodeManage\n","import mod from \"-!../../../node_modules/.0.4.1@mini-css-extract-plugin/dist/loader.js!../../../node_modules/.1.0.0@css-loader/index.js!../../../node_modules/.15.3.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.2.1.6@postcss-loader/lib/index.js!../../../node_modules/.7.1.0@sass-loader/lib/loader.js!../../../node_modules/.15.3.0@vue-loader/lib/index.js??vue-loader-options!./forgot.vue?vue&type=style&index=0&id=2f345e8d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/.0.4.1@mini-css-extract-plugin/dist/loader.js!../../../node_modules/.1.0.0@css-loader/index.js!../../../node_modules/.15.3.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.2.1.6@postcss-loader/lib/index.js!../../../node_modules/.7.1.0@sass-loader/lib/loader.js!../../../node_modules/.15.3.0@vue-loader/lib/index.js??vue-loader-options!./forgot.vue?vue&type=style&index=0&id=2f345e8d&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"clearfix forgot-container\" },\n    [\n      _c(\"img\", { attrs: { src: \"\", alt: \"logo\" } }),\n      _vm._v(\" \"),\n      _c(\"p\", { staticClass: \"v-title\" }, [_vm._v(\"\\n      找回密码\\n    \")]),\n      _vm._v(\" \"),\n      _c(\n        \"com-tabs\",\n        {\n          attrs: { value: _vm.activeName, disabled: \"\" },\n          on: {\n            \"update:value\": function($event) {\n              _vm.activeName = $event\n            }\n          }\n        },\n        [\n          _c(\"com-tab\", { attrs: { label: \"用户管理\", index: \"first\" } }, [\n            _c(\n              \"div\",\n              { staticClass: \"v-get-password\" },\n              [\n                _c(\"com-input\", {\n                  staticClass: \"v-input\",\n                  class: { warning: _vm.isWarning },\n                  attrs: {\n                    value: _vm.userPhone,\n                    placeholder: \"输入手机号\",\n                    maxLength: 11\n                  },\n                  on: {\n                    \"update:value\": function($event) {\n                      _vm.userPhone = $event\n                    },\n                    inputFocus: function($event) {\n                      _vm.inputFocus()\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"div\", { attrs: { id: \"captcha\" } }),\n                _vm._v(\" \"),\n                _c(\"com-input\", {\n                  staticClass: \"v-input phone-code\",\n                  class: { warning: _vm.isWarning },\n                  attrs: {\n                    value: _vm.phoneCode,\n                    placeholder: \"动态密码\",\n                    maxLength: 6\n                  },\n                  on: {\n                    \"update:value\": function($event) {\n                      _vm.phoneCode = $event\n                    },\n                    inputFocus: function($event) {\n                      _vm.inputFocus()\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\n                  \"a\",\n                  {\n                    staticClass: \"v-getcode\",\n                    class: { prohibit: _vm.isProhibit },\n                    attrs: { href: \"javascript:;\" },\n                    on: {\n                      click: function($event) {\n                        _vm.getCode()\n                      }\n                    }\n                  },\n                  [\n                    _vm._v(\"获取动态码\"),\n                    _c(\n                      \"span\",\n                      {\n                        directives: [\n                          {\n                            name: \"show\",\n                            rawName: \"v-show\",\n                            value: _vm.isSend,\n                            expression: \"isSend\"\n                          }\n                        ],\n                        staticClass: \"fr\"\n                      },\n                      [\n                        _vm._v(\"(\"),\n                        _c(\"em\", [_vm._v(_vm._s(_vm.second))]),\n                        _vm._v(\"s)\")\n                      ]\n                    )\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  {\n                    staticClass: \"input-form v-label\",\n                    style: { opacity: _vm.opacity }\n                  },\n                  [\n                    _c(\"p\", { staticClass: \"v-error\" }, [\n                      _vm._v(_vm._s(_vm.error))\n                    ])\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\"el-button\", { on: { click: _vm.verifyUser } }, [\n                  _vm._v(\"wo\")\n                ])\n              ],\n              1\n            )\n          ]),\n          _vm._v(\" \"),\n          _c(\"com-tab\", { attrs: { label: \"配置管理\", index: \"second\" } }, [\n            _c(\n              \"div\",\n              { staticClass: \"v-get-password\" },\n              [\n                _c(\"com-input\", {\n                  staticClass: \"v-input\",\n                  class: { warning: _vm.isWarning },\n                  attrs: {\n                    value: _vm.password,\n                    placeholder: \"新登录密码\",\n                    maxLength: 30,\n                    type: \"password\"\n                  },\n                  on: {\n                    \"update:value\": function($event) {\n                      _vm.password = $event\n                    },\n                    inputFocus: function($event) {\n                      _vm.inputFocus()\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"com-input\", {\n                  staticClass: \"v-input\",\n                  class: { warning: _vm.isWarning },\n                  attrs: {\n                    value: _vm.rePassword,\n                    placeholder: \"确认新密码\",\n                    maxLength: 30,\n                    type: \"password\"\n                  },\n                  on: {\n                    \"update:value\": function($event) {\n                      _vm.rePassword = $event\n                    },\n                    inputFocus: function($event) {\n                      _vm.inputFocus()\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  {\n                    staticClass: \"input-form v-label\",\n                    style: { opacity: _vm.opacity }\n                  },\n                  [\n                    _c(\"p\", { staticClass: \"v-error\" }, [\n                      _vm._v(_vm._s(_vm.error))\n                    ])\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\"el-button\", { on: { click: _vm.undatePhone } }, [\n                  _vm._v(\"wo\")\n                ])\n              ],\n              1\n            )\n          ]),\n          _vm._v(\" \"),\n          _c(\"com-tab\", { attrs: { label: \"角色管理\", index: \"third\" } }, [\n            _vm._v(\"\\n         成功\\n       \")\n          ])\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/.5.0.0@happypack/loader.js?id=happy-babel-js!../../../node_modules/.15.3.0@vue-loader/lib/index.js??vue-loader-options!./forgot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.5.0.0@happypack/loader.js?id=happy-babel-js!../../../node_modules/.15.3.0@vue-loader/lib/index.js??vue-loader-options!./forgot.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"clearfix forgot-container\">\n    <img src=\"\" alt=\"logo\">\n    <p class=\"v-title\">\n      找回密码\n    </p>\n    <com-tabs :value.sync=\"activeName\" disabled>\n       <com-tab label=\"用户管理\" index=\"first\">\n        <div class=\"v-get-password\">\n          <com-input class=\"v-input\" :value.sync=\"userPhone\" placeholder=\"输入手机号\" :maxLength=\"11\" @inputFocus=\"inputFocus()\" :class=\"{warning:isWarning}\"></com-input>\n          <div id=\"captcha\"></div>\n          <com-input class=\"v-input phone-code\" :value.sync=\"phoneCode\" placeholder=\"动态密码\" :maxLength=\"6\" @inputFocus=\"inputFocus()\" :class=\"{warning:isWarning}\">\n          </com-input>\n          <a href=\"javascript:;\" class=\"v-getcode\" :class=\"{prohibit:isProhibit}\" @click=\"getCode()\">获取动态码<span v-show=\"isSend\" class=\"fr\">(<em>{{second}}</em>s)</span></a>\n          <div class=\"input-form v-label\" :style=\"{opacity:opacity}\">\n\t\t    \t\t<p class=\"v-error\">{{error}}</p>\n\t\t    \t</div>\n          <el-button @click=\"verifyUser\">wo</el-button>\n        </div>\n       </com-tab>\n       <com-tab label=\"配置管理\" index=\"second\">\n         <div class=\"v-get-password\">\n          <com-input class=\"v-input\" :value.sync=\"password\" placeholder=\"新登录密码\" :maxLength=\"30\" @inputFocus=\"inputFocus()\" :class=\"{warning:isWarning}\" type=\"password\"></com-input>\n          <com-input class=\"v-input\" :value.sync=\"rePassword\" placeholder=\"确认新密码\" :maxLength=\"30\" @inputFocus=\"inputFocus()\" :class=\"{warning:isWarning}\" type=\"password\">\n          </com-input>\n          <div class=\"input-form v-label\" :style=\"{opacity:opacity}\">\n\t\t    \t\t<p class=\"v-error\">{{error}}</p>\n\t\t    \t</div>\n          <el-button @click=\"undatePhone\">wo</el-button>\n        </div>\n       </com-tab>\n       <com-tab label=\"角色管理\" index=\"third\">\n         成功\n       </com-tab>\n    </com-tabs>\n  </div>\n</template>\n<script>\n  import account from 'src/api/account-manage'\n  import identifyingcodeManage from 'src/api/identifyingcode-manage'\n  export default {\n    data () {\n      return {\n        tabValue: 1,\n        outValue: '123',\n        userPhone: '',\n        phoneCode: '',\n        token: '',\n        activeName: 'first',\n        isWarning: false,\n        phoneStatus: false,\n        type: 'password',\n        key: '',\n        isProhibit: true,\n        isSend: false,\n        second: 60,\n        timerr: '',\n        phoneKey: '',\n        isImg: false,\n        cap: null,\n        opacity: 0,\n        error: '',\n        password: '',\n        rePassword: '',\n        isValidPassword: false\n      }\n    },\n    components: {\n    },\n    created () {\n      let data = {}\n      identifyingcodeManage.getCodeId(data).then((res) => {\n        if (res.code !== 200) {\n          console.log(res.msg)\n        } else {\n          let _self = this\n          this.key = res.data\n          window.initNECaptcha({\n            captchaId: _self.key,\n            element: '#captcha',\n            mode: 'float',\n            width: 300,\n            onReady: function (instance) {\n            },\n            onVerify: function (err, data) {\n              if (data) {\n                _self.phoneKey = data.validate\n                _self.isImg = true\n              }\n              if (err) {\n                console.log(err)\n              }\n            },\n            onError: function () {\n            }\n          }, function onload (instance) {\n            _self.cap = instance\n          })\n        }\n      })\n    },\n    mounted () {\n    },\n    watch: {\n      userPhone: function () {\n        this.checkPhone(this.userPhone)\n        this.isGetCodePermission()\n      },\n      phoneStatus: function (val) {\n        this.isGetCodePermission()\n      },\n      isImg: function (val) {\n        this.isGetCodePermission()\n      }\n    },\n    methods: {\n      setPassword () {\n        console.log(1)\n      },\n      isGetCodePermission () {\n        if (this.isImg && this.phoneStatus) {\n          this.isProhibit = false\n        } else {\n          this.isProhibit = true\n        }\n      },\n      checkPhone (param) {\n        let reg = /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/\n        if (reg.test(parseInt(param))) {\n          this.phoneStatus = true\n        } else {\n          this.phoneStatus = false\n        }\n      },\n      getCode () {\n        // 获取验证码\n        if (this.isProhibit) {\n          return false\n        }\n        let data = {\n          'mobile': this.userPhone,\n          'type': 'BUSINESS_USER_UPDATE_PASSWORD',\n          captcha: this.phoneKey\n        }\n        identifyingcodeManage.getCode(data).then((res) => {\n          if (res.code !== 200) {\n            this.error = res.msg\n            this.opacity = 1\n            clearInterval(this.timerr)\n            this.isSend = false\n            this.isProhibit = true\n            this.second = 60\n            this.isImg = false\n            this.phoneKey = ''\n            this.cap.refresh()\n          } else {\n            this.isSend = true\n            this.isProhibit = true\n            clearInterval(this.timerr)\n            this.timerr = setInterval(() => {\n              this.second--\n              if (this.second <= 0) {\n                clearInterval(this.timerr)\n                this.isSend = false\n                this.isProhibit = true\n                this.second = 60\n                this.isImg = false\n                this.phoneKey = ''\n                this.cap.refresh()\n              }\n            }, 1000)\n          }\n        })\n      },\n      verifyUser () {\n        if (!this.phoneStatus) {\n          return false\n        }\n        let data = {\n          mobile: this.userPhone,\n          code: this.phoneCode,\n          type: 'BUSINESS_USER_UPDATE_PASSWORD'\n        }\n        account.verifyMobile(data).then((res) => {\n          if (res.code !== 200) {\n            this.error = res.msg\n            this.opacity = 1\n          } else {\n            this.activeName = 'second'\n            this.token = res.data.codeToken\n            this.phone = ''\n            this.messageBoxExplain = '验证成功，请输入新的手机号'\n            this.isOldphone = false\n            this.step = 'newPhone'\n            clearInterval(this.timerr)\n            this.isSend = false\n            this.isProhibit = true\n            this.second = 60\n            this.isImg = false\n            this.phoneKey = ''\n            this.cap.refresh()\n          }\n        })\n      },\n      undatePhone () {\n        if (this.password !== this.rePassword) {\n          this.error = '两次密码输入不一致'\n          this.opacity = 1\n        } else if (!this.validPassword()) {\n          this.error = '密码不符合规则'\n          this.opacity = 1\n        } else {\n          let data = {\n            mobile: this.userPhone,\n            codeToken: this.token,\n            newPassword: this.password\n          }\n          account.updateMobileByToken(data).then((res) => {\n            if (res.code !== 200) {\n              this.error = res.msg\n              this.opacity = 1\n            } else {\n              this.activeName = 'third'\n            }\n          })\n        }\n      },\n      validPhone: function (phone) {\n        var re = /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/\n        return re.test(phone)\n      },\n      validPassword: function () {\n        var re = /^(?!\\d+$)(?![A-Za-z]+$)[a-zA-Z0-9]{6,30}$/\n        return re.test(this.password) && re.test(this.rePassword)\n      },\n      inputFocus: function () {\n        this.error = ''\n        this.opacity = 0\n      }\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n.forgot-container /deep/ {\n  display: block;\n  width: 1200px;\n  margin: 85px auto 0;\n  padding: 35px 55px;\n  .v-get-password {\n    display: block;\n    width: 500px;\n    margin: 140px auto 0;\n    .v-label {\n      margin-top: -12px;\n      height: 18px;\n      line-height: 18px;\n    }\n    .com-input {\n      width: 300px;\n      margin-bottom: 15px;\n    }\n    #captcha {\n      width: 300px;\n      margin-bottom: 15px;\n    }\n  }\n}\n.v-get-password {\n  margin-top: 200px;\n  .el-button {\n    margin-top: 15px;\n  }\n  .com-input {\n    &.v-input {\n      width: 300px;\n      margin-bottom: 10px;\n      input {\n        width: 300px;\n        height: 40px;\n        line-height: 40px;\n      }\n      &.phone-code {\n        width: 180px;\n        input {\n          width: 180px;\n        }\n      }\n    }\n  }\n  .v-getcode {\n    background-color: #fc5659;\n    display: inline-block;\n    width: 115px;\n    height: 34px;\n    line-height: 34px;\n    text-align: center;\n    font-size: 13px;\n    color: #fff;\n    border-radius: 2px;\n    text-decoration: none;\n    &.prohibit {\n      background-color: #dedede;\n      &:hover {\n        background-color: #dedede;\n      }\n    }\n  }\n}\n</style>\n\n","import { render, staticRenderFns } from \"./forgot.vue?vue&type=template&id=2f345e8d&scoped=true&\"\nimport script from \"./forgot.vue?vue&type=script&lang=js&\"\nexport * from \"./forgot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./forgot.vue?vue&type=style&index=0&id=2f345e8d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.15.3.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f345e8d\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\work\\\\market\\\\fe_management\\\\node_modules\\\\.2.3.0@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2f345e8d', component.options)\n    } else {\n      api.reload('2f345e8d', component.options)\n    }\n    module.hot.accept(\"./forgot.vue?vue&type=template&id=2f345e8d&scoped=true&\", function () {\n      api.rerender('2f345e8d', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src\\\\pages\\\\login\\\\forgot.vue\"\nexport default component.exports"],"sourceRoot":""}