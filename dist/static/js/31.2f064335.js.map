{"version":3,"sources":["webpack:///./src/pages/live-mager/promote/message/overview.vue?a517","webpack:///./src/pages/live-mager/promote/message/overview.vue?0c8a","webpack:///src/pages/live-mager/promote/message/overview.vue","webpack:///./src/pages/live-mager/promote/message/overview.vue","webpack:///./src/pages/live-mager/css/live.scss?0e2d","webpack:///./src/pages/live-mager/promote/message/overview.vue?9495"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","loading","expression","staticClass","attrs","com-loading-text","_v","class","_s","title","_l","selectedGroupList","item","idx","length","_e","selectedTagList","expectNum","status","on","click","$event","sendDetail","date","_m","titleValue","wxContent","msgContent","msgTag","isWx","type","to","params","id","activityId","query","disabled","sendNow","mode","_type","handleClick","_withStripped","message_overviewvue_type_script_lang_js_","data","$route","webinarName","group","tag","time","groupList","tagList","created","queryInfo","initData","eventBus","$emit","url","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","queryTagList","queryGroupList","queryMsgInfo","stop","_this2","$post","notice_service","POST_SEND_MSG","inviteId","then","res","$toast","content","Object","Date","_this3","$get","activity_service","GET_WEBINAR_INFO","keyword","_this4","userManage_service","GET_GROUP_LIST","temArray","list","forEach","push","group_id","count","user_count","isChecked","key","_this5","GET_TAG_LIST","tag_name","tag_id","reArrangeList","arr","_this6","ele","i","console","log","_this7","GET_QUERY_MSG","groupId","tagId","sendTime","toString","planTime","signature","desc","split","e","action","components","comPhone","com_phone","comDetail","com_detail","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_live_scss_vue_type_style_index_0_id_c71415e8_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_overview_vue_vue_type_style_index_1_id_c71415e8_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__"],"mappings":"kGAAA,IAAAA,EAAA,WACA,IAAAC,EAAAC,KACAC,EAAAF,EAAAG,eACAC,EAAAJ,EAAAK,MAAAD,IAAAF,EACA,OAAAE,EACA,OAEAE,aAEAC,KAAA,aACAC,QAAA,eACAC,MAAAT,EAAAU,QACAC,WAAA,YAGAC,YAAA,UACAC,OAAcC,mBAAA,WAGdV,EAAA,OAAiBQ,YAAA,gCACjBR,EACA,OACWQ,YAAA,eAEXR,EAAA,QAAwBQ,YAAA,UAAuBZ,EAAAe,GAAA,UAC/Cf,EAAAe,GAAA,KACAX,EAAA,YAA4BY,MAAA,cAE5B,GAEAhB,EAAAe,GAAA,KACAX,EAAA,OAAmBQ,YAAA,yBACnBR,EACA,OACaQ,YAAA,aAEbR,EAAA,OAAyBQ,YAAA,aACzBR,EAAA,OAA2BQ,YAAA,eAC3BZ,EAAAe,GAAA,WAEAf,EAAAe,GAAA,KACAX,EAAA,OAA2BQ,YAAA,iBAC3BZ,EAAAe,GAAA,iBAAAf,EAAAiB,GAAAjB,EAAAkB,OAAA,oBAGAlB,EAAAe,GAAA,KACAX,EAAA,OAAyBQ,YAAA,aACzBR,EAAA,OAA2BQ,YAAA,eAA4BZ,EAAAe,GAAA,UACvDf,EAAAe,GAAA,KACAX,EACA,OACmBQ,YAAA,qBAEnBZ,EAAAmB,GAAAnB,EAAAoB,kBAAA,SAAAC,EAAAC,GACA,OACAtB,EAAAe,GAAAf,EAAAiB,GAAAI,EAAAd,OACAe,EAAA,EAAAtB,EAAAoB,kBAAAG,QACAvB,EAAAe,GAAA,MACAf,EAAAwB,QAGApB,EAAA,MACAJ,EAAAe,GAAA,KACAf,EAAAmB,GAAAnB,EAAAyB,gBAAA,SAAAJ,EAAAC,GACA,OACAtB,EAAAe,GAAAf,EAAAiB,GAAAI,EAAAd,OACAe,EAAA,EAAAtB,EAAAyB,gBAAAF,QACAvB,EAAAe,GAAA,MACAf,EAAAwB,QAGAxB,EAAAe,GACA,MAAAf,EAAAiB,GAAAjB,EAAA0B,WAAA,oBAEA,SAAA1B,EAAA2B,OACAvB,EACA,aAEAQ,YAAA,6BACAgB,IACAC,MAAA,SAAAC,GACA9B,EAAA+B,YAAA,MAIA/B,EAAAe,GAAA,UAEAf,EAAAwB,MAEA,KAGAxB,EAAAe,GAAA,KACAX,EAAA,OAAyBQ,YAAA,aACzBR,EAAA,OAA2BQ,YAAA,eAC3BZ,EAAAe,GAAA,WAEAf,EAAAe,GAAA,KACAX,EAAA,OAA2BQ,YAAA,iBAC3B,SAAAZ,EAAA2B,OACAvB,EAAA,QAAkCQ,YAAA,SAClCR,EAAA,KACAJ,EAAAe,GAAA,SAEAf,EAAAwB,KACAxB,EAAAe,GAAA,KACA,UAAAf,EAAA2B,OACAvB,EAAA,QAAkCQ,YAAA,UAClCR,EAAA,KACAJ,EAAAe,GAAA,SAEAf,EAAAwB,KACAxB,EAAAe,GAAA,KACA,UAAAf,EAAA2B,OACAvB,EAAA,QAAkCQ,YAAA,UAClCR,EAAA,KACAJ,EAAAe,GAAA,QAEAf,EAAAwB,SAGAxB,EAAAe,GAAA,KACAX,EAAA,OAAyBQ,YAAA,aACzBR,EAAA,OAA2BQ,YAAA,eAC3BZ,EAAAe,GAAA,WAEAf,EAAAe,GAAA,KACAX,EAAA,OAA2BQ,YAAA,iBAC3BZ,EAAAe,GAAA,iBAAAf,EAAAiB,GAAAjB,EAAAgC,MAAA,oBAGAhC,EAAAe,GAAA,KACAf,EAAAiC,GAAA,GACAjC,EAAAe,GAAA,KACAX,EAAA,aACAS,OACAqB,WAAAlC,EAAAkB,MACAc,KAAAhC,EAAAgC,KACAG,UAAAnC,EAAAoC,WACAC,OAAArC,EAAAqC,OACAC,MAAA,MAIA,GAEAtC,EAAAe,GAAA,KACAX,EACA,OACaQ,YAAA,cAEb,SAAAZ,EAAA2B,QAAA,YAAA3B,EAAAuC,KACAnC,EACA,eAEAS,OACA2B,IACAjC,KAAA,YACAkC,QAAmCC,GAAA1C,EAAA2C,YACnCC,OAAkCF,GAAA1C,EAAA0C,QAKlCtC,EAAA,aAAuCQ,YAAA,mBACvCZ,EAAAe,GAAA,WAGA,GAEAf,EAAAwB,KACAxB,EAAAe,GAAA,KACA,SAAAf,EAAA2B,OACAvB,EACA,aACqBQ,YAAA,iBAAAC,OAAwCgC,SAAA,MAC7D7C,EAAAe,GAAA,SAEAX,EACA,aAEAQ,YAAA,iBACAgB,IAA2BC,MAAA7B,EAAA8C,WAE3B9C,EAAAe,GAAA,WAGA,OAIAf,EAAAe,GAAA,KACAf,EAAA+B,WACA3B,EACA,cACaS,OAASN,KAAA,OAAAwC,KAAA,YAEtB3C,EAAA,cACAS,OAAwBmC,MAAA,OACxBpB,IAAqBqB,YAAAjD,EAAAiD,gBAGrB,GAEAjD,EAAAwB,MAEA,IAaAzB,EAAAmD,eAAA,wGC3N0MC,GC4E1MC,KADA,WAEA,OACAT,WAAA1C,KAAAoD,OAAAZ,OAAAC,GACAA,GAAAzC,KAAAoD,OAAAT,MAAAF,GACAY,YAAA,GACApC,MAAA,GACAqC,MAAA,GACAC,IAAA,GACA7B,OAAA,GACA8B,KAAA,GACAzB,KAAA,GACAK,OAAA,GACA3B,SAAA,EACA0B,WAAA,GACAG,KAAA,GACAnB,qBACAK,mBACAiC,aACAC,WACA5B,YAAA,EACAL,UAAA,IAGAkC,QAxBA,WAyBA3D,KAAA4D,YACA5D,KAAA6D,WACIC,EAAA,EAAJC,MAAA,WACA9C,MAAA,SAEAA,MAAA,OACA+C,IAAA,oBAEA/C,MAAA,OACA+C,IAAA,qBAAAhE,KAAA0C,aAEAzB,MAAA,OACA+C,IAAA,+BAAAhE,KAAA0C,aAEAzB,MAAA,SAGAgD,SACAJ,SADA,WACA,IAAAK,EAAAlE,KAAA,OAAAmE,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACAT,EAAAU,eADA,cAAAH,EAAAE,KAAA,EAEAT,EAAAW,iBAFA,cAAAJ,EAAAE,KAAA,EAGAT,EAAAY,eAHA,wBAAAL,EAAAM,SAAAR,EAAAL,KAAAC,IAKAtB,QANA,WAMA,IAAAmC,EAAAhF,KACAA,KAAAiF,MAAAC,EAAA,EAAAC,eACAC,SAAApF,KAAAyC,KACA4C,KAAA,SAAAC,GACAN,EAAAO,QACAC,QAAA,SAEAR,EAAAtD,OAAA,OACAsD,EAAAjD,KAAA0D,OAAA1D,EAAA,EAAA0D,CAAA,IAAAC,KAAA,0BAGA9B,UAjBA,WAiBA,IAAA+B,EAAA3F,KACAA,KAAA4F,KAAAC,EAAA,EAAAC,kBACArD,GAAAzC,KAAAoD,OAAAZ,OAAAC,KACA4C,KAAA,SAAAC,GACAK,EAAArD,KAAAgD,EAAAnC,KAAAzB,UAIAmD,eAzBA,SAyBAkB,GAAA,IAAAC,EAAAhG,KACA,OAAAA,KAAA4F,KAAAK,EAAA,EAAAC,gBAAAb,KAAA,SAAAC,GACA,IAAAa,KACAb,EAAAnC,KAAAiD,KAAAC,QAAA,SAAAjF,GACA+E,EAAAG,MACA7D,GAAArB,EAAAmF,SACAjG,KAAAc,EAAAH,MACAuF,MAAApF,EAAAqF,WACAC,WAAA,MAGAV,EAAAvC,UAAA0C,KAIAvB,aAxCA,SAwCA+B,GAAA,IAAAC,EAAA5G,KACA,OAAAA,KAAA4F,KAAAK,EAAA,EAAAY,cACAnE,WAAA1C,KAAAoD,OAAAZ,OAAAC,KACA4C,KAAA,SAAAC,GACA,IAAAa,KACAb,EAAAnC,KAAAiD,KAAAC,QAAA,SAAAjF,GACA+E,EAAAG,MACAhG,KAAAc,EAAA0F,SACArE,GAAArB,EAAA2F,OACAP,MAAApF,EAAAqF,WACAC,WAAA,MAGAE,EAAAlD,QAAAyC,KAGAa,cAxDA,SAwDAC,EAAA3E,GAAA,IAAA4E,EAAAlH,KACA,UAAAsC,EACAtC,KAAAyD,UAAA4C,QAAA,SAAAjF,EAAAC,GACA4F,EAAAZ,QAAA,SAAAc,EAAAC,GACA,EAAAD,IAAA/F,EAAAqB,IACAyE,EAAA/F,kBAAAmF,MACAhG,KAAAc,EAAAd,KACAkG,MAAApF,EAAAoF,aAMAa,QAAAC,IAAAL,GACAI,QAAAC,IAAAtH,KAAA0D,SACA1D,KAAA0D,QAAA2C,QAAA,SAAAjF,EAAAC,GACAgG,QAAAC,IAAAlG,GACA6F,EAAAZ,QAAA,SAAAc,EAAAC,GACAC,QAAAC,IAAAH,EAAA,IAAAC,GACA,EAAAD,IAAA/F,EAAAqB,IACAyE,EAAA1F,gBAAA8E,MACAhG,KAAAc,EAAAd,KACAkG,MAAApF,EAAAoF,cAOA1B,aArFA,WAqFA,IAAAyC,EAAAvH,KACA,OAAAA,KAAA4F,KAAAV,EAAA,EAAAsC,eACApC,SAAApF,KAAAyC,KACA4C,KAAA,SAAAC,GACAiC,EAAAjE,MAAAgC,EAAAnC,KAAAsE,QACAF,EAAAhE,IAAA+B,EAAAnC,KAAAuE,MACAH,EAAAtG,MAAAqE,EAAAnC,KAAAlC,MACAsG,EAAA7F,OAAA4D,EAAAnC,KAAAzB,OACA6F,EAAAxF,KAAAuD,EAAAnC,KAAAwE,SAAArC,EAAAnC,KAAAwE,SAAAC,WAAAtC,EAAAnC,KAAA0E,SAAAD,WACAL,EAAAnF,OAAAkD,EAAAnC,KAAA2E,UACAP,EAAApF,WAAAmD,EAAAnC,KAAA4E,KACAR,EAAA9F,UAAA6D,EAAAnC,KAAA1B,UAEA8F,EAAAP,cAAA1B,EAAAnC,KAAAsE,QAAAO,MAAA,cACAT,EAAAP,cAAA1B,EAAAnC,KAAAuE,MAAAM,MAAA,eAyBAhF,YA5HA,SA4HAiF,GACA,WAAAA,EAAAC,SACAlI,KAAA8B,YAAA,KAIAqG,YACAC,SAAAC,EAAA,EAAAC,UAAAC,EAAA,2BC/OAC,EAAgB/C,OAAAgD,EAAA,EAAAhD,CACdvC,EACApD,GHuMF,WACA,IACAG,EADAD,KACAE,eACAC,EAFAH,KAEAI,MAAAD,IAAAF,EACA,OAAAE,EAAA,OAAsBQ,YAAA,aACtBR,EAAA,OAAiBQ,YAAA,oBG1MjB,EACA,KACA,WACA,MAuBA6H,EAAAE,QAAAC,OAAA,oDACeC,EAAA,QAAAJ,wFCxCf,IAAAK,EAAAC,EAAA,KAAAA,EAAAC,EAAAF,GAAqY,oCCArY,IAAAG,EAAAF,EAAA,KAAAA,EAAAC,EAAAC,GAA+d","file":"static/js/31.2f064335.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      directives: [\n        {\n          name: \"ComLoading\",\n          rawName: \"v-ComLoading\",\n          value: _vm.loading,\n          expression: \"loading\"\n        }\n      ],\n      staticClass: \"content\",\n      attrs: { \"com-loading-text\": \"拼命加载中\" }\n    },\n    [\n      _c(\"div\", { staticClass: \"overview-wx-page live-mager\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"live-title\" },\n          [\n            _c(\"span\", { staticClass: \"title\" }, [_vm._v(\"短信邀约\")]),\n            _vm._v(\" \"),\n            _c(\"com-back\", { class: \"back-btn\" })\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"mager-box border-box\" }, [\n          _c(\n            \"div\",\n            { staticClass: \"from-box\" },\n            [\n              _c(\"div\", { staticClass: \"from-row\" }, [\n                _c(\"div\", { staticClass: \"from-title\" }, [\n                  _vm._v(\"短信标题：\")\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"from-content\" }, [\n                  _vm._v(\"\\n            \" + _vm._s(_vm.title) + \"\\n          \")\n                ])\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"from-row\" }, [\n                _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"收件人：\")]),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"from-content spe\" },\n                  [\n                    _vm._l(_vm.selectedGroupList, function(item, idx) {\n                      return [\n                        _vm._v(_vm._s(item.name)),\n                        idx + 1 < _vm.selectedGroupList.length\n                          ? [_vm._v(\"、\")]\n                          : _vm._e()\n                      ]\n                    }),\n                    _c(\"br\"),\n                    _vm._v(\" \"),\n                    _vm._l(_vm.selectedTagList, function(item, idx) {\n                      return [\n                        _vm._v(_vm._s(item.name)),\n                        idx + 1 < _vm.selectedTagList.length\n                          ? [_vm._v(\"、\")]\n                          : _vm._e()\n                      ]\n                    }),\n                    _vm._v(\n                      \"（合计\" + _vm._s(_vm.expectNum) + \"人）\\n            \"\n                    ),\n                    _vm.status === \"SEND\"\n                      ? _c(\n                          \"el-button\",\n                          {\n                            staticClass: \"send-detail default-button\",\n                            on: {\n                              click: function($event) {\n                                _vm.sendDetail = true\n                              }\n                            }\n                          },\n                          [_vm._v(\"发送详情\")]\n                        )\n                      : _vm._e()\n                  ],\n                  2\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"from-row\" }, [\n                _c(\"div\", { staticClass: \"from-title\" }, [\n                  _vm._v(\"发送状态：\")\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"from-content\" }, [\n                  _vm.status === \"SEND\"\n                    ? _c(\"span\", { staticClass: \"SEND\" }, [\n                        _c(\"i\"),\n                        _vm._v(\"已发送\")\n                      ])\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.status === \"AWAIT\"\n                    ? _c(\"span\", { staticClass: \"AWAIT\" }, [\n                        _c(\"i\"),\n                        _vm._v(\"已定时\")\n                      ])\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.status === \"DRAFT\"\n                    ? _c(\"span\", { staticClass: \"DRAFT\" }, [\n                        _c(\"i\"),\n                        _vm._v(\"草稿\")\n                      ])\n                    : _vm._e()\n                ])\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"from-row\" }, [\n                _c(\"div\", { staticClass: \"from-title\" }, [\n                  _vm._v(\"发送时间：\")\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"from-content\" }, [\n                  _vm._v(\"\\n            \" + _vm._s(_vm.date) + \"\\n          \")\n                ])\n              ]),\n              _vm._v(\" \"),\n              _vm._m(0),\n              _vm._v(\" \"),\n              _c(\"com-phone\", {\n                attrs: {\n                  titleValue: _vm.title,\n                  date: _vm.date,\n                  wxContent: _vm.msgContent,\n                  msgTag: _vm.msgTag,\n                  isWx: false\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"btn-group\" },\n            [\n              _vm.status !== \"SEND\" && _vm.type === \"PREPARE\"\n                ? _c(\n                    \"router-link\",\n                    {\n                      attrs: {\n                        to: {\n                          name: \"msgCreate\",\n                          params: { id: _vm.activityId },\n                          query: { id: _vm.id }\n                        }\n                      }\n                    },\n                    [\n                      _c(\"el-button\", { staticClass: \"default-button\" }, [\n                        _vm._v(\"编辑短信\")\n                      ])\n                    ],\n                    1\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm.status === \"SEND\"\n                ? _c(\n                    \"el-button\",\n                    { staticClass: \"primary-button\", attrs: { disabled: \"\" } },\n                    [_vm._v(\"已发送\")]\n                  )\n                : _c(\n                    \"el-button\",\n                    {\n                      staticClass: \"primary-button\",\n                      on: { click: _vm.sendNow }\n                    },\n                    [_vm._v(\"正式发送\")]\n                  )\n            ],\n            1\n          )\n        ])\n      ]),\n      _vm._v(\" \"),\n      _vm.sendDetail\n        ? _c(\n            \"transition\",\n            { attrs: { name: \"fade\", mode: \"out-in\" } },\n            [\n              _c(\"com-detail\", {\n                attrs: { _type: \"SMS\" },\n                on: { handleClick: _vm.handleClick }\n              })\n            ],\n            1\n          )\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-row\" }, [\n      _c(\"div\", { staticClass: \"from-title\" })\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./overview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./overview.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"content\"\n       v-ComLoading=\"loading\"\n       com-loading-text=\"拼命加载中\">\n    <div class=\"overview-wx-page live-mager\">\n      <div class=\"live-title\">\n        <span class=\"title\">短信邀约</span>\n        <com-back :class='\"back-btn\"'></com-back>\n      </div>\n      <div class='mager-box border-box'>\n        <div class=\"from-box\">\n          <div class=\"from-row\">\n            <div class=\"from-title\">短信标题：</div>\n            <div class=\"from-content\">\n              {{title}}\n            </div>\n          </div>\n          <div class=\"from-row\">\n            <div class=\"from-title\">收件人：</div>\n            <div class=\"from-content spe\">\n              <template v-for=\"(item,idx) in selectedGroupList\">{{item.name}}<template v-if=\"idx + 1< selectedGroupList.length\">、</template></template><br>\n              <template v-for=\"(item,idx) in selectedTagList\">{{item.name}}<template v-if=\"idx + 1< selectedTagList.length\">、</template></template>（合计{{expectNum}}人）\n              <el-button v-if=\"status === 'SEND'\" class='send-detail default-button' @click='sendDetail = true'>发送详情</el-button>\n            </div>\n          </div>\n          <div class=\"from-row\">\n            <div class=\"from-title\">发送状态：</div>\n            <div class=\"from-content\">\n              <span v-if=\"status === 'SEND'\"\n                    class='SEND'><i></i>已发送</span>\n              <span v-if=\"status === 'AWAIT'\"\n                    class='AWAIT'><i></i>已定时</span>\n              <span v-if=\"status === 'DRAFT'\"\n                    class='DRAFT'><i></i>草稿</span>\n            </div>\n          </div>\n          <div class=\"from-row\">\n            <div class=\"from-title\">发送时间：</div>\n            <div class=\"from-content\">\n              {{date}}\n            </div>\n          </div>\n          <div class=\"from-row\">\n            <div class=\"from-title\"></div>\n          </div>\n          <!-- 模拟手机预览 -->\n          <com-phone :titleValue='title' :date='date' :wxContent='msgContent' :msgTag='msgTag' :isWx=\"false\"></com-phone>\n        </div>\n        <div class=\"btn-group\">\n          <!-- <router-link><router-link :to=\"{name:'promoteMsg',params:{id:activityId}}\">返回</router-link></router-link> -->\n          <router-link  v-if=\"status !== 'SEND' && type === 'PREPARE'\" :to=\"{name:'msgCreate',params:{id:activityId},query:{id:id}}\"><el-button class='default-button'\n                    >编辑短信</el-button></router-link>\n          <el-button class='primary-button'\n                     v-if=\"status === 'SEND'\"\n                     disabled>已发送</el-button>\n          <el-button class='primary-button'\n                     @click='sendNow'\n                     v-else>正式发送</el-button>\n        </div>\n      </div>\n    </div>\n    <transition name='fade' mode='out-in' v-if=\"sendDetail\">\n      <com-detail _type=\"SMS\"  @handleClick=\"handleClick\"></com-detail>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport { formatDate } from 'src/assets/js/date'\nimport noticeService from 'src/api/notice-service'\nimport activityService from 'src/api/activity-service'\nimport userManage from 'src/api/userManage-service'\nimport comPhone from '../com-phone'\nimport comDetail from '../com-detail'\nimport EventBus from 'src/utils/eventBus'\nexport default {\n  data () {\n    return {\n      activityId: this.$route.params.id,\n      id: this.$route.query.id,\n      webinarName: '',\n      title: '',\n      group: '',\n      tag: '',\n      status: '',\n      time: '',\n      date: '',\n      msgTag: '',\n      loading: false,\n      msgContent: '',\n      type: '', // 活动状态\n      selectedGroupList: [],\n      selectedTagList: [],\n      groupList: [],\n      tagList: [],\n      sendDetail: false,\n      expectNum: 0\n    }\n  },\n  created () {\n    this.queryInfo()\n    this.initData()\n    EventBus.$emit('breads', [{\n      title: '活动管理'\n    }, {\n      title: '活动列表',\n      url: '/liveMager/list'\n    }, {\n      title: '活动详情',\n      url: `/liveMager/detail/${this.activityId}`\n    }, {\n      title: '短信邀约',\n      url: `/liveMager/promote/msg/list/${this.activityId}`\n    }, {\n      title: '预览'\n    }])\n  },\n  methods: {\n    async initData () {\n      await this.queryTagList()\n      await this.queryGroupList()\n      await this.queryMsgInfo()\n    },\n    sendNow () {\n      this.$post(noticeService.POST_SEND_MSG, {\n        inviteId: this.id\n      }).then((res) => {\n        this.$toast({\n          content: '发送成功'\n        })\n        this.status = 'SEND'\n        this.date = formatDate(new Date(), 'yyyy-MM-dd hh:mm:ss')\n      })\n    },\n    queryInfo () {\n      this.$get(activityService.GET_WEBINAR_INFO, {\n        id: this.$route.params.id\n      }).then((res) => {\n        this.type = res.data.status\n      })\n    },\n    // 查询群组\n    queryGroupList (keyword) {\n      return this.$get(userManage.GET_GROUP_LIST).then((res) => {\n        let temArray = []\n        res.data.list.forEach((item) => {\n          temArray.push({\n            id: item.group_id,\n            name: item.title,\n            count: item.user_count,\n            isChecked: false\n          })\n        })\n        this.groupList = temArray\n      })\n    },\n    /* 查询标签 */\n    queryTagList (key) {\n      return this.$get(userManage.GET_TAG_LIST, {\n        activityId: this.$route.params.id\n      }).then((res) => {\n        let temArray = []\n        res.data.list.forEach((item) => {\n          temArray.push({\n            name: item.tag_name,\n            id: item.tag_id,\n            count: item.user_count,\n            isChecked: false\n          })\n        })\n        this.tagList = temArray\n      })\n    },\n    reArrangeList (arr, type) {\n      if (type === 'group') {\n        this.groupList.forEach((item, idx) => {\n          arr.forEach((ele, i) => {\n            if (ele * 1 === item.id) {\n              this.selectedGroupList.push({\n                name: item.name,\n                count: item.count\n              })\n            }\n          })\n        })\n      } else {\n        console.log(arr)\n        console.log(this.tagList)\n        this.tagList.forEach((item, idx) => {\n          console.log(item)\n          arr.forEach((ele, i) => {\n            console.log(ele + ' ' + i)\n            if (ele * 1 === item.id) {\n              this.selectedTagList.push({\n                name: item.name,\n                count: item.count\n              })\n            }\n          })\n        })\n      }\n    },\n    queryMsgInfo () {\n      return this.$get(noticeService.GET_QUERY_MSG, {\n        inviteId: this.id\n      }).then((res) => {\n        this.group = res.data.groupId\n        this.tag = res.data.tagId\n        this.title = res.data.title\n        this.status = res.data.status\n        this.date = res.data.sendTime ? res.data.sendTime.toString() : res.data.planTime.toString()\n        this.msgTag = res.data.signature\n        this.msgContent = res.data.desc\n        this.expectNum = res.data.expectNum\n        // this.reArrangeList(res.data.groupId.split(','), res.data.tagId.split(','))\n        this.reArrangeList(res.data.groupId.split(','), 'group')\n        this.reArrangeList(res.data.tagId.split(','), 'tag')\n      })\n    },\n    // reArrangeList (arr, tag) {\n    //   this.groupList.forEach((item, idx) => {\n    //     group.forEach((ele, i) => {\n    //       if (ele * 1 === item.id) {\n    //         this.selectedGroupList.push({\n    //           name: item.name,\n    //           count: item.count\n    //         })\n    //       }\n    //     })\n    //   })\n    //   this.tagList.forEach((item, idx) => {\n    //     tag.forEach((ele, i) => {\n    //       if (ele * 1 === item.id) {\n    //         this.selectedTagList.push({\n    //           name: item.name\n    //         })\n    //       }\n    //     })\n    //   })\n    // },\n    /* 点击取消 */\n    handleClick (e) {\n      if (e.action === 'cancel') {\n        this.sendDetail = false\n      }\n    }\n  },\n  components: {\n    comPhone, comDetail\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped src=\"../../css/live.scss\">\n</style>\n<style lang='scss' scoped>\n@import '~assets/css/mixin.scss';\n.overview-wx-page {\n  position: relative;\n\n  .mager-box {\n    height: 730px;\n  }\n  .from-title {\n    color: $color-font-sub;\n    line-height: 40px;\n  }\n  .from-content {\n    color: $color-font;\n    line-height: 40px;\n    .send-detail {\n      padding: 0px;\n      width: 100px;\n      height: 40px;\n      line-height: 40px;\n      margin-left: 10px;\n    }\n    .SEND {\n      color: #4b5afe;\n      i {\n        display: inline-block;\n        width: 16px;\n        height: 16px;\n        background: url('~assets/image/icon_send.svg') no-repeat;\n        background-size: contain;\n        position: relative;\n        top: 3px;\n        margin-right: 5px;\n      }\n    }\n    .AWAIT {\n      color: #975bd5;\n      i {\n        display: inline-block;\n        width: 16px;\n        height: 16px;\n        background: url('~assets/image/icon_time.svg') no-repeat;\n        background-size: contain;\n        position: relative;\n        top: 3px;\n        margin-right: 5px;\n      }\n    }\n    &.spe {\n      width: 500px;\n      flex: inherit !important;\n      text-align: justify;\n    }\n  }\n  .btn-group {\n    display: block;\n    margin: 0 auto;\n    width: 295px;\n    button {\n      padding: 0px;\n      width: 140px;\n      height: 40px;\n      line-height: 40px;\n    }\n  }\n}\n.from-box {\n  margin: 20px;\n  height: 600px;\n  .from-row {\n    display: flex;\n    padding: 10px;\n    .from-title {\n      width: 180px;\n      text-align: right;\n      padding-right: 20px;\n      .star {\n        position: relative;\n        top: 3px;\n        color: $color-error;\n        padding-right: 5px;\n      }\n    }\n    .from-content {\n      flex: 1;\n      .input-box {\n        width: 400px;\n      }\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./overview.vue?vue&type=template&id=c71415e8&scoped=true&\"\nimport script from \"./overview.vue?vue&type=script&lang=js&\"\nexport * from \"./overview.vue?vue&type=script&lang=js&\"\nimport style0 from \"../../css/live.scss?vue&type=style&index=0&id=c71415e8&lang=scss&scoped=true&\"\nimport style1 from \"./overview.vue?vue&type=style&index=1&id=c71415e8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c71415e8\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/chenqi/Desktop/Wswork/fe_management/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('c71415e8', component.options)\n    } else {\n      api.reload('c71415e8', component.options)\n    }\n    module.hot.accept(\"./overview.vue?vue&type=template&id=c71415e8&scoped=true&\", function () {\n      api.rerender('c71415e8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/live-mager/promote/message/overview.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=c71415e8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=c71415e8&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./overview.vue?vue&type=style&index=1&id=c71415e8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./overview.vue?vue&type=style&index=1&id=c71415e8&lang=scss&scoped=true&\""],"sourceRoot":""}