{"version":3,"sources":["webpack:///./src/pages/live-mager/css/live.scss?4114","webpack:///./src/pages/live-mager/email/info.vue?a593","webpack:///./src/pages/live-mager/email/info.vue?f2a6","webpack:///src/pages/live-mager/email/info.vue","webpack:///./src/pages/live-mager/email/info.vue?6319","webpack:///./src/pages/live-mager/email/info.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_live_scss_vue_type_style_index_0_id_306415dd_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_info_vue_vue_type_style_index_1_id_306415dd_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","_s","email","title","senderName","selectedGroupList","length","selectedTagList","_l","item","name","count","sendCount","status","statusName","_e","sendTime","desc","domProps","innerHTML","content","on","click","editEmail","sendEmail","_withStripped","statusType","DRAFT","SEND","AWAIT","email_infovue_type_script_lang_js_","data","activityId","emailInviteId","planTime","groupList","tagList","computed","Object","vuex_esm","emailInfo","state","watch","handler","newVal","extends_default","immediate","created","reArrangeList","groupIds","split","tagIds","$route","params","id","query","queryTagList","then","queryGroupList","queryEmailInfo","$router","go","methods","storeEmailInfo","mutation_types","_this","$get","activity_service","GET_EMAIL_INFO","res","setTimeout","$post","POST_SEND_EMAIL_INFO","console","log","push","prePage","keyword","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","userManage_service","GET_GROUP_LIST","type","temArray","list","forEach","group_id","user_count","isChecked","stop","_this3","_callee2","_context2","notice_service","GET_PERSON_LIST","group","tag","_this4","idx","ele","i","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/18.4e8cdeb4.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=306415dd&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=306415dd&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=1&id=306415dd&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=1&id=306415dd&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"live-mager edit-step-box\" }, [\n    _vm._m(0),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"tip-box\" }, [\n      _vm._v(\"\\n    通过邮件邀约，定制邀约邮件，邀请特定客户群参加直播活动\\n  \")\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"mager-box border-box\" }, [\n      _c(\"div\", { staticClass: \"from-box\" }, [\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"邮件标题：\")]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"from-content\" }, [\n            _vm._v(_vm._s(_vm.email.title))\n          ])\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"发件人：\")]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"from-content\" }, [\n            _vm._v(_vm._s(_vm.email.senderName))\n          ])\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"收件人：\")]),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"from-content receiver\" },\n            [\n              _vm.selectedGroupList.length || _vm.selectedTagList.length\n                ? [\n                    _c(\n                      \"div\",\n                      _vm._l(_vm.selectedGroupList, function(item) {\n                        return _c(\"span\", [\n                          _vm._v(\n                            _vm._s(item.name) +\n                              \"（\" +\n                              _vm._s(item.count) +\n                              \"）、\"\n                          )\n                        ])\n                      })\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      [\n                        _vm._l(_vm.selectedTagList, function(item) {\n                          return _c(\"span\", [_vm._v(_vm._s(item.name) + \"、\")])\n                        }),\n                        _vm._v(\n                          \"（合计\" +\n                            _vm._s(_vm.email.sendCount) +\n                            \"人）\\n            \"\n                        )\n                      ],\n                      2\n                    )\n                  ]\n                : [_vm._v(\"\\n            暂未选择\\n          \")]\n            ],\n            2\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"发件状态：\")]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"from-content\" }, [\n            _vm.email.status == \"DRAFT\"\n              ? _c(\"span\", { staticClass: \"cg-status\" }, [\n                  _c(\"i\", { staticClass: \"iconfont icon-shijian\" }),\n                  _vm._v(_vm._s(_vm.email.statusName))\n                ])\n              : _vm._e(),\n            _vm._v(\" \"),\n            _vm.email.status == \"SEND\"\n              ? _c(\"span\", { staticClass: \"fs-status\" }, [\n                  _c(\"i\", { staticClass: \"iconfont icon-shijian\" }),\n                  _vm._v(_vm._s(_vm.email.statusName))\n                ])\n              : _vm._e(),\n            _vm._v(\" \"),\n            _vm.email.status == \"AWAIT\"\n              ? _c(\"span\", { staticClass: \"dd-status\" }, [\n                  _c(\"i\", { staticClass: \"iconfont icon-shijian\" }),\n                  _vm._v(_vm._s(_vm.email.statusName))\n                ])\n              : _vm._e()\n          ])\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"发件时间：\")]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"from-content\" }, [\n            _vm._v(_vm._s(_vm.email.sendTime))\n          ])\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"邮件摘要：\")]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"from-content\" }, [\n            _c(\"div\", [_vm._v(_vm._s(_vm.email.desc))])\n          ])\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _c(\"div\", {\n            staticClass: \"email-info-box\",\n            domProps: { innerHTML: _vm._s(_vm.email.content) }\n          })\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"step-btns\" }, [\n          _vm.email.status !== \"SEND\"\n            ? _c(\n                \"button\",\n                {\n                  staticClass: \"default-button margin-fl\",\n                  on: { click: _vm.editEmail }\n                },\n                [_vm._v(\"编辑邮件\")]\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.email.status == \"AWAIT\"\n            ? _c(\n                \"button\",\n                { staticClass: \"primary-button\", on: { click: _vm.sendEmail } },\n                [_vm._v(\"立即发送\")]\n              )\n            : _vm._e()\n        ])\n      ])\n    ])\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"live-title\" }, [\n      _c(\"span\", { staticClass: \"title\" }, [_vm._v(\"查看邮件\")])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"live-mager edit-step-box\">\r\n    <div class=\"live-title\">\r\n      <span class=\"title\">查看邮件</span>\r\n    </div>\r\n    <div class=\"tip-box\">\r\n      通过邮件邀约，定制邀约邮件，邀请特定客户群参加直播活动\r\n    </div>\r\n    <div class=\"mager-box border-box\">\r\n      <div class=\"from-box\">\r\n        <div class=\"from-row\">\r\n          <div class=\"from-title\">邮件标题：</div>\r\n          <div class=\"from-content\">{{email.title}}</div>\r\n        </div>\r\n        <div class=\"from-row\">\r\n          <div class=\"from-title\">发件人：</div>\r\n          <div class=\"from-content\">{{email.senderName}}</div>\r\n        </div>\r\n        <div class=\"from-row\">\r\n          <div class=\"from-title\">收件人：</div>\r\n          <div class=\"from-content receiver\" >\r\n            <template v-if=\"selectedGroupList.length || selectedTagList.length\">\r\n              <div >\r\n                <span v-for='item in selectedGroupList'>{{item.name}}（{{item.count}}）、</span>\r\n              </div>\r\n              <div>\r\n                <span v-for='item in selectedTagList'>{{item.name}}、</span>（合计{{email.sendCount}}人）\r\n              </div>\r\n            </template>\r\n            <template v-else>\r\n              暂未选择\r\n            </template>\r\n            <!-- <div style=\"border: solid 1px #e5e5e5;\">\r\n              <div>邮件1</div>\r\n              <div>邮件2</div>\r\n              <div>邮件3</div>\r\n              <div>邮件4</div>\r\n              <div>邮件5</div>\r\n              <div>邮件6</div>\r\n            </div> -->\r\n          </div>\r\n        </div>\r\n        <div class=\"from-row\">\r\n          <div class=\"from-title\">发件状态：</div>\r\n          <div class=\"from-content\">\r\n            <span v-if=\"email.status=='DRAFT'\"\r\n                  class=\"cg-status\"><i class=\"iconfont icon-shijian\"></i>{{email.statusName}}</span>\r\n            <span v-if=\"email.status=='SEND'\"\r\n                  class=\"fs-status\"><i class=\"iconfont icon-shijian\"></i>{{email.statusName}}</span>\r\n            <span v-if=\"email.status=='AWAIT'\"\r\n                  class=\"dd-status\"><i class=\"iconfont icon-shijian\"></i>{{email.statusName}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"from-row\">\r\n          <div class=\"from-title\">发件时间：</div>\r\n          <div class=\"from-content\">{{email.sendTime}}</div>\r\n        </div>\r\n        <div class=\"from-row\">\r\n          <div class=\"from-title\">邮件摘要：</div>\r\n          <div class=\"from-content\">\r\n            <div>{{email.desc}}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"from-row\">\r\n          <!--<div class=\"from-title\">邮件内容：</div>-->\r\n          <!--<div class=\"from-content\">-->\r\n          <div class=\"email-info-box\"\r\n               v-html=\"email.content\"></div>\r\n          <!--</div>-->\r\n        </div>\r\n        <div class=\"step-btns\">\r\n          <!--<button class=\"primary-button fr\" @click=\"prePage\">返回上级</button>-->\r\n          <button v-if=\"email.status!=='SEND'\"\r\n                  class=\"default-button margin-fl\"\r\n                  @click=\"editEmail\">编辑邮件</button>\r\n          <button v-if=\"email.status=='AWAIT'\"\r\n                  class=\"primary-button\"\r\n                  @click=\"sendEmail\">立即发送</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport userManage from 'src/api/userManage-service'\r\nimport noticeService from 'src/api/notice-service'\r\nimport activityService from 'src/api/activity-service'\r\nimport { mapState, mapMutations } from 'vuex'\r\nimport * as types from '../../../store/mutation-types'\r\n\r\nconst statusType = {\r\n  DRAFT: '草稿',\r\n  SEND: '已发送',\r\n  AWAIT: '等待发送'\r\n}\r\nexport default {\r\n  name: 'info',\r\n  data () {\r\n    return {\r\n      email: {\r\n        activityId: 0,\r\n        emailInviteId: 0,\r\n        title: '',\r\n        content: '',\r\n        desc: '',\r\n        planTime: '',\r\n        sendTime: '',\r\n        senderName: '',\r\n        sendCount: 0,\r\n        status: '',\r\n        statusName: ''\r\n      },\r\n      selectedGroupList: [],\r\n      selectedTagList: [],\r\n      groupList: [],\r\n      tagList: []\r\n    }\r\n  },\r\n  computed: mapState('liveMager', {\r\n    emailInfo: state => state.emailInfo\r\n  }),\r\n  watch: {\r\n    emailInfo: {\r\n      handler (newVal) {\r\n        this.email = { ...newVal }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  created () {\r\n    // 如果vuex可以取到值就return\r\n    if (this.email.emailInviteId) {\r\n      this.groupList = this.emailInfo.groupList ? this.emailInfo.groupList : []\r\n      this.tagList = this.emailInfo.tagList ? this.emailInfo.tagList : []\r\n      this.reArrangeList(this.emailInfo.groupIds.split(','), this.emailInfo.tagIds.split(','))\r\n      return false\r\n    }\r\n    // 如果vuex不能取到值就查询接口\r\n    const queryId = this.$route.params.id\r\n    if (!queryId) {\r\n      this.$router.go(-1)\r\n      return\r\n    }\r\n    this.email.emailInviteId = this.$route.query.email\r\n    this.queryTagList().then(this.queryGroupList()).then(this.queryEmailInfo())\r\n  },\r\n  methods: {\r\n    ...mapMutations('liveMager', {\r\n      storeEmailInfo: types.EMAIL_INFO\r\n    }),\r\n    queryEmailInfo () {\r\n      // 如果不是编辑页面就return\r\n      if (!this.email.emailInviteId) return\r\n      this.$get(activityService.GET_EMAIL_INFO, {\r\n        emailInviteId: this.email.emailInviteId\r\n      }).then((res) => {\r\n        res.data.statusName = statusType[res.data.status]\r\n        this.email = res.data\r\n        setTimeout(() => {\r\n          this.reArrangeList(res.data.groupIds.split(','), res.data.tagIds.split(','))\r\n        }, 500)\r\n        this.storeEmailInfo(this.email)\r\n      })\r\n    },\r\n    sendEmail () {\r\n      this.$post(activityService.POST_SEND_EMAIL_INFO, {\r\n        emailInviteId: this.email.emailInviteId\r\n      }).then((res) => {\r\n        console.log('邮件发送成功')\r\n        console.log(res)\r\n      })\r\n    },\r\n    editEmail () {\r\n      this.$router.push(`/liveMager/emailEditOne/${this.email.activityId}?email=${this.email.emailInviteId}`)\r\n    },\r\n    prePage () {\r\n      this.$router.go(-1)\r\n    },\r\n    // 查询群组\r\n    async queryGroupList (keyword) {\r\n      await this.$get(userManage.GET_GROUP_LIST, {\r\n        type: '2'\r\n      }).then((res) => {\r\n        let temArray = []\r\n        res.data.list.forEach((item) => {\r\n          temArray.push({\r\n            id: item.group_id,\r\n            name: item.title,\r\n            count: item.user_count,\r\n            isChecked: false\r\n          })\r\n        })\r\n        this.groupList = temArray\r\n      })\r\n    },\r\n    /* 查询标签 */\r\n    async queryTagList () {\r\n      await this.$get(noticeService.GET_PERSON_LIST, {\r\n        activityId: this.$route.params.id\r\n      }).then((res) => {\r\n        let temArray = []\r\n        res.data.forEach((item) => {\r\n          temArray.push({\r\n            id: item.id,\r\n            name: item.name,\r\n            isChecked: false\r\n          })\r\n        })\r\n        this.tagList = temArray\r\n      })\r\n    },\r\n    reArrangeList (group, tag) {\r\n      this.groupList.forEach((item, idx) => {\r\n        group.forEach((ele, i) => {\r\n          if (ele * 1 === item.id) {\r\n            // this.groupList[idx].isChecked = true\r\n            this.selectedGroupList.push({\r\n              count: 0,\r\n              id: item.id,\r\n              isChecked: true,\r\n              name: item.name\r\n            })\r\n          }\r\n        })\r\n      })\r\n      this.tagList.forEach((item, idx) => {\r\n        tag.forEach((ele, i) => {\r\n          if (ele * 1 === item.id) {\r\n            // this.tagList[idx].isChecked = true\r\n            this.selectedTagList.push({\r\n              count: 0,\r\n              id: item.id,\r\n              isChecked: true,\r\n              name: item.name\r\n            })\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped src=\"../css/live.scss\">\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n.edit-step-box {\r\n  .live-mager .mager-box {\r\n    margin-top: 0;\r\n  }\r\n  .step-btns {\r\n    margin-top: 20px;\r\n    text-align: center;\r\n    .margin-fl {\r\n      margin: 0 10px;\r\n    }\r\n  }\r\n  .tip-box {\r\n    margin-bottom: 20px;\r\n  }\r\n  .cg-status {\r\n    color: #1bcab7;\r\n    i {\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n  .fs-status {\r\n    color: #4b5afe;\r\n    i {\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n  .dd-status {\r\n    color: #ff8b0e;\r\n    i {\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n  .email-info-box {\r\n    position: relative;\r\n    width: 750px;\r\n    margin: 20px auto;\r\n    border: solid 1px #e2e2e2;\r\n    border-radius: 4px;\r\n    padding: 20px;\r\n    overflow: hidden;\r\n    &:before {\r\n      display: block;\r\n      content: '';\r\n      position: absolute;\r\n      height: 74px;\r\n      width: 74px;\r\n      top: -37px;\r\n      left: -37px;\r\n      transform: rotate(45deg);\r\n      background-color: #ffd021;\r\n    }\r\n    &:after {\r\n      display: block;\r\n      content: '预览';\r\n      position: absolute;\r\n      height: 20px;\r\n      width: 30px;\r\n      top: 8px;\r\n      left: 3px;\r\n      transform: rotate(-45deg);\r\n      background-color: #ffd021;\r\n    }\r\n  }\r\n  .receiver div span {\r\n    display: inline-block;\r\n    padding: 0 0 10px 0;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=306415dd&scoped=true&\"\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"../css/live.scss?vue&type=style&index=0&id=306415dd&lang=scss&scoped=true&\"\nimport style1 from \"./info.vue?vue&type=style&index=1&id=306415dd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"306415dd\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\vHall\\\\fe_management\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('306415dd', component.options)\n    } else {\n      api.reload('306415dd', component.options)\n    }\n    module.hot.accept(\"./info.vue?vue&type=template&id=306415dd&scoped=true&\", function () {\n      api.rerender('306415dd', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/live-mager/email/info.vue\"\nexport default component.exports"],"sourceRoot":""}