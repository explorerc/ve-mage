{"version":3,"sources":["webpack:///./src/pages/live-mager/edit.vue?923f","webpack:///./src/pages/live-mager/edit.vue?ce80","webpack:///src/pages/live-mager/edit.vue","webpack:///./src/pages/live-mager/edit.vue","webpack:///./src/pages/live-mager/edit.vue?f5c5"],"names":["render","_vm","this","_h","$createElement","_c","_self","createdSuccess","_e","staticClass","on","click","$event","clooseTagClose","keydown","canPaas","activityId","_v","class","attrs","url","_m","error","titleEmpty","value","title","placeholder","max-length","update:value","focus","dateEmpty","type","clearable","editable","picker-options","pickerOptions","format","value-format","popper-class","default-value","defaultValue","dateFocus","change","model","date","callback","$$v","expression","accept","defaultImg","fileSize","errorMsg","uploadImgErrorMsg","uploadError","success","uploadImgSuccess","tagArray","length","_l","item","idx","key","_s","name","handleDel","stopPropagation","addShowClooseTag","round","showClooseTag","directives","rawName","showChooseTag","size","max","selectTag","tagGroup","industryTag","tag","id","label","sceneTag","tagEmpty","outRange","staticStyle","position","height","editorContent","ref","countCount","validStatus","comfirm","successTxt","toDetail","toList","_withStripped","live_mager_editvue_type_script_lang_js_","data","isNew","saveStatus","status","tagList","poster","percentImg","maxLength","$route","params","imgHost","disabledDate","time","getTime","Date","now","Object","created","bread","queryInfo","queryTags","eventBus","$emit","mounted","watch","newValue","oldValue","_this","$nextTick","document","querySelector","innerText","gbLength","$refs","count","style","color","methods","console","log","msg","uploadOver","e","_this2","$get","activity_service","GET_WEBINAR_INFO","then","res","startTime","imgUrl","description","tags","restoreTag","keyword","_this3","GET_TAG_LIST","tagKeyword","industry","forEach","push","scene","arr","_this4","_this5","tmpArr","ele","i","_this6","updateWebinfo","_this7","$config","handlers","$post","POST_CREATE_WEBINAR","finishId","catch","code","$messageBox","header","content","autoClose","confirmText","POST_UPDATE_WEBINAR","$router","path","handleClick","action","searchHandler","splice","back","window","history","go","resetData","_this8","_this9","beforeRouteLeave","to","from","next","_this10","width","cancelText","computed","$imgHost","components","VeEditer","ve_html5_editer","VeUpload","ve_upload_image","comChoose","com_choose","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_0_id_a23341b4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n"],"mappings":"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","file":"static/js/20.9fad7e3f.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      !_vm.createdSuccess\n        ? _c(\n            \"div\",\n            {\n              staticClass: \"edit-page live-mager\",\n              on: {\n                click: function($event) {\n                  _vm.clooseTagClose($event)\n                },\n                keydown: function($event) {\n                  _vm.canPaas = false\n                }\n              }\n            },\n            [\n              _c(\n                \"div\",\n                { staticClass: \"edit-title\" },\n                [\n                  _vm.activityId\n                    ? _c(\"span\", { staticClass: \"title\" }, [_vm._v(\"编辑活动\")])\n                    : _c(\"span\", { staticClass: \"title\" }, [\n                        _vm._v(\"新建活动\")\n                      ]),\n                  _vm._v(\" \"),\n                  _vm.activityId\n                    ? _c(\"com-back\", {\n                        class: \"back-btn\",\n                        attrs: { url: \"/liveMager/detail/\" + _vm.activityId }\n                      })\n                    : _c(\"com-back\", {\n                        class: \"back-btn\",\n                        attrs: { url: \"/liveMager/list\" }\n                      })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm._m(0),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"content from-box\" }, [\n                _c(\"div\", { staticClass: \"from-row\" }, [\n                  _vm._m(1),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticClass: \"from-content\" },\n                    [\n                      _c(\"com-input\", {\n                        staticClass: \"inp\",\n                        class: { error: _vm.titleEmpty },\n                        attrs: {\n                          value: _vm.title,\n                          placeholder: \"请输入直播标题\",\n                          \"max-length\": 30\n                        },\n                        on: {\n                          \"update:value\": function($event) {\n                            _vm.title = $event\n                          },\n                          focus: function($event) {\n                            _vm.titleEmpty = false\n                          }\n                        }\n                      }),\n                      _vm._v(\" \"),\n                      _vm.titleEmpty\n                        ? _c(\n                            \"span\",\n                            { staticClass: \"error-tips error-position\" },\n                            [_vm._v(\"请填写直播标题\")]\n                          )\n                        : _vm._e()\n                    ],\n                    1\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"from-row\" }, [\n                  _vm._m(2),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"from-content\",\n                      class: { error: _vm.dateEmpty }\n                    },\n                    [\n                      _c(\"el-date-picker\", {\n                        attrs: {\n                          type: \"datetime\",\n                          clearable: false,\n                          placeholder: \"选择日期时间\",\n                          editable: false,\n                          \"picker-options\": _vm.pickerOptions,\n                          format: \"yyyy-MM-dd HH:mm\",\n                          \"value-format\": \"yyyy-MM-dd HH:mm\",\n                          \"popper-class\": \"datePicker\",\n                          \"default-value\": _vm.defaultValue\n                        },\n                        on: {\n                          focus: function($event) {\n                            _vm.dateFocus()\n                          },\n                          change: function($event) {\n                            _vm.canPaas = false\n                          }\n                        },\n                        model: {\n                          value: _vm.date,\n                          callback: function($$v) {\n                            _vm.date = $$v\n                          },\n                          expression: \"date\"\n                        }\n                      }),\n                      _vm._v(\" \"),\n                      _vm.dateEmpty\n                        ? _c(\n                            \"span\",\n                            { staticClass: \"error-tips error-position\" },\n                            [_vm._v(\"请选择直播时间\")]\n                          )\n                        : _vm._e()\n                    ],\n                    1\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"from-row\" }, [\n                  _vm._m(3),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticClass: \"from-content\" },\n                    [\n                      _c(\"ve-upload\", {\n                        attrs: {\n                          title:\n                            \"图片支持jpg、png、bmp格式，大小不超过2M<br>尺寸不超过1600*900\",\n                          accept: \"png|jpg|jpeg|bmp\",\n                          defaultImg: _vm.defaultImg,\n                          fileSize: 2048,\n                          errorMsg: _vm.uploadImgErrorMsg\n                        },\n                        on: {\n                          error: _vm.uploadError,\n                          success: _vm.uploadImgSuccess\n                        }\n                      })\n                    ],\n                    1\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"from-row\" }, [\n                  _vm._m(4),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticClass: \"from-content\" },\n                    [\n                      !_vm.tagArray.length\n                        ? _c(\n                            \"el-button\",\n                            {\n                              staticClass: \"choose-tag\",\n                              attrs: { round: \"\" },\n                              on: { click: _vm.showClooseTag }\n                            },\n                            [_vm._v(\"选择标签\")]\n                          )\n                        : _c(\n                            \"ol\",\n                            { staticClass: \"tag-list clearfix\" },\n                            [\n                              _vm._l(_vm.tagArray, function(item, idx) {\n                                return _c(\n                                  \"li\",\n                                  { key: idx, staticClass: \"tag\" },\n                                  [\n                                    _vm._v(_vm._s(item.name) + \" \"),\n                                    _c(\"span\", {\n                                      on: {\n                                        click: function($event) {\n                                          _vm.handleDel(idx, \"tagArray\")\n                                        }\n                                      }\n                                    })\n                                  ]\n                                )\n                              }),\n                              _vm._v(\" \"),\n                              _vm.tagArray.length < 3\n                                ? _c(\n                                    \"li\",\n                                    {\n                                      staticClass: \"add-tag\",\n                                      on: {\n                                        click: function($event) {\n                                          $event.stopPropagation()\n                                          return _vm.addShowClooseTag($event)\n                                        }\n                                      }\n                                    },\n                                    [_c(\"span\")]\n                                  )\n                                : _vm._e()\n                            ],\n                            2\n                          ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"div\",\n                        {\n                          directives: [\n                            {\n                              name: \"show\",\n                              rawName: \"v-show\",\n                              value: _vm.showChooseTag,\n                              expression: \"showChooseTag\"\n                            }\n                          ],\n                          staticClass: \"tag-modal\",\n                          on: {\n                            click: function($event) {\n                              $event.stopPropagation()\n                            }\n                          }\n                        },\n                        [\n                          _c(\"div\", { staticClass: \"title\" }, [\n                            _vm._v(\"选择标签，最多可选择 3 个\")\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"i\", {\n                            staticClass:\n                              \"el-submenu__icon-arrow el-icon-arrow-down arrow\",\n                            on: {\n                              click: function($event) {\n                                _vm.showChooseTag = false\n                              }\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\n                            \"el-checkbox-group\",\n                            {\n                              attrs: { size: \"mini\", max: 3 },\n                              on: { change: _vm.selectTag },\n                              model: {\n                                value: _vm.tagGroup,\n                                callback: function($$v) {\n                                  _vm.tagGroup = $$v\n                                },\n                                expression: \"tagGroup\"\n                              }\n                            },\n                            [\n                              _c(\"div\", { staticClass: \"group-title\" }, [\n                                _vm._v(\"行业标签\")\n                              ]),\n                              _vm._v(\" \"),\n                              _vm._l(_vm.industryTag, function(tag) {\n                                return _c(\n                                  \"el-checkbox-button\",\n                                  { key: tag.id, attrs: { label: tag.id } },\n                                  [_vm._v(_vm._s(tag.name))]\n                                )\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"div\", { staticClass: \"group-title\" }, [\n                                _vm._v(\"场景标签\")\n                              ]),\n                              _vm._v(\" \"),\n                              _vm._l(_vm.sceneTag, function(tag) {\n                                return _c(\n                                  \"el-checkbox-button\",\n                                  { key: tag.id, attrs: { label: tag.id } },\n                                  [_vm._v(_vm._s(tag.name))]\n                                )\n                              })\n                            ],\n                            2\n                          )\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _vm.tagEmpty\n                        ? _c(\"span\", { staticClass: \"error-tips\" }, [\n                            _vm._v(\"请添加直播标签\")\n                          ])\n                        : _vm._e()\n                    ],\n                    1\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"from-row\" }, [\n                  _c(\"div\", { staticClass: \"from-title\" }, [\n                    _vm._v(\"直播介绍：\")\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"from-content editor-content\",\n                      class: { error: _vm.outRange },\n                      staticStyle: { position: \"relative\" }\n                    },\n                    [\n                      _c(\"ve-editer\", {\n                        attrs: { height: \"280\" },\n                        model: {\n                          value: _vm.editorContent,\n                          callback: function($$v) {\n                            _vm.editorContent = $$v\n                          },\n                          expression: \"editorContent\"\n                        }\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"span\", { staticClass: \"content-count\" }, [\n                        _c(\"i\", { ref: \"count\", staticClass: \"count\" }, [\n                          _vm._v(_vm._s(_vm.countCount))\n                        ]),\n                        _vm._v(\"/1000\")\n                      ]),\n                      _vm._v(\" \"),\n                      _vm.outRange\n                        ? _c(\"span\", { staticClass: \"error-tips\" }, [\n                            _vm._v(\"直播简介不能超过1000个字符\")\n                          ])\n                        : _vm._e()\n                    ],\n                    1\n                  )\n                ]),\n                _vm._v(\" \"),\n                _vm.validStatus === \"Y\" || !_vm.activityId\n                  ? _c(\"div\", { staticClass: \"from-row\" }, [\n                      _c(\"div\", { staticClass: \"from-title\" }),\n                      _vm._v(\" \"),\n                      _c(\"div\", { staticClass: \"from-content\" }, [\n                        _c(\n                          \"button\",\n                          {\n                            staticClass: \"create-btn\",\n                            on: { click: _vm.comfirm }\n                          },\n                          [\n                            _vm.activityId ? [_vm._v(\"保存\")] : [_vm._v(\"创建\")]\n                          ],\n                          2\n                        )\n                      ])\n                    ])\n                  : _vm._e()\n              ])\n            ]\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"transition\", { attrs: { name: \"fade\" } }, [\n        _vm.createdSuccess\n          ? _c(\"div\", { staticClass: \"finish-box\" }, [\n              _c(\"dl\", [\n                _c(\"dt\"),\n                _vm._v(\" \"),\n                _c(\"dd\", [\n                  _vm._v(\"直播已\" + _vm._s(_vm.successTxt) + \"，您可以\")\n                ]),\n                _vm._v(\" \"),\n                _c(\"dd\", [\n                  _c(\n                    \"span\",\n                    {\n                      staticClass: \"finish-button detail\",\n                      on: { click: _vm.toDetail }\n                    },\n                    [_vm._v(\"更多活动设置\")]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"span\",\n                    {\n                      staticClass: \"finish-button list\",\n                      on: { click: _vm.toList }\n                    },\n                    [_vm._v(\"返回活动列表\")]\n                  )\n                ])\n              ])\n            ])\n          : _vm._e()\n      ])\n    ],\n    1\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"tips\" }, [\n      _c(\"i\"),\n      _vm._v(\n        \"注意：活动在开始直播的48小时之内可重复发起，48小时之后将无法再次发起直播\\n    \"\n      )\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"直播标题：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"直播时间：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }),\n      _vm._v(\"直播封面：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"直播标签：\")\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","<!--新建/编辑活动-->\n<template>\n  <div>\n    <div class='edit-page live-mager' v-if='!createdSuccess' @click=\"clooseTagClose($event)\"  @keydown=\"canPaas = false\">\n      <div class=\"edit-title\">\n        <span class=\"title\" v-if=\"activityId\">编辑活动</span>\n        <span class=\"title\" v-else>新建活动</span>\n        <com-back :url=\"`/liveMager/detail/${activityId}`\" v-if=\"activityId\" :class=\"'back-btn'\"></com-back>\n        <com-back :url=\"`/liveMager/list`\" v-else :class=\"'back-btn'\"></com-back>\n      </div>\n      <div class=\"tips\">\n        <i></i>注意：活动在开始直播的48小时之内可重复发起，48小时之后将无法再次发起直播\n      </div>\n      <div class=\"content from-box\">\n        <div class=\"from-row\">\n          <div class=\"from-title\"><i class=\"star\">*</i>直播标题：</div>\n          <div class=\"from-content\">\n            <com-input :value.sync=\"title\" placeholder=\"请输入直播标题\" :max-length=\"30\" class='inp' :class=\"{ 'error':titleEmpty }\" @focus='titleEmpty = false'></com-input>\n            <span class=\"error-tips error-position\" v-if='titleEmpty'>请填写直播标题</span>\n          </div>\n        </div>\n        <div class=\"from-row\" >\n          <div class=\"from-title\"><i class=\"star\">*</i>直播时间：</div>\n          <div class=\"from-content\" :class=\"{ 'error':dateEmpty }\">\n            <el-date-picker @focus='dateFocus()' v-model=\"date\"  @change=\"canPaas=false\" type=\"datetime\" :clearable='false' placeholder=\"选择日期时间\" :editable=\"false\" :picker-options=\"pickerOptions\" format='yyyy-MM-dd HH:mm' value-format=\"yyyy-MM-dd HH:mm\" :popper-class=\"'datePicker'\" :default-value=\"defaultValue\" >\n            </el-date-picker>\n            <!--<span class='tips-time'>注意：活动在开始直播的48小时之内可重复发起，48小时之后将无法再次发起直播</span>-->\n            <span class=\"error-tips error-position\" v-if='dateEmpty'>请选择直播时间</span>\n          </div>\n        </div>\n        <div class=\"from-row\">\n          <div class=\"from-title\"><i class=\"star\"></i>直播封面：</div>\n          <div class=\"from-content\">\n            <ve-upload title=\"图片支持jpg、png、bmp格式，大小不超过2M<br>尺寸不超过1600*900\" accept=\"png|jpg|jpeg|bmp\" :defaultImg=\"defaultImg\" :fileSize=\"2048\" :errorMsg=\"uploadImgErrorMsg\" @error=\"uploadError\" @success=\"uploadImgSuccess\"></ve-upload>\n          </div>\n        </div>\n        <div class=\"from-row\">\n          <div class=\"from-title\"><i class=\"star\">*</i>直播标签：</div>\n          <div class=\"from-content\" >\n            <el-button  round v-if='!tagArray.length' @click='showClooseTag' class='choose-tag'>选择标签</el-button>\n            <ol class='tag-list clearfix' v-else>\n              <li v-for=\"(item,idx) in tagArray\" :key=\"idx\" class=\"tag\">{{item.name}} <span @click=\"handleDel(idx,'tagArray')\"></span></li>\n            <li v-if=\"tagArray.length<3\" class=\"add-tag\"  @click.stop='addShowClooseTag'><span></span></li>\n            </ol>\n            <!-- <el-button @click='showChooseTag=true,tagEmpty = false' round class=\"add-tag\">+</el-button> -->\n            <div class=\"tag-modal\" v-show='showChooseTag' @click.stop=\"\">\n              <div class='title'>选择标签，最多可选择 3 个</div>\n              <i class='el-submenu__icon-arrow el-icon-arrow-down arrow' @click=\"showChooseTag = false\"></i>\n              <el-checkbox-group v-model=\"tagGroup\" size=\"mini\" :max='3' @change='selectTag'>\n                <div class='group-title'>行业标签</div>\n                <el-checkbox-button v-for=\"tag in industryTag\" :label=\"tag.id\" :key=\"tag.id\">{{tag.name}}</el-checkbox-button>\n                <div class='group-title'>场景标签</div>\n                <el-checkbox-button v-for=\"tag in sceneTag\" :label=\"tag.id\" :key=\"tag.id\">{{tag.name}}</el-checkbox-button>\n              </el-checkbox-group>\n            </div>\n            <!-- <transition name='fade' mode='out-in' v-if=\"showChooseTag\">\n              <com-choose  @handleClick=\"handleClick\" @selectComConfirm='selectTagConfirm' :list=\"tagList\" :checkedData='tagArray'  :max='3' @searchHandler='searchHandler' :name=\"'标签'\"></com-choose>\n            </transition> -->\n            <span class=\"error-tips\" v-if='tagEmpty'>请添加直播标签</span>\n          </div>\n        </div>\n        <div class=\"from-row\">\n          <div class=\"from-title\">直播介绍：</div>\n          <div class=\"from-content editor-content\" style='position:relative;' :class=\"{ 'error':outRange}\">\n            <ve-editer height=\"280\" v-model=\"editorContent\" ></ve-editer>\n            <span class='content-count'><i class='count' ref=\"count\">{{countCount}}</i>/1000</span>\n            <span class=\"error-tips\" v-if=\"outRange\">直播简介不能超过1000个字符</span>\n          </div>\n        </div>\n        <div class=\"from-row\" v-if=\"validStatus === 'Y' || !activityId\">\n          <div class=\"from-title\"></div>\n          <div class=\"from-content\">\n            <!--<button @click='comfirm' class='create-btn' :disabled=\"outRange || saveStatus\">-->\n            <button @click='comfirm' class='create-btn'>\n              <template v-if=\"activityId\">保存</template>\n              <template v-else>创建</template>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <transition name='fade'>\n      <div class=\"finish-box\" v-if='createdSuccess'>\n          <dl>\n            <dt></dt>\n            <dd>直播已{{successTxt}}，您可以</dd>\n            <dd>\n              <span class='finish-button detail'  @click='toDetail'>更多活动设置</span>\n              <span class='finish-button list' @click='toList'>返回活动列表</span>\n            </dd>\n          </dl>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport { formatDate } from 'src/assets/js/date'\nimport VeUpload from 'src/components/ve-upload-image'\nimport VeEditer from 'src/components/ve-html5-editer'\n// import http from 'src/api/activity-manger'\nimport activityService from 'src/api/activity-service'\nimport comChoose from 'src/pages/users-manage/components/com-choose'\nimport EventBus from 'src/utils/eventBus'\nexport default {\n  name: 'edit',\n  data () {\n    return {\n      showChooseTag: false,\n      isNew: true, // 是否是新建活动\n      date: '',\n      title: '',\n      editorContent: '',\n      outRange: false,\n      saveStatus: false,\n      titleEmpty: false,\n      tagEmpty: false,\n      dateEmpty: false,\n      status: '',\n      countCount: 0,\n      tagList: [],\n      industryTag: [],\n      sceneTag: [],\n      tagGroup: [],\n      poster: '',\n      tagArray: [],\n      uploadImgErrorMsg: '', // 上传图片错误提示\n      percentImg: 0, // 图片上传进度\n      createdSuccess: false,\n      maxLength: 1000,\n      activityId: this.$route.params.id,\n      imgHost: process.env.IMGHOST + '/',\n      // imgHost: 'http://dev-zhike.oss-cn-beijing.aliyuncs.com/',\n      pickerOptions: {\n        disabledDate (time) {\n          return time.getTime() < Date.now() - 8.64e7\n        }\n      },\n      successTxt: '',\n      canPaas: true,\n      validStatus: '',\n      defaultValue: formatDate(new Date(new Date().getTime() + 1800000), 'yyyy-MM-dd hh:mm')\n    }\n  },\n  created () {\n    let bread = []\n    if (this.activityId) { // 编辑页面请求接口返回活动信息\n      this.isNew = false\n      this.queryInfo()\n      bread = [{\n        title: '活动管理'\n      }, {\n        title: '活动列表',\n        url: '/liveMager/list'\n      }, {\n        title: '活动详情',\n        url: `/liveMager/detail/${this.activityId}`\n      }, {\n        title: '编辑活动'\n      }\n      ]\n    } else {\n      bread = [{\n        title: '活动管理'\n      }, {\n        title: '新建活动'\n      }\n      ]\n    }\n    this.queryTags()\n    EventBus.$emit('breads', bread)\n  },\n  mounted () {\n    // this.tagList = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15] // 标签来源于客户管理中的内容标签模块\n  },\n  watch: {\n    editorContent (newValue, oldValue) {\n      this.$nextTick(() => {\n        this.countCount = document.querySelector('.vue-html5-editor .content').innerText.gbLength()\n        if (this.countCount > this.maxLength) {\n          this.outRange = true\n          // this.editorContent = newValue.substring(0, newValue.gbIndex(this.maxLength) + 1)\n          // document.getElementsByClassName('content')[1].selectStart = 5\n        } else {\n          this.outRange = false\n        }\n      })\n    },\n    countCount (newValue, oldValue) {\n      if (this.countCount !== 0) {\n        this.$refs.count.style.color = '#4b5afe'\n      } else {\n        this.$refs.count.style.color = '#999'\n      }\n    }\n  },\n  methods: {\n    uploadImgSuccess (data) {\n      this.poster = data.name\n      this.canPaas = false\n    },\n    uploadError (data) {\n      console.log('上传失败:', data)\n      this.uploadImgErrorMsg = data.msg\n    },\n    uploadOver (e) {\n      console.log(e)\n    },\n    queryInfo () {\n      this.$get(activityService.GET_WEBINAR_INFO, {\n        id: this.activityId\n      }).then((res) => {\n        this.date = res.data.startTime\n        this.title = res.data.title\n        this.poster = res.data.imgUrl\n        this.editorContent = res.data.description\n        this.tagArray = res.data.tags\n        this.status = res.data.status\n        this.validStatus = res.data.validStatus\n        this.restoreTag(this.tagArray)\n      })\n    },\n    queryTags (keyword) {\n      this.$get(activityService.GET_TAG_LIST, {\n        keyword: this.tagKeyword\n      }).then((res) => {\n        console.log(res.data)\n        res.data.industry.forEach(item => {\n          this.industryTag.push({\n            name: item.name,\n            id: item.id\n          })\n        })\n        res.data.scene.forEach(item => {\n          this.sceneTag.push({\n            name: item.name,\n            id: item.id\n          })\n        })\n      })\n    },\n    restoreTag (arr) {\n      arr.forEach((item) => {\n        this.tagGroup.push(item.id)\n      })\n    },\n    selectTag (res) {\n      let tmpArr = []\n      res.forEach((item, idx) => {\n        this.industryTag.forEach((ele, i) => {\n          if (item === ele.id) {\n            tmpArr.push({\n              id: ele.id,\n              name: ele.name\n            })\n          }\n        })\n        this.sceneTag.forEach((ele, i) => {\n          if (item === ele.id) {\n            tmpArr.push({\n              id: item,\n              name: ele.name\n            })\n          }\n        })\n      })\n      this.tagArray = tmpArr\n    },\n    comfirm () {\n      this.saveStatus = true\n      // 提交数据\n      let data = {\n        id: this.activityId,\n        startTime: this.date,\n        title: this.title,\n        imgUrl: this.poster,\n        description: this.editorContent,\n        tags: this.tagGroup\n      }\n      // console.log(data)\n      this.title.length ? this.titleEmpty = false : this.titleEmpty = true\n      this.tagArray.length ? this.tagEmpty = false : this.tagEmpty = true\n      this.tagGroup.length ? this.tagEmpty = false : this.tagEmpty = true\n      this.date.length ? this.dateEmpty = false : this.dateEmpty = true\n      this.$nextTick(() => {\n        if (this.title.length && (this.tagArray.length || this.tagGroup.length) && this.date.length) {\n          this.updateWebinfo(this.isNew, data)\n        } else {\n          this.saveStatus = false\n        }\n      })\n    },\n    updateWebinfo (isNew, data) { // 新建 创建活动\n      if (isNew) {\n        this.$config({ 'handlers': [2001] }).$post(activityService.POST_CREATE_WEBINAR, data).then((res) => {\n          this.createdSuccess = true\n          this.canPaas = true\n          this.successTxt = '创建成功'\n          res.data.id ? this.finishId = res.data.id : this.finishId = this.activityId\n          this.saveStatus = false\n        }).catch(res => {\n          if (res.code === 2001) {\n            this.$messageBox({\n              header: '提示',\n              content: '直播时间已过期，请重新选择!',\n              autoClose: 10,\n              confirmText: '知道了'\n            })\n          }\n          this.saveStatus = false\n        })\n      } else {\n        this.$config({ 'handlers': [2001] }).$post(activityService.POST_UPDATE_WEBINAR, data).then((res) => {\n          this.createdSuccess = true\n          this.canPaas = true\n          this.successTxt = '更新成功'\n          res.data.id ? this.finishId = res.data.id : this.finishId = this.activityId\n          this.saveStatus = false\n        }).catch(res => {\n          if (res.code === 2001) {\n            this.$messageBox({\n              header: '提示',\n              content: '直播时间已过期，请重新选择!',\n              autoClose: 10,\n              confirmText: '知道了'\n            })\n          }\n          this.saveStatus = false\n        })\n      }\n    },\n    toDetail () {\n      this.canPaas = true\n      this.$router.push({\n        path: `/liveMager/detail/${this.finishId}`\n      })\n    },\n    toList () {\n      this.canPaas = true\n      this.$router.push({\n        path: '/liveMager/list'\n      })\n    },\n    /* 点击取消 */\n    handleClick (e) {\n      if (e.action === 'cancel') {\n        this.showChooseTag = false\n      }\n    },\n    // selectTagConfirm (res) {\n    //   console.log(res)\n    //   this.tagArray.name = res.name\n    //   this.tagArray.id = res.id\n    // // this.filterCondition.tags = res.id.toString()\n    // },\n\n    searchHandler (res) {\n      console.log(res)\n      this.tagKeyword = res\n      this.queryTags()\n    },\n    handleDel (idx, type) {\n      this.tagArray.splice(idx, 1)\n      this.tagGroup.splice(idx, 1)\n    },\n    back () {\n      window.history.go(-1)\n    },\n    resetData () {\n      this.isNew = true\n      this.dateEmpty = false\n      this.outRange = false\n      this.showChooseTag = false\n      this.tagEmpty = false\n      this.activityId = ''\n      this.date = ''\n      this.successTxt = ''\n      this.titleEmpty = ''\n      this.uploadImgErrorMsg = ''\n      this.title = ''\n      this.editorContent = ''\n      this.poster = ''\n      this.tagArray = []\n      this.tagGroup = []\n      this.activityId = ''\n    },\n    clooseTagClose (e) {\n      this.showChooseTag = false\n    },\n    showClooseTag () {\n      this.$nextTick(() => {\n        this.showChooseTag = true\n        this.tagEmpty = false\n      })\n    },\n    addShowClooseTag () {\n      debugger\n      this.canPaas = false\n      this.showChooseTag = !this.showChooseTag\n      this.$nextTick(() => {\n        this.tagEmpty = false\n      })\n    },\n    dateFocus () {\n      this.dateEmpty = false\n      this.date = new Date(this.defaultValue).format('yyyy-MM-dd hh:mm')\n    }\n  },\n  /* 路由守卫，离开当前页面之前被调用 */\n  beforeRouteLeave (to, from, next) {\n    if (this.canPaas) {\n      next(true)\n      if (!this.isNew) {\n        this.resetData()\n      }\n      return false\n    }\n    this.$messageBox({\n      header: '提示',\n      width: '400px',\n      content: '是否放弃当前编辑？',\n      cancelText: '否',\n      confirmText: '是',\n      handleClick: (e) => {\n        if (e.action === 'confirm') {\n          next(true)\n          if (!this.isNew) {\n            this.resetData()\n          }\n        } else {\n          next(false)\n        }\n      }\n    })\n  },\n  computed: {\n    defaultImg () {\n      return this.poster ? `${this.$imgHost}/${this.poster}` : ''\n    }\n  },\n  components: {\n    VeEditer,\n    VeUpload,\n    comChoose\n  }\n}\n</script>\n\n<style lang='scss' scoped>\n@import 'assets/css/variable.scss';\n@import 'assets/css/mixin.scss';\n\n.edit-page {\n  border-radius: 5px;\n  overflow: hidden;\n  padding-bottom: 30px;\n  margin: 0 auto;\n  color: #222;\n  /* 设备宽度大于 1600 */\n  @media all and (min-width: 1600px) {\n    width: 1366px;\n    // .html-editer {\n    //   max-width: 722px;\n    // }\n  }\n  /* 设备宽度小于 1600px */\n  @media all and (max-width: 1600px) {\n    width: 1019px;\n    .content .html-editer {\n      max-width: 722px !important;\n    }\n  }\n  .edit-title {\n    margin-top: 30px;\n    margin-bottom: 5px;\n    position: relative;\n    // border-bottom: 1px solid $color-bd;\n    line-height: 60px;\n    span.title {\n      display: inline-block;\n      font-size: 24px;\n    }\n  }\n  .tips {\n    width: 100%;\n    height: 50px;\n    line-height: 50px;\n    text-align: center;\n    background: rgba(233, 235, 255, 1);\n    border-radius: 4px;\n    border: 1px solid rgba(129, 140, 254, 1);\n    margin-bottom: 20px;\n    font-size: 14px;\n    i {\n      width: 14px;\n      height: 14px;\n      display: inline-block;\n      background: url('~assets/image/excal.svg') no-repeat;\n      position: relative;\n      top: 3px;\n      right: 4px;\n      background-size: cover;\n    }\n  }\n  .content /deep/ {\n    & > p {\n      margin: 15px 0;\n    }\n    font-size: 14px;\n    padding: 40px 80px 35px;\n    width: 100%;\n    // height: 860px;\n    background: rgba(255, 255, 255, 1);\n    border-radius: 4px;\n    border: 1px solid rgba(226, 226, 226, 1);\n    .star {\n      position: relative;\n      top: 3px;\n      color: #fc5659;\n      padding-right: 5px;\n    }\n    .inp {\n      width: 440px;\n      height: 40px;\n      line-height: 40px;\n      input {\n        padding-left: 10px;\n      }\n    }\n    .error input {\n      border-color: $color-error;\n    }\n    .el-date-editor.el-input,\n    .el-date-editor.el-input__inner {\n      width: 440px;\n    }\n    .tips-time {\n      display: block;\n      color: #888;\n      padding-top: 3px;\n    }\n    .create-btn {\n      display: block;\n      margin: 10px auto 0;\n      @include primary-button;\n      width: 200px;\n      /*&:disabled {*/\n      /*opacity: 1;*/\n      /*cursor: pointer;*/\n      /*}*/\n    }\n    .add-tag {\n      cursor: pointer;\n      display: inline-block;\n      border-radius: 100px;\n      width: 19px;\n      height: 19px;\n      padding: 0;\n      margin: 0;\n      border: 1px solid rgba(136, 136, 136, 1);\n      background: url('~assets/image/add_icon.svg') no-repeat;\n      background-position: center;\n      background-size: contain;\n      position: relative;\n      top: 4px;\n      span {\n        display: none;\n      }\n      &:hover {\n        opacity: 0.8;\n      }\n    }\n    .editor {\n      width: 729px;\n      height: 280px;\n    }\n    .content-count {\n      position: absolute;\n      bottom: 20px;\n      right: 20px;\n      color: #999;\n      i {\n        color: #999;\n      }\n    }\n    .html-editer {\n      max-width: 1072px;\n    }\n    .html-editer .content {\n      width: 100%;\n    }\n    .from-content.editor-content:not(.error):hover .vue-html5-editor {\n      border-color: $color-gray-hover;\n    }\n    .from-content.error {\n      .vue-html5-editor {\n        border-color: $color-error;\n      }\n      .content-count * {\n        color: $color-error;\n      }\n    }\n    .from-content .vue-html5-editor .content img {\n      max-width: 100%;\n    }\n    .from-content .choose-tag {\n      // position: relative;\n      margin-top: 3px;\n    }\n  }\n}\n.finish-box {\n  // position: absolute;\n  // top: 50%;\n  // left: 50%;\n  // margin-left: -110px;\n  // margin-right: -225px;/* 设备宽度大于 1600 */\n  @media all and (min-width: 1600px) {\n    width: 1366px;\n  }\n\n  /* 设备宽度小于 1600px */\n  @media all and (max-width: 1600px) {\n    width: 1019px;\n  }\n  margin: 60px auto;\n  height: 550px;\n  background: #fff;\n  overflow: hidden;\n  border-radius: 4px;\n  border: 1px solid #e2e2e2;\n  dl {\n    text-align: center;\n    margin: 160px auto;\n  }\n  dt {\n    width: 122px;\n    height: 90px;\n    background: url('~assets/image/success@2x.png') no-repeat;\n    background-size: contain;\n    margin: 0 auto;\n  }\n  dd:nth-of-type(1) {\n    padding: 20px 0 35px 0;\n  }\n  .finish-button {\n    display: inline-block;\n    padding: 0px;\n    width: 200px;\n  }\n  .detail {\n    @include primary-button;\n    margin-right: 8px;\n  }\n  .list {\n    @include default-button;\n    margin-left: 8px;\n  }\n}\n.error-tips {\n  color: $color-error;\n}\n// .modal-cover {\n//   position: fixed;\n//   top: 0;\n//   left: 0;\n//   width: 100%;\n//   height: 100%;\n//   background: rgba($color: #000000, $alpha: 0.5);\n//   z-index: 9999;\n// }\n.created-modal {\n  width: 400px;\n  height: 300px;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  margin-top: -150px;\n  margin-left: -200px;\n  background: white;\n  border-radius: 10px;\n  border: 1px solid #666;\n  padding: 30px;\n  text-align: center;\n  .btm {\n    padding: 20px 0;\n  }\n  span {\n    cursor: pointer;\n    display: inline-block;\n    width: 150px;\n  }\n}\n\n.upload-file-box {\n  position: relative;\n  display: inline-block;\n  width: 150px;\n  height: 150px;\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  color: #999;\n  text-align: center;\n  overflow: hidden;\n  .iconfont {\n    display: inline-block;\n    margin-top: 4px;\n    font-size: 30px;\n  }\n  span {\n    display: block;\n  }\n  .upload-file-botton {\n    position: absolute;\n    bottom: -30px;\n    left: 0;\n    height: 30px;\n    width: 100%;\n    line-height: 30px;\n    background-color: rgba(0, 0, 0, 0.5);\n    color: #fff;\n    transition: bottom 0.5s;\n    z-index: 10;\n  }\n  &:hover {\n    transition: border 0.3s;\n    opacity: 0.8;\n    border-style: solid;\n    .upload-file-botton {\n      bottom: 0;\n    }\n  }\n  .temp-img {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-size: cover;\n    background-position: center center;\n  }\n  .el-progress--circle {\n    margin-top: 12px;\n  }\n}\n\n.tag-list {\n  li {\n    display: inline-block;\n    padding: 6px 10px 6px 12px;\n    background: rgba(240, 241, 254, 1);\n    border-radius: 20px;\n    border: 1px solid rgba(240, 241, 254, 1);\n    margin-right: 10px;\n    margin-bottom: 4px;\n    &:hover {\n      span {\n        width: 14px;\n      }\n    }\n    span {\n      cursor: pointer;\n      display: inline-block;\n      position: relative;\n      top: 2px;\n      background: url('~assets/image/close1.svg') no-repeat;\n      background-position: center;\n      background-size: cover;\n      width: 0;\n      transition: width 0.2s;\n      height: 14px;\n      line-height: 26px;\n      /*border-radius: 100px;*/\n      /*border: 1px solid rgba(255, 2, 254, 1);*/\n      &:hover {\n        /*opacity: 0.8;*/\n        background: url('~assets/image/close1_hover.svg') no-repeat;\n        background-position: center;\n        background-size: cover;\n      }\n    }\n  }\n}\n\n.tag-modal {\n  margin-top: 20px;\n  width: 100%;\n  height: 337px;\n  background: #f7f7f7;\n  padding: 10px 20px;\n  border-radius: 5px;\n  overflow-y: scroll;\n  position: relative;\n  border: 1px solid #e2e2e2;\n  .arrow {\n    position: absolute;\n    top: 27px;\n    right: 25px;\n    font-size: 20px;\n    cursor: pointer;\n    transform: rotate(180deg);\n  }\n  .group-title {\n    display: block;\n    font-size: 14px;\n    color: $color-font;\n    padding: 10px;\n  }\n  .title {\n    padding: 10px;\n    font-size: 14px;\n  }\n  .el-checkbox-button /deep/ {\n    margin: 5px;\n    span.el-checkbox-button__inner {\n      border-radius: 4px;\n      overflow: hidden;\n      border-left: 1px solid #dcdfe6;\n    }\n    &.is-checked span.el-checkbox-button__inner,\n    &.is-focus span.el-checkbox-button__inner {\n      border-left: 1px solid #4b5afe;\n      background-color: #4b5afe;\n      border-color: #4b5afe;\n      box-shadow: none;\n      &:hover {\n        color: #fff;\n      }\n    }\n    .el-checkbox-button__inner:hover {\n      color: #4b5afe;\n    }\n  }\n}\n.from-box {\n  // margin: 20px;\n  .from-row {\n    display: flex;\n    padding: 15px 10px;\n    .from-title {\n      width: 110px;\n      text-align: right;\n      padding-right: 15px;\n      line-height: 40px;\n      .star {\n        position: relative;\n        top: 3px;\n        color: $color-red;\n        padding-right: 5px;\n      }\n    }\n    .from-content {\n      flex: 1;\n      position: relative;\n      .input-box {\n        width: 400px;\n      }\n      .error-position {\n        position: absolute;\n        top: 36px;\n        left: 0;\n      }\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=a23341b4&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=a23341b4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a23341b4\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/chenqi/Desktop/Wswork/fe_management/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('a23341b4', component.options)\n    } else {\n      api.reload('a23341b4', component.options)\n    }\n    module.hot.accept(\"./edit.vue?vue&type=template&id=a23341b4&scoped=true&\", function () {\n      api.rerender('a23341b4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/live-mager/edit.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=a23341b4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=a23341b4&lang=scss&scoped=true&\""],"sourceRoot":""}