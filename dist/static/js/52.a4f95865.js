(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{493:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-page card-list-page"},[a("div",{staticClass:"page-title"},[a("span",{staticClass:"title"},[t._v("推荐卡片")]),t._v(" "),a("com-back",{class:"back-btn",attrs:{url:"/liveMager/detail/"+t.activityId}}),t._v(" "),t.tableData.length>0?a("div",{staticClass:"top-bar clearfix"},[a("el-button",{staticClass:"btn add-new primary-button",attrs:{round:"",disabled:t.tableData.length>=20}},[a("router-link",{attrs:{to:t.tableData.length>=20?"":"/salesTools/recommendCardsDetails/"+t.activityId+"?cardId=new"}},[t._v("新建卡片 "+t._s(t.tableData.length)+"/20")])],1),t._v(" "),a("el-button",{staticClass:"btn more",attrs:{round:""}},[a("router-link",{attrs:{to:"/data/live/"+t.activityId+"#tools"}},[t._v("查看活动数据")])],1)],1):t._e()],1),t._v(" "),a("div",{staticClass:"content from-box"},[t.tableData.length>0?[a("el-table",{class:"table-box",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{label:"卡片图片",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{class:"img",attrs:{src:t.imgHost+"/"+e.row.pic}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"卡片名称","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"cell-txt"},[t._v(t._s(e.row.title))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"卡片描述","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"cell-txt"},[t._v(t._s(e.row.desc))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"按钮链接","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"cell-txt"},[t._v(t._s(e.row.btn_link))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"edit"},[a("router-link",{attrs:{to:"/salesTools/recommendCardsDetails/"+t.activityId+"?cardId="+e.row.recommend_card_id}},[t._v("编辑")])],1),a("em",{staticClass:"blank"},[t._v("|")]),t._v(" "),a("span",{staticClass:"delete",on:{click:function(a){t.del(e.row.recommend_card_id,e.row.title,e.row.index)}}},[t._v("删除")])]}}])})],1)]:t._e(),t._v(" "),t.tableData.length<=0&&t.notFirst?[a("div",{staticClass:"empty-box"},[a("p",{staticClass:"img"}),t._v(" "),a("p",{staticClass:"title"},[t._v("推荐卡片")]),t._v(" "),t._m(0),t._v(" "),a("router-link",{attrs:{to:"/salesTools/recommendCardsDetails/"+t.activityId+"?cardId=new"}},[a("el-button",{staticClass:"primary-button"},[t._v("创建卡片")])],1)],1)]:t._e()],2)])};s._withStripped=!0;var i=a(694),l=a(63),n={data:function(){return{activityId:this.$route.params.id,imgHost:"//test-zhike.oss-cn-beijing.aliyuncs.com/",tableData:[],notFirst:!1}},mounted:function(){this.getList()},created:function(){this.tableData=[],l.a.$emit("breads",[{title:"活动管理"},{title:"活动列表",url:"/liveMager/list"},{title:"活动详情",url:"/liveMager/detail/"+this.$route.params.id},{title:"卡片列表",url:"/salesTools/recommendCards/"+this.$route.params.id}])},methods:{getList:function(){var t=this;this.$get(i.a.GET_CARDS_LIST,{activity_id:this.activityId}).then(function(e){t.notFirst=!0,t.tableData=e.data.list})},del:function(t,e,a){var s=this;this.$messageBox({header:"提示",width:"400px",content:"是否确认删除 "+e+" 推荐卡片",cancelText:"否",confirmText:"是",handleClick:function(e){"confirm"===e.action&&s.delItem(t,a)}})},delItem:function(t,e){var a=this;this.$get(i.a.POST_DELETE_CARD,{recommend_card_id:t}).then(function(t){a.$toast({content:"删除成功",position:"center"}),a.tableData.splice(e,1)})}}},o=(a(911),a(1)),r=Object(o.a)(n,s,[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"desc"},[this._v("自定卡片内容进行引流"),e("br"),this._v("推送二维码、店铺链接、微信公众号、图片海报等内容")])}],!1,null,null,null);r.options.__file="src/pages/sales-tools/recommend-cards/index.vue";e.default=r.exports},703:function(t,e,a){},911:function(t,e,a){"use strict";var s=a(703);a.n(s).a}}]);
//# sourceMappingURL=52.a4f95865.js.map