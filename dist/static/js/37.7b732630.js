(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{331:function(t,i,a){},529:function(t,i,a){"use strict";var e=a(331);a.n(e).a},580:function(t,i,a){"use strict";a.r(i);var e=a(74),s=a.n(e),n=a(345),o=a(234),d=a(544),l=a(545),c={components:{t0478320:d.default,t0478321:l.default},data:function(){return{com:"",isPreview:!1,data:{},ptid:this.$route.query.tid,tid:this.$route.params.id,title:"",published:"N",platform:"PC"}},mounted:function(){-1===this.$route.path.indexOf("edit")&&(this.isPreview=!0),this.init()},methods:{init:function(){var t=this;this.ptid?this.com="t"+this.ptid:(o.a.webinarInfo(this.tid).then(function(i){var a=i.data;t.title=a.title,t.published=a.published}),n.a.getSiteData({__loading:!0,activityId:this.tid}).then(function(i){var a=JSON.parse(i.data.value);t.com="t"+a.tid,a.editAble=!0,t.data=a}))},doSave:function(){var t=this;n.a.updateSiteData({__loading:!0,activityId:this.tid,template:s()(this.data)}).then(function(i){t.$toast({content:"保存成功",autoClose:2e3})})}},computed:{publishState:function(){return"N"===this.published?"未发布":"已发布"}}},r=(a(529),a(1)),u=Object(r.a)(c,function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"template-container"},[a("div",{staticClass:"header"},[t.ptid?t._e():a("div",{staticClass:"title"},[t._v(t._s(t.title)+"-"),a("span",[t._v(t._s(t.publishState))])]),t._v(" "),a("router-link",{staticClass:"back",attrs:{to:"/liveMager/site/"+t.tid}},[t._v("返回")]),t._v(" "),t.isPreview&&!t.ptid?a("div",{staticClass:"preview-group"},[a("a",{on:{click:function(i){t.platform="PC"}}},[t._v("电脑版")]),t._v(" "),a("a",{on:{click:function(i){t.platform="H5"}}},[t._v("手机版")]),t._v(" "),a("a",[t._v("分享")])]):t._e(),t._v(" "),t.isPreview||t.ptid?t._e():a("a",{staticClass:"save",on:{click:t.doSave}},[t._v("保存")])],1),t._v(" "),a(t.com,{tag:"component",staticClass:"template-content",attrs:{platform:t.platform,editAble:!t.isPreview},model:{value:t.data,callback:function(i){t.data=i},expression:"data"}})],1)},[],!1,null,"4864c1aa",null);u.options.__file="template.vue";i.default=u.exports}}]);