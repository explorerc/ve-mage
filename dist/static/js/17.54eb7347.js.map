{"version":3,"sources":["webpack:///./src/pages/live-mager/css/live.scss","webpack:///./src/pages/live-mager/email/edit-step-two.vue?82c5","webpack:///./src/pages/live-mager/email/edit-step-two.vue?2e8d","webpack:///./src/pages/live-mager/email/edit-step-two.vue?5cd7","webpack:///src/pages/live-mager/email/edit-step-two.vue","webpack:///./src/pages/live-mager/email/edit-step-two.vue"],"names":["_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_live_scss_vue_type_style_index_0_id_c4130fe2_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_edit_step_two_vue_vue_type_style_index_1_id_c4130fe2_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","goBack","_v","_m","attrs","placeholder","error-tips","errorMsg","title","value","email","max-length","update:value","$event","$set","senderName","class","error","groupIds","selectPersonShow","tip-type","tip","_s","_e","selectedPersonList","length","name","tag","_l","person","idx","key","id","count","delPerson","from-content","planTime","label","model","sendType","callback","$$v","expression","type","align","format","value-format","width","header","confirmText","handleClick","handleSelectPerson","searchPerson","nativeOn","keyup","_k","keyCode","searchEnter","personList","active","isChecked","stopPropagation","clickRow","small","slot","selectedCount","selectedPersonListStr","okSelectList","primary-button","fr","disabled","disabledBtn","send","saveEmail","_withStripped","email_edit_step_twovue_type_script_lang_js_","components","VeMsgTips","ve_msg_tips","data","outValue","isTimer","content","desc","activityId","emailInviteId","emailTemplateId","PC_HOST","location","protocol","computed","Object","vuex_esm","emailInfo","state","watch","handler","newVal","extends_default","immediate","clearError","deep","newArray","_this","temArray","listStr","groupIdsStr","forEach","item","push","substring","created","queryPersonList","$router","go","methods","storeEmailInfo","mutation_types","e","action","delIdx","indexOf","_this2","$get","activity_service","GET_PERSON_LIST","$route","params","then","res","_this3","replace","$post","POST_SAVE_EMAIL_INFO","$toast","autoClose","position","sendEmail","_this4","checkParams","POST_SEND_TIMER_EMAIL_INFO","POST_SAVE_SEND_EMAIL","_this5","$nextTick","immediatelySend","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/17.54eb7347.js","sourcesContent":["import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=c4130fe2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=c4130fe2&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./edit-step-two.vue?vue&type=style&index=1&id=c4130fe2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./edit-step-two.vue?vue&type=style&index=1&id=c4130fe2&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"edit-step-box\" }, [\n    _c(\"header\", { staticClass: \"email-header\" }, [\n      _c(\"div\", { staticClass: \"back-btn\", on: { click: _vm.goBack } }, [\n        _c(\"i\", { staticClass: \"iconfont icon-jiantou\" })\n      ]),\n      _vm._v(\" \"),\n      _c(\"span\", [_vm._v(\"步骤2 发送设置\")])\n    ]),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      { staticClass: \"live-mager\" },\n      [\n        _c(\"div\", { staticClass: \"mager-box border-box\" }, [\n          _c(\"div\", { staticClass: \"from-box\" }, [\n            _c(\"div\", { staticClass: \"from-row\" }, [\n              _vm._m(0),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"from-content\" },\n                [\n                  _c(\"com-input\", {\n                    staticClass: \"input-email\",\n                    attrs: {\n                      placeholder: \"输入标题，可结合变量使用\",\n                      \"error-tips\": _vm.errorMsg.title,\n                      value: _vm.email.title,\n                      \"max-length\": 30\n                    },\n                    on: {\n                      \"update:value\": function($event) {\n                        _vm.$set(_vm.email, \"title\", $event)\n                      }\n                    }\n                  })\n                ],\n                1\n              )\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"from-row\" }, [\n              _vm._m(1),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"from-content\" },\n                [\n                  _c(\"com-input\", {\n                    staticClass: \"input-email\",\n                    attrs: {\n                      placeholder: \"输入发件人名称\",\n                      \"error-tips\": _vm.errorMsg.senderName,\n                      value: _vm.email.senderName,\n                      \"max-length\": 15\n                    },\n                    on: {\n                      \"update:value\": function($event) {\n                        _vm.$set(_vm.email, \"senderName\", $event)\n                      }\n                    }\n                  })\n                ],\n                1\n              )\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"from-row\" }, [\n              _vm._m(2),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"from-content\" },\n                [\n                  _c(\n                    \"div\",\n                    { class: { error: _vm.errorMsg.groupIds } },\n                    [\n                      _c(\n                        \"button\",\n                        {\n                          staticClass: \"default-button fl\",\n                          on: {\n                            click: function($event) {\n                              _vm.selectPersonShow = true\n                            }\n                          }\n                        },\n                        [_vm._v(\"选择分组\")]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"span\", { staticClass: \"send-span\" }, [\n                        _vm._v(\"发送限额：0/400\")\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\"ve-msg-tips\", {\n                        attrs: {\n                          \"tip-type\": \"html\",\n                          tip:\n                            \"1.每天最多可发送10000封邮件 <br/> 2.发送限额：当前已选中人数/剩余可发送数量<br/>3.在邮件发送前，如果分组内人员发生变化，收件人也会随之改变\"\n                        }\n                      }),\n                      _vm._v(\" \"),\n                      _vm.errorMsg.groupIds\n                        ? _c(\"span\", { staticClass: \"error-msg\" }, [\n                            _vm._v(_vm._s(_vm.errorMsg.groupIds))\n                          ])\n                        : _vm._e()\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _vm.selectedPersonList.length\n                    ? _c(\n                        \"transition-group\",\n                        {\n                          staticClass: \"edit-groups\",\n                          attrs: { name: \"list\", tag: \"div\" }\n                        },\n                        _vm._l(_vm.selectedPersonList, function(person, idx) {\n                          return _c(\n                            \"span\",\n                            { key: person.id, staticClass: \"list-item\" },\n                            [\n                              _vm._v(\n                                _vm._s(person.name) +\n                                  \" (\" +\n                                  _vm._s(person.count) +\n                                  \"人）\\n                \"\n                              ),\n                              _c(\"i\", {\n                                staticClass: \"iconfont icon-shanchu\",\n                                on: {\n                                  click: function($event) {\n                                    _vm.delPerson(idx)\n                                  }\n                                }\n                              })\n                            ]\n                          )\n                        })\n                      )\n                    : _vm._e()\n                ],\n                1\n              )\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"from-row\" }, [\n              _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"发送时间：\")]),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  class: { \"from-content\": true, error: _vm.errorMsg.planTime }\n                },\n                [\n                  _c(\n                    \"div\",\n                    { staticClass: \"send-type-box\" },\n                    [\n                      _c(\n                        \"el-radio\",\n                        {\n                          attrs: { label: \"AUTO\" },\n                          model: {\n                            value: _vm.sendType,\n                            callback: function($$v) {\n                              _vm.sendType = $$v\n                            },\n                            expression: \"sendType\"\n                          }\n                        },\n                        [_vm._v(\"立即发送\")]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"el-radio\",\n                        {\n                          attrs: { label: \"ONCE\" },\n                          model: {\n                            value: _vm.sendType,\n                            callback: function($$v) {\n                              _vm.sendType = $$v\n                            },\n                            expression: \"sendType\"\n                          }\n                        },\n                        [_vm._v(\"定时发送\")]\n                      )\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _vm.sendType == \"ONCE\"\n                    ? _c(\"el-date-picker\", {\n                        attrs: {\n                          type: \"datetime\",\n                          placeholder: \"选择日期时间\",\n                          align: \"right\",\n                          format: \"yyyy-MM-dd HH:mm\",\n                          \"value-format\": \"yyyy-MM-dd HH:mm\"\n                        },\n                        model: {\n                          value: _vm.email.planTime,\n                          callback: function($$v) {\n                            _vm.$set(_vm.email, \"planTime\", $$v)\n                          },\n                          expression: \"email.planTime\"\n                        }\n                      })\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.errorMsg.planTime\n                    ? _c(\"span\", { staticClass: \"error-msg\" }, [\n                        _vm._v(_vm._s(_vm.errorMsg.planTime))\n                      ])\n                    : _vm._e()\n                ],\n                1\n              )\n            ])\n          ])\n        ]),\n        _vm._v(\" \"),\n        _vm.selectPersonShow\n          ? _c(\n              \"message-box\",\n              {\n                staticClass: \"select-person\",\n                attrs: {\n                  width: \"740px\",\n                  type: \"prompt\",\n                  header: \"选择观众组\",\n                  confirmText: \"确认\"\n                },\n                on: { handleClick: _vm.handleSelectPerson }\n              },\n              [\n                _c(\"div\", { staticClass: \"select-person-box\" }, [\n                  _c(\"div\", { staticClass: \"select-nav fl\" }, [\n                    _c(\"div\", { staticClass: \"select-item active\" }, [\n                      _c(\"i\", { staticClass: \"iconfont icon-fenzu\" }),\n                      _vm._v(\" \"),\n                      _c(\"span\", [_vm._v(\"分组\")])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"div\", { staticClass: \"select-item\" }, [\n                      _c(\"i\", { staticClass: \"iconfont icon-biaoqian\" }),\n                      _vm._v(\" \"),\n                      _c(\"span\", [_vm._v(\"标签\")])\n                    ])\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"select-content fl\" }, [\n                    _c(\n                      \"div\",\n                      { staticClass: \"search-person-box\" },\n                      [\n                        _c(\"com-input\", {\n                          staticClass: \"search-com\",\n                          attrs: {\n                            type: \"search\",\n                            value: _vm.searchPerson,\n                            placeholder: \"输入直播名称\"\n                          },\n                          on: {\n                            \"update:value\": function($event) {\n                              _vm.searchPerson = $event\n                            }\n                          },\n                          nativeOn: {\n                            keyup: function($event) {\n                              if (\n                                !(\"button\" in $event) &&\n                                _vm._k(\n                                  $event.keyCode,\n                                  \"enter\",\n                                  13,\n                                  $event.key,\n                                  \"Enter\"\n                                )\n                              ) {\n                                return null\n                              }\n                              return _vm.searchEnter($event)\n                            }\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\"div\", { staticClass: \"select-person-box\" }, [\n                      _c(\n                        \"ul\",\n                        _vm._l(_vm.personList, function(person, idx) {\n                          return _c(\n                            \"li\",\n                            {\n                              key: person.id,\n                              class: { active: person.isChecked },\n                              on: {\n                                click: function($event) {\n                                  $event.stopPropagation()\n                                  _vm.clickRow(idx)\n                                }\n                              }\n                            },\n                            [\n                              _vm._v(\n                                \"\\n                \" +\n                                  _vm._s(person.name) +\n                                  \" (\" +\n                                  _vm._s(person.count) +\n                                  \"人）\\n                \"\n                              ),\n                              _c(\"com-checkbox\", {\n                                staticClass: \"fr\",\n                                attrs: { small: \"\" },\n                                model: {\n                                  value: person.isChecked,\n                                  callback: function($$v) {\n                                    _vm.$set(person, \"isChecked\", $$v)\n                                  },\n                                  expression: \"person.isChecked\"\n                                }\n                              })\n                            ],\n                            1\n                          )\n                        })\n                      )\n                    ])\n                  ])\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  {\n                    staticClass: \"select-bottom\",\n                    attrs: { slot: \"bottom\" },\n                    slot: \"bottom\"\n                  },\n                  [\n                    _c(\"span\", { staticClass: \"select-all fl\" }, [\n                      _vm._v(\"已选择\" + _vm._s(_vm.selectedCount) + \"人：\")\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      {\n                        staticClass: \"select-list fl\",\n                        attrs: { title: _vm.selectedPersonListStr }\n                      },\n                      [\n                        _vm._v(\n                          \"\\n          \" +\n                            _vm._s(_vm.selectedPersonListStr) +\n                            \"\\n        \"\n                        )\n                      ]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"button\",\n                      {\n                        staticClass: \"primary-button\",\n                        on: { click: _vm.okSelectList }\n                      },\n                      [_vm._v(\"确定\")]\n                    )\n                  ]\n                )\n              ]\n            )\n          : _vm._e()\n      ],\n      1\n    ),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"email-bottom\" }, [\n      _c(\n        \"button\",\n        {\n          class: {\n            \"primary-button\": true,\n            fr: true,\n            disabled: _vm.disabledBtn\n          },\n          on: { click: _vm.send }\n        },\n        [_vm._v(\"发送\")]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"button\",\n        {\n          staticClass: \"primary-button margin-fl fr\",\n          on: { click: _vm.saveEmail }\n        },\n        [_vm._v(\"保存草稿\")]\n      )\n    ])\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"邮件标题：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"发件人：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"收件人：\")\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./edit-step-two.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./edit-step-two.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"edit-step-box\">\n    <header class=\"email-header\">\n      <div class=\"back-btn\"\n           @click=\"goBack\">\n        <i class=\"iconfont icon-jiantou\"></i>\n      </div>\n      <span>步骤2 发送设置</span>\n    </header>\n    <div class=\"live-mager\">\n      <div class=\"mager-box border-box\">\n        <div class=\"from-box\">\n          <div class=\"from-row\">\n            <div class=\"from-title\"><i class=\"star\">*</i>邮件标题：</div>\n            <div class=\"from-content\">\n              <com-input placeholder=\"输入标题，可结合变量使用\"\n                         class=\"input-email\"\n                         :error-tips=\"errorMsg.title\"\n                         :value.sync=\"email.title\"\n                         :max-length=\"30\"></com-input>\n            </div>\n          </div>\n          <div class=\"from-row\">\n            <div class=\"from-title\"><i class=\"star\">*</i>发件人：</div>\n            <div class=\"from-content\">\n              <com-input placeholder=\"输入发件人名称\"\n                         class=\"input-email\"\n                         :error-tips=\"errorMsg.senderName\"\n                         :value.sync=\"email.senderName\"\n                         :max-length=\"15\"></com-input>\n            </div>\n          </div>\n          <div class=\"from-row\">\n            <div class=\"from-title\"><i class=\"star\">*</i>收件人：</div>\n            <div class=\"from-content\">\n              <div :class=\"{error:errorMsg.groupIds}\">\n                <button class=\"default-button fl\"\n                        @click=\"selectPersonShow=true\">选择分组</button>\n                <span class=\"send-span\">发送限额：0/400</span>\n                <ve-msg-tips tip-type=\"html\"\n                             tip=\"1.每天最多可发送10000封邮件 <br/> 2.发送限额：当前已选中人数/剩余可发送数量<br/>3.在邮件发送前，如果分组内人员发生变化，收件人也会随之改变\"></ve-msg-tips>\n                <span class=\"error-msg\"\n                      v-if=\"errorMsg.groupIds\">{{errorMsg.groupIds}}</span>\n              </div>\n              <transition-group name=\"list\"\n                                class=\"edit-groups\"\n                                tag=\"div\"\n                                v-if=\"selectedPersonList.length\">\n                <span class=\"list-item\"\n                      v-for=\"(person,idx) in selectedPersonList\"\n                      :key=\"person.id\">{{person.name}} ({{person.count}}人）\n                  <i class=\"iconfont icon-shanchu\"\n                     @click=\"delPerson(idx)\"></i>\n                </span>\n              </transition-group>\n            </div>\n          </div>\n          <div class=\"from-row\">\n            <div class=\"from-title\">发送时间：</div>\n            <div :class=\"{'from-content':true,error:errorMsg.planTime}\">\n              <div class=\"send-type-box\">\n                <el-radio v-model=\"sendType\"\n                          label=\"AUTO\">立即发送</el-radio>\n                <el-radio v-model=\"sendType\"\n                          label=\"ONCE\">定时发送</el-radio>\n              </div>\n              <el-date-picker v-if=\"sendType=='ONCE'\"\n                              v-model=\"email.planTime\"\n                              type=\"datetime\"\n                              placeholder=\"选择日期时间\"\n                              align=\"right\"\n                              format=\"yyyy-MM-dd HH:mm\"\n                              value-format=\"yyyy-MM-dd HH:mm\">\n              </el-date-picker>\n              <span class=\"error-msg\"\n                    v-if=\"errorMsg.planTime\">{{errorMsg.planTime}}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- 选择收件人 -->\n      <message-box v-if=\"selectPersonShow\"\n                   width=\"740px\"\n                   type=\"prompt\"\n                   header=\"选择观众组\"\n                   confirmText='确认'\n                   class=\"select-person\"\n                   @handleClick=\"handleSelectPerson\">\n        <div class=\"select-person-box\">\n          <div class=\"select-nav fl\">\n            <div class=\"select-item active\">\n              <i class=\"iconfont icon-fenzu\"></i>\n              <span>分组</span>\n            </div>\n            <div class=\"select-item\">\n              <i class=\"iconfont icon-biaoqian\"></i>\n              <span>标签</span>\n            </div>\n          </div>\n          <div class=\"select-content fl\">\n            <div class=\"search-person-box\">\n              <com-input type=\"search\"\n                         class=\"search-com\"\n                         :value.sync=\"searchPerson\"\n                         @keyup.native.enter=\"searchEnter\"\n                         placeholder=\"输入直播名称\"></com-input>\n            </div>\n            <div class=\"select-person-box\">\n              <ul>\n                <li v-for=\"(person,idx) in personList\"\n                    @click.stop=\"clickRow(idx)\"\n                    :class=\"{active:person.isChecked}\"\n                    :key=\"person.id\">\n                  {{person.name}} ({{person.count}}人）\n                  <com-checkbox v-model=\"person.isChecked\"\n                                class=\"fr\"\n                                small></com-checkbox>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div slot=\"bottom\"\n             class=\"select-bottom\">\n          <span class=\"select-all fl\">已选择{{selectedCount}}人：</span>\n          <div class=\"select-list fl\"\n               :title=\"selectedPersonListStr\">\n            {{selectedPersonListStr}}\n          </div>\n          <button class=\"primary-button\"\n                  @click=\"okSelectList\">确定</button>\n        </div>\n      </message-box>\n    </div>\n    <div class=\"email-bottom\">\n      <button :class=\"{'primary-button':true, fr:true,disabled:disabledBtn}\"\n              @click=\"send\">发送</button>\n      <button class=\"primary-button margin-fl fr\"\n              @click=\"saveEmail\">保存草稿</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport VeMsgTips from 'src/components/ve-msg-tips'\nimport activityService from 'src/api/activity-service'\nimport { mapState, mapMutations } from 'vuex'\nimport * as types from '../../../store/mutation-types'\n\nexport default {\n  name: 'edit-step-two',\n  components: { VeMsgTips },\n  data () {\n    return {\n      outValue: '',\n      isTimer: true,\n      selectPersonShow: false,\n      sendType: 'AUTO',\n      searchPerson: '',\n      personList: [{ id: '', name: '', count: 0, isChecked: false }],\n      selectedPersonList: [{ id: '', name: '', count: 0, isChecked: false }],\n      selectedPersonListStr: '',\n      selectedCount: 0,\n      disabledBtn: false,\n      errorMsg: {\n        title: '',\n        content: '',\n        desc: '',\n        senderName: '',\n        planTime: '',\n        groupIds: ''\n      },\n      email: {\n        activityId: '',\n        emailInviteId: '',\n        emailTemplateId: 1,\n        title: '',\n        content: '',\n        senderName: '',\n        planTime: '',\n        groupIds: ''\n      },\n      PC_HOST: location.protocol + process.env.PC_HOST\n    }\n  },\n  computed: mapState('liveMager', {\n    emailInfo: state => state.emailInfo\n  }),\n  watch: {\n    emailInfo: {\n      handler (newVal) {\n        this.email = { ...this.email, ...newVal }\n        this.sendType = this.email.planTime ? 'ONCE' : 'AUTO'\n      },\n      immediate: true\n    },\n    email: {\n      handler () {\n        this.clearError()\n      },\n      deep: true\n    },\n    personList: {\n      handler (newArray) {\n        let temArray = []\n        let listStr = ''\n        let groupIdsStr = ''\n        newArray.forEach((item, idx) => {\n          if (!item.isChecked) return\n          temArray.push(item)\n          this.selectedCount += item.count\n          listStr += `${item.name} (${item.count}人）、`\n          groupIdsStr += `${item.id},`\n        })\n        this.selectedPersonListStr = listStr.substring(0, listStr.length - 1)\n        this.email.groupIds = groupIdsStr.substring(0, groupIdsStr.length - 1)\n        this.selectedPersonList = temArray\n      },\n      deep: true\n    }\n  },\n  created () {\n    if (!this.email.content) {\n      this.$router.go(-1)\n      return\n    }\n    this.queryPersonList()\n  },\n  methods: {\n    ...mapMutations('liveMager', {\n      storeEmailInfo: types.EMAIL_INFO\n    }),\n    /* 清除错误信息 */\n    clearError () {\n      if (this.email.planTime) {\n        this.errorMsg.planTime = ''\n      } else {\n        return\n      }\n      if (this.email.title) {\n        this.errorMsg.title = ''\n      } else {\n        return\n      }\n      if (this.email.senderName) {\n        this.errorMsg.senderName = ''\n      } else {\n        return\n      }\n      if (this.email.groupIds) {\n        this.errorMsg.groupIds = ''\n      } else {\n        return\n      }\n      if (this.email.desc) {\n        this.errorMsg.desc = ''\n      } else {\n        return\n      }\n      if (this.email.content) {\n        this.errorMsg.content = ''\n      }\n    },\n    /* enter搜索 */\n    searchEnter () {\n      this.queryPersonList()\n    },\n    /* 点击确定 */\n    okSelectList () {\n      this.selectPersonShow = false\n      if (this.email.groupIds) {\n        this.errorMsg.groupIds = ''\n      }\n    },\n    /* 点击取消 */\n    handleSelectPerson (e) {\n      if (e.action === 'cancel') {\n        this.selectPersonShow = false\n      }\n    },\n    /* 选中行 */\n    clickRow (idx) {\n      this.personList[idx].isChecked = !this.personList[idx].isChecked\n    },\n    /* 删除已经选中的分组 */\n    delPerson (idx) {\n      const delIdx = this.personList.indexOf(this.selectedPersonList[idx])\n      this.personList[delIdx].isChecked = false\n    },\n    /* 查询人员 */\n    queryPersonList () {\n      this.$get(activityService.GET_PERSON_LIST, {\n        activityId: this.$route.params.id,\n        name: this.searchPerson\n      }).then((res) => {\n        let temArray = []\n        res.data.forEach((item) => {\n          temArray.push({\n            id: item.id,\n            name: item.name,\n            count: 0,\n            isChecked: false\n          })\n        })\n        this.personList = temArray\n      })\n      // LiveHttp.queryPersonList({\n      //   activityId: this.$route.params.id,\n      //   name: this.searchPerson\n      // }).then((res) => {\n      //   let temArray = []\n      //   res.data.forEach((item) => {\n      //     temArray.push({\n      //       id: item.id,\n      //       name: item.name,\n      //       count: 0,\n      //       isChecked: false\n      //     })\n      //   })\n      //   this.personList = temArray\n      // })\n    },\n    saveEmail () {\n      this.email.content = this.email.content.replace('$$activity$$', `${this.PC_HOST}watch/${this.email.activityId}`)\n      this.$post(activityService.POST_SAVE_EMAIL_INFO, this.email).then((res) => {\n        this.email = { ...this.email, ...res.data }\n        this.storeEmailInfo(this.email)\n        this.$toast({\n          header: `提示`,\n          content: '保存草稿成功',\n          autoClose: 2000,\n          position: 'right-top'\n        })\n      })\n      // LiveHttp.saveEmailInfo(this.email).then((res) => {\n      //   if (res.code === 200) {\n      //     this.email = {...this.email, ...res.data}\n      //     this.storeEmailInfo(this.email)\n      //     this.$toast({\n      //       header: `提示`,\n      //       content: '保存草稿成功',\n      //       autoClose: 2000,\n      //       position: 'right-top'\n      //     })\n      //   }\n      // })\n    },\n    sendEmail () {\n      if (this.isTimer && !this.email.planTime) {\n        this.errorMsg.planTime = '定时时间不能为空'\n        this.disabledBtn = false\n        return\n      }\n      if (!this.checkParams(this.isTimer)) {\n        this.disabledBtn = false\n        return\n      }\n      this.email.content = this.email.content.replace('$$activity$$', `${this.PC_HOST}watch/${this.email.activityId}`)\n      if (this.isTimer) { // 发送定时邮件\n        this.$post(activityService.POST_SEND_TIMER_EMAIL_INFO, this.email).then((res) => {\n          this.$router.push(`/liveMager/email/${this.email.activityId}`)\n          this.disabledBtn = false\n        })\n        // LiveHttp.sendTimerEmailInfo(this.email).then((res) => {\n        //   this.$router.push(`/liveMager/email/${this.email.activityId}`)\n        //   this.disabledBtn = false\n        // }).catch(() => {\n        //   this.disabledBtn = false\n        // })\n      } else { // 保存并发送\n        this.$post(activityService.POST_SAVE_SEND_EMAIL, this.email).then((res) => {\n          this.$router.push(`/liveMager/email/${this.email.activityId}`)\n          this.disabledBtn = false\n        })\n        // LiveHttp.saveAndsendEmail(this.email).then((res) => {\n        //   this.$router.push(`/liveMager/email/${this.email.activityId}`)\n        //   this.disabledBtn = false\n        // }).catch(() => {\n        //   this.disabledBtn = false\n        // })\n      }\n    },\n    send () {\n      this.disabledBtn = true\n      this.$nextTick(() => {\n        if (this.sendType === 'AUTO') {\n          this.isTimer = false\n          this.immediatelySend()\n        } else if (this.sendType === 'ONCE') {\n          this.isTimer = true\n          this.sendEmail()\n        }\n      })\n    },\n    immediatelySend () {\n      this.email.planTime = ''\n      this.isTimer = false\n      this.sendEmail()\n    },\n    checkParams () {\n      this.errorMsg = {\n        title: '',\n        content: '',\n        senderName: '',\n        planTime: ''\n      }\n      if (!this.email.title) {\n        this.errorMsg.title = '标题不能为空'\n        return false\n      } else if (!this.email.senderName) {\n        this.errorMsg.senderName = '发件人不能为空'\n        return false\n      } else if (!this.email.groupIds) {\n        this.errorMsg.groupIds = '请选择收件人'\n        return false\n      }\n      return true\n    },\n    goBack () {\n      this.storeEmailInfo(this.email)\n      this.$router.go(-1)\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped src=\"../css/live.scss\"></style>\n<style lang=\"scss\" scoped>\n.edit-step-box {\n  background-color: #f5f5f5;\n  .send-span {\n    display: inline-block;\n    height: 40px;\n    line-height: 40px;\n    margin: 0 15px;\n    color: #888;\n  }\n  .email-header {\n    height: 60px;\n    line-height: 60px;\n    background-color: #ffd021;\n    .icon-jiantou {\n      font-size: 22px;\n      vertical-align: -2px;\n    }\n    .back-btn {\n      display: inline-block;\n      padding: 0 15px;\n      background-color: #ffda51;\n      line-height: 40px;\n      border-radius: 4px;\n      font-size: 18px;\n      text-align: center;\n      margin-left: 20px;\n      margin-right: 10px;\n      &:hover {\n        cursor: pointer;\n        opacity: 0.9;\n        color: #4b5afe;\n      }\n    }\n  }\n  .live-mager {\n    padding-bottom: 0;\n    height: calc(100vh - 120px);\n    overflow: hidden;\n    .border-box {\n      margin-top: 50px;\n      height: 2000px;\n    }\n  }\n  .email-bottom {\n    height: 60px;\n    width: 100%;\n    line-height: 60px;\n    border-top: 1px solid #e2e2e2;\n    box-sizing: border-box;\n    box-shadow: 0 0 4px rgba(0, 0, 0, 0.1);\n    padding: 0 20px;\n    background-color: #fff;\n    button {\n      margin-top: 10px;\n    }\n    .margin-fl {\n      margin-right: 10px;\n    }\n  }\n  .send-type-box {\n    height: 30px;\n    margin-top: 13px;\n  }\n  .msg-box {\n    z-index: 1000;\n  }\n  .step-btns {\n    margin: 30px 30px 100px 30px;\n    .margin-fl {\n      margin: 0 20px;\n    }\n  }\n  .input-email {\n    width: 400px;\n  }\n  .msg-box-bottom {\n    height: 40px;\n    .email-timer {\n      display: inline-block;\n      margin-right: 23px;\n    }\n    .error-msg {\n      display: block;\n      position: absolute;\n      color: #fc5659;\n      font-size: 14px;\n    }\n  }\n  .from-title {\n    line-height: 40px;\n  }\n  .edit-groups {\n    margin-top: 15px;\n    width: 500px;\n    span {\n      display: inline-block;\n      background-color: #f0f1fe;\n      border-radius: 17px;\n      padding: 8px 10px;\n      margin-right: 10px;\n      margin-bottom: 10px;\n      i {\n        color: #4b5afe;\n        &:hover {\n          cursor: pointer;\n          opacity: 0.8;\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./edit-step-two.vue?vue&type=template&id=c4130fe2&scoped=true&\"\nimport script from \"./edit-step-two.vue?vue&type=script&lang=js&\"\nexport * from \"./edit-step-two.vue?vue&type=script&lang=js&\"\nimport style0 from \"../css/live.scss?vue&type=style&index=0&id=c4130fe2&lang=scss&scoped=true&\"\nimport style1 from \"./edit-step-two.vue?vue&type=style&index=1&id=c4130fe2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c4130fe2\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/x.g/Documents/work/fe_management/node_modules/_vue-hot-reload-api@2.3.1@vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('c4130fe2', component.options)\n    } else {\n      api.reload('c4130fe2', component.options)\n    }\n    module.hot.accept(\"./edit-step-two.vue?vue&type=template&id=c4130fe2&scoped=true&\", function () {\n      api.rerender('c4130fe2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/live-mager/email/edit-step-two.vue\"\nexport default component.exports"],"sourceRoot":""}