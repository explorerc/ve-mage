{"version":3,"sources":["webpack:///./src/pages/live-mager/css/live.scss?ff78","webpack:///./src/pages/live-mager/promote/wechat/edit.vue?c76b","webpack:///./src/pages/live-mager/promote/wechat/edit.vue?8644","webpack:///./src/pages/live-mager/promote/wechat/edit.vue?d8c1","webpack:///./src/pages/live-mager/promote/wechat/edit.vue?851a","webpack:///src/pages/live-mager/promote/wechat/edit.vue","webpack:///./src/pages/live-mager/promote/wechat/edit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","loading","expression","staticClass","attrs","com-loading-text","_m","_v","titleValue","placeholder","max-length","error-tips","errorData","titleError","on","update:value","$event","focus","click","msgError","type","wxContent","staticStyle","padding","selectPersonShow","tip","tipType","selectedPersonList","length","tag","_l","person","idx","key","id","_s","count","delPerson","_e","label","model","sendSetting","callback","$$v","pickDate","editable","format","value-format","picker-options","pickerOptions","date","testSend","save","width","header","confirmText","handleClick","handleSelectPerson","searchPerson","nativeOn","keyup","_k","keyCode","searchEnter","personList","class","active","isChecked","stopPropagation","clickRow","small","$set","slot","selectedCount","title","selectedPersonListStr","okSelectList","testModal","imgUrl","qrImgurl","closeTest","_withStripped","wechat_editvue_type_script_lang_js_","data","inviteId","$route","query","activityId","params","tabValue","searchTitle","groupIdx","tagIdx","tplOptions","disabledDate","time","getTime","Date","now","tagError","isValided","routerPass","sdkParam","created","_this","initSdk","queryPersonList","$config","$get","notice_service","GET_QUERY_WECHAT","then","res","status","sendTime","toString","planTime","desc","methods","closeModal","e","target","className","chooseGroup","chooseTag","_this2","groupId","toLowerCase","formValid","$nextTick","$post","POST_SAVE_WECHAT","$toast","content","position","$router","push","_this3","encodeURIComponent","window","location","host","action","delIdx","indexOf","_this4","GET_PERSON_LIST","temArray","forEach","item","listenMsg","msg","console","log","_this5","playback_service","GET_PAAS_SDK_INFO","sign","signed_at","signedAt","app_id","appId","sdkPlayParam","accountId","token","recordId","linkVideo","initMsgServe","_this6","asyncToGenerator_default","regenerator_default","a","mark","_callee","regActivity","roomInfo","wrap","_context","prev","next","GET_REG_ACTIVITY","sent","GET_REG_SDK_INFO","activityUserId","ChatService","OBJ","init","channelId","channelRoom","regHandler","chat_config","wechat_msg","stop","beforeRouteLeave","to","from","$messageBox","cancelText","watch","handler","newValue","newArray","_this7","listStr","substring","deep","components","comTest","com_test","comPhone","com_phone","veTips","ve_msg_tips","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/27.882fb87e.js","sourcesContent":["import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.2@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=08eecc18&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.2@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!./live.scss?vue&type=style&index=0&id=08eecc18&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/_mini-css-extract-plugin@0.4.2@mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/_mini-css-extract-plugin@0.4.2@mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=1&lang=scss&\"","import mod from \"-!../../../../../node_modules/_mini-css-extract-plugin@0.4.2@mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=2&id=08eecc18&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/_mini-css-extract-plugin@0.4.2@mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=2&id=08eecc18&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      directives: [\n        {\n          name: \"ComLoading\",\n          rawName: \"v-ComLoading\",\n          value: _vm.loading,\n          expression: \"loading\"\n        }\n      ],\n      staticClass: \"content\",\n      attrs: { \"com-loading-text\": \"拼命加载中\" }\n    },\n    [\n      _c(\n        \"div\",\n        { staticClass: \"edit-wx-page live-mager\" },\n        [\n          _vm._m(0),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"mager-box border-box\" }, [\n            _c(\n              \"div\",\n              { staticClass: \"from-box \" },\n              [\n                _c(\"div\", { staticClass: \"from-row\" }, [\n                  _vm._m(1),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticClass: \"from-content\" },\n                    [\n                      _c(\"com-input\", {\n                        staticClass: \"msg-title\",\n                        attrs: {\n                          value: _vm.titleValue,\n                          placeholder: \"请输入标题\",\n                          \"max-length\": 30,\n                          \"error-tips\": _vm.errorData.titleError\n                        },\n                        on: {\n                          \"update:value\": function($event) {\n                            _vm.titleValue = $event\n                          },\n                          focus: function($event) {\n                            _vm.errorData.titleError = \"\"\n                          }\n                        }\n                      })\n                    ],\n                    1\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"from-row\" }, [\n                  _vm._m(2),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"from-content\",\n                      on: {\n                        click: function($event) {\n                          _vm.errorData.msgError = \"\"\n                        }\n                      }\n                    },\n                    [\n                      _c(\"com-input\", {\n                        staticClass: \"msg-content\",\n                        attrs: {\n                          type: \"textarea\",\n                          value: _vm.wxContent,\n                          placeholder: \"请输入短信内容\",\n                          \"max-length\": 140,\n                          \"error-tips\": _vm.errorData.msgError\n                        },\n                        on: {\n                          \"update:value\": function($event) {\n                            _vm.wxContent = $event\n                          }\n                        }\n                      })\n                    ],\n                    1\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  {\n                    staticClass: \"from-row\",\n                    staticStyle: { padding: \"4px 12px\" }\n                  },\n                  [\n                    _c(\"div\", { staticClass: \"from-title\" }, [\n                      _vm._v(\"收信人：\")\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      { staticClass: \"from-content\" },\n                      [\n                        _c(\n                          \"el-button\",\n                          {\n                            staticClass: \"default-button select-receiver\",\n                            on: {\n                              click: function($event) {\n                                _vm.selectPersonShow = true\n                              }\n                            }\n                          },\n                          [_vm._v(\"选择收信人\")]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"ve-tips\", {\n                          attrs: {\n                            tip:\n                              \"微信通知只能发送给关注该公众号或服务号的人群，已选收件人中没有关注微信的，将无法收到该通知。\",\n                            tipType: \"html\"\n                          }\n                        }),\n                        _vm._v(\" \"),\n                        _vm.selectedPersonList.length\n                          ? _c(\n                              \"transition-group\",\n                              {\n                                staticClass: \"edit-groups\",\n                                attrs: { name: \"list\", tag: \"div\" }\n                              },\n                              _vm._l(_vm.selectedPersonList, function(\n                                person,\n                                idx\n                              ) {\n                                return _c(\n                                  \"span\",\n                                  { key: person.id, staticClass: \"list-item\" },\n                                  [\n                                    _vm._v(\n                                      _vm._s(person.name) +\n                                        \" (\" +\n                                        _vm._s(person.count) +\n                                        \"人）\\n                \"\n                                    ),\n                                    _c(\"i\", {\n                                      staticClass: \"iconfont icon-shanchu\",\n                                      on: {\n                                        click: function($event) {\n                                          _vm.delPerson(idx)\n                                        }\n                                      }\n                                    })\n                                  ]\n                                )\n                              })\n                            )\n                          : _vm._e()\n                      ],\n                      1\n                    )\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"from-row\" }, [\n                  _vm._m(3),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticClass: \"from-content\" },\n                    [\n                      [\n                        _c(\n                          \"el-radio\",\n                          {\n                            attrs: { label: \"SEND\" },\n                            model: {\n                              value: _vm.sendSetting,\n                              callback: function($$v) {\n                                _vm.sendSetting = $$v\n                              },\n                              expression: \"sendSetting\"\n                            }\n                          },\n                          [_vm._v(\"立即发送\")]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"el-radio\",\n                          {\n                            attrs: { label: \"AWAIT\" },\n                            model: {\n                              value: _vm.sendSetting,\n                              callback: function($$v) {\n                                _vm.sendSetting = $$v\n                              },\n                              expression: \"sendSetting\"\n                            }\n                          },\n                          [_vm._v(\"定时发送\")]\n                        )\n                      ]\n                    ],\n                    2\n                  )\n                ]),\n                _vm._v(\" \"),\n                _vm.pickDate\n                  ? _c(\"div\", { staticClass: \"from-row\" }, [\n                      _c(\"div\", { staticClass: \"from-title\" }, [\n                        _vm._v(\"选择时间：\")\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\n                        \"div\",\n                        { staticClass: \"from-content\" },\n                        [\n                          _c(\"el-date-picker\", {\n                            attrs: {\n                              editable: false,\n                              format: \"yyyy-MM-dd HH:mm:ss\",\n                              \"value-format\": \"yyyy-MM-dd HH:mm:ss\",\n                              type: \"datetime\",\n                              placeholder: \"选择日期时间\",\n                              \"picker-options\": _vm.pickerOptions\n                            },\n                            model: {\n                              value: _vm.date,\n                              callback: function($$v) {\n                                _vm.date = $$v\n                              },\n                              expression: \"date\"\n                            }\n                          })\n                        ],\n                        1\n                      )\n                    ])\n                  : _vm._e(),\n                _vm._v(\" \"),\n                _c(\"com-phone\", {\n                  attrs: {\n                    titleValue: _vm.titleValue,\n                    date: _vm.date,\n                    wxContent: _vm.wxContent\n                  }\n                })\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"btn-group\" },\n              [\n                _c(\n                  \"el-button\",\n                  {\n                    staticClass: \"default-button\",\n                    on: { click: _vm.testSend }\n                  },\n                  [_vm._v(\"测试发送\")]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"el-button\",\n                  { staticClass: \"primary-button\", on: { click: _vm.save } },\n                  [_vm._v(\"保存\")]\n                )\n              ],\n              1\n            )\n          ]),\n          _vm._v(\" \"),\n          _vm.selectPersonShow\n            ? _c(\n                \"message-box\",\n                {\n                  staticClass: \"select-person\",\n                  attrs: {\n                    width: \"740px\",\n                    type: \"prompt\",\n                    header: \"选择观众组\",\n                    confirmText: \"确认\"\n                  },\n                  on: { handleClick: _vm.handleSelectPerson }\n                },\n                [\n                  _c(\"div\", { staticClass: \"select-person-box\" }, [\n                    _c(\"div\", { staticClass: \"select-nav fl\" }, [\n                      _c(\"div\", { staticClass: \"select-item active\" }, [\n                        _c(\"i\", { staticClass: \"iconfont icon-fenzu\" }),\n                        _vm._v(\" \"),\n                        _c(\"span\", [_vm._v(\"分组\")])\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\"div\", { staticClass: \"select-item\" }, [\n                        _c(\"i\", { staticClass: \"iconfont icon-biaoqian\" }),\n                        _vm._v(\" \"),\n                        _c(\"span\", [_vm._v(\"标签\")])\n                      ])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"div\", { staticClass: \"select-content fl\" }, [\n                      _c(\n                        \"div\",\n                        { staticClass: \"search-person-box\" },\n                        [\n                          _c(\"com-input\", {\n                            staticClass: \"search-com\",\n                            attrs: {\n                              type: \"search\",\n                              value: _vm.searchPerson,\n                              placeholder: \"输入直播名称\"\n                            },\n                            on: {\n                              \"update:value\": function($event) {\n                                _vm.searchPerson = $event\n                              }\n                            },\n                            nativeOn: {\n                              keyup: function($event) {\n                                if (\n                                  !(\"button\" in $event) &&\n                                  _vm._k(\n                                    $event.keyCode,\n                                    \"enter\",\n                                    13,\n                                    $event.key,\n                                    \"Enter\"\n                                  )\n                                ) {\n                                  return null\n                                }\n                                return _vm.searchEnter($event)\n                              }\n                            }\n                          })\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"div\", { staticClass: \"select-person-box\" }, [\n                        _c(\n                          \"ul\",\n                          _vm._l(_vm.personList, function(person, idx) {\n                            return _c(\n                              \"li\",\n                              {\n                                key: person.id,\n                                class: { active: person.isChecked },\n                                on: {\n                                  click: function($event) {\n                                    $event.stopPropagation()\n                                    _vm.clickRow(idx)\n                                  }\n                                }\n                              },\n                              [\n                                _vm._v(\n                                  \"\\n                \" +\n                                    _vm._s(person.name) +\n                                    \" (\" +\n                                    _vm._s(person.count) +\n                                    \"人）\\n                \"\n                                ),\n                                _c(\"com-checkbox\", {\n                                  staticClass: \"fr\",\n                                  attrs: { small: \"\" },\n                                  model: {\n                                    value: person.isChecked,\n                                    callback: function($$v) {\n                                      _vm.$set(person, \"isChecked\", $$v)\n                                    },\n                                    expression: \"person.isChecked\"\n                                  }\n                                })\n                              ],\n                              1\n                            )\n                          })\n                        )\n                      ])\n                    ])\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"select-bottom\",\n                      attrs: { slot: \"bottom\" },\n                      slot: \"bottom\"\n                    },\n                    [\n                      _c(\"span\", { staticClass: \"select-all fl\" }, [\n                        _vm._v(\"已选择\" + _vm._s(_vm.selectedCount) + \"人：\")\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\n                        \"div\",\n                        {\n                          staticClass: \"select-list fl\",\n                          attrs: { title: _vm.selectedPersonListStr }\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.selectedPersonListStr) +\n                              \"\\n        \"\n                          )\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"button\",\n                        {\n                          staticClass: \"primary-button\",\n                          on: { click: _vm.okSelectList }\n                        },\n                        [_vm._v(\"确定\")]\n                      )\n                    ]\n                  )\n                ]\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.testModal\n            ? _c(\"com-test\", {\n                attrs: { imgUrl: _vm.qrImgurl, type: \"Wechat\" },\n                on: { closeTest: _vm.closeTest }\n              })\n            : _vm._e()\n        ],\n        1\n      )\n    ]\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"live-title\" }, [\n      _c(\"span\", { staticClass: \"title\" }, [_vm._v(\"创建微信通知\")])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"通知标题：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"微信内容：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"发送时间：\")\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"content\" v-ComLoading=\"loading\" com-loading-text=\"拼命加载中\">\r\n    <div class=\"edit-wx-page live-mager\">\r\n      <div class=\"live-title\">\r\n        <span class=\"title\">创建微信通知</span>\r\n      </div>\r\n      <div class='mager-box border-box'>\r\n        <div class=\"from-box \">\r\n          <div class=\"from-row\">\r\n            <div class=\"from-title\"><i class=\"star\">*</i>通知标题：</div>\r\n            <div class=\"from-content\">\r\n              <com-input :value.sync=\"titleValue\" placeholder=\"请输入标题\" :max-length=\"30\" class='msg-title' :error-tips=\"errorData.titleError\" @focus=\"errorData.titleError=''\"></com-input>\r\n            </div>\r\n          </div>\r\n          <div class=\"from-row\">\r\n            <div class=\"from-title\"><i class=\"star\">*</i>微信内容：</div>\r\n            <div class=\"from-content\" @click=\"errorData.msgError=''\">\r\n              <com-input type=\"textarea\" class=\"msg-content\" :value.sync=\"wxContent\" placeholder=\"请输入短信内容\" :max-length=\"140\" :error-tips=\"errorData.msgError\" ></com-input>\r\n            </div>\r\n          </div>\r\n          <div class=\"from-row\" style='padding:4px 12px;'>\r\n            <div class=\"from-title\">收信人：</div>\r\n            <div class=\"from-content\">\r\n              <el-button class='default-button select-receiver' @click='selectPersonShow=true'>选择收信人</el-button>\r\n              <ve-tips tip=\"微信通知只能发送给关注该公众号或服务号的人群，已选收件人中没有关注微信的，将无法收到该通知。\" :tipType=\"'html'\"></ve-tips>\r\n              <transition-group name=\"list\" class=\"edit-groups\" tag=\"div\" v-if=\"selectedPersonList.length\">\r\n                <span class=\"list-item\" v-for=\"(person,idx) in selectedPersonList\" :key=\"person.id\">{{person.name}} ({{person.count}}人）\r\n                  <i class=\"iconfont icon-shanchu\" @click=\"delPerson(idx)\"></i>\r\n                </span>\r\n              </transition-group>\r\n            </div>\r\n          </div>\r\n          <div class=\"from-row\">\r\n            <div class=\"from-title\"><i class=\"star\">*</i>发送时间：</div>\r\n            <div class=\"from-content\">\r\n              <template>\r\n                <el-radio v-model=\"sendSetting\" label=\"SEND\">立即发送</el-radio>\r\n                <el-radio v-model=\"sendSetting\" label=\"AWAIT\">定时发送</el-radio>\r\n              </template>\r\n              <!-- <el-select v-model=\"sendValue\" placeholder=\"请选择\">\r\n                <el-option v-for=\"item in sendOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select> -->\r\n            </div>\r\n          </div>\r\n          <div class=\"from-row\" v-if='pickDate'>\r\n            <div class=\"from-title\">选择时间：</div>\r\n            <div class=\"from-content\">\r\n              <el-date-picker v-model=\"date\" :editable=\"false\" format='yyyy-MM-dd HH:mm:ss' value-format=\"yyyy-MM-dd HH:mm:ss\" type=\"datetime\" placeholder=\"选择日期时间\" :picker-options=\"pickerOptions\">\r\n              </el-date-picker>\r\n            </div>\r\n          </div>\r\n          <!-- 模拟手机预览 -->\r\n          <com-phone :titleValue='titleValue' :date='date' :wxContent='wxContent' ></com-phone>\r\n        </div>\r\n        <div class=\"btn-group\">\r\n          <el-button class='default-button' @click=\"testSend\">测试发送</el-button>\r\n          <el-button class='primary-button' @click=\"save\">保存</el-button>\r\n        </div>\r\n      </div>\r\n      <!-- 选择收件人 -->\r\n      <message-box\r\n        v-if=\"selectPersonShow\"\r\n        width=\"740px\"\r\n        type=\"prompt\"\r\n        header=\"选择观众组\"\r\n        confirmText='确认'\r\n        class=\"select-person\"\r\n        @handleClick=\"handleSelectPerson\">\r\n        <div class=\"select-person-box\">\r\n          <div class=\"select-nav fl\">\r\n            <div class=\"select-item active\">\r\n              <i class=\"iconfont icon-fenzu\"></i>\r\n              <span>分组</span>\r\n            </div>\r\n            <div class=\"select-item\">\r\n              <i class=\"iconfont icon-biaoqian\"></i>\r\n              <span>标签</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"select-content fl\">\r\n            <div class=\"search-person-box\">\r\n              <com-input type=\"search\"\r\n                         class=\"search-com\"\r\n                         :value.sync=\"searchPerson\"\r\n                         @keyup.native.enter=\"searchEnter\"\r\n                         placeholder=\"输入直播名称\"></com-input>\r\n            </div>\r\n            <div class=\"select-person-box\">\r\n              <ul>\r\n                <li\r\n                  v-for=\"(person,idx) in personList\"\r\n                  @click.stop=\"clickRow(idx)\"\r\n                  :class=\"{active:person.isChecked}\"\r\n                  :key=\"person.id\">\r\n                  {{person.name}} ({{person.count}}人）\r\n                  <com-checkbox v-model=\"person.isChecked\" class=\"fr\" small></com-checkbox>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div slot=\"bottom\" class=\"select-bottom\">\r\n          <span class=\"select-all fl\">已选择{{selectedCount}}人：</span>\r\n          <div class=\"select-list fl\" :title=\"selectedPersonListStr\">\r\n            {{selectedPersonListStr}}\r\n          </div>\r\n          <button class=\"primary-button\" @click=\"okSelectList\">确定</button>\r\n        </div>\r\n      </message-box>\r\n      <!-- 测试发送弹窗 -->\r\n      <com-test  :imgUrl=\"qrImgurl\" v-if='testModal'  @closeTest='closeTest' :type=\"'Wechat'\"></com-test>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import ChatService from 'components/chat/ChatService.js'\r\n  import playbackService from 'src/api/playback-service'\r\n  import noticeService from 'src/api/notice-service'\r\n  import comTest from '../com-test'\r\n  import comPhone from '../com-phone'\r\n  import veTips from 'src/components/ve-msg-tips'\r\n  import ChatConfig from 'src/api/chat-config'\r\n  export default {\r\n    data () {\r\n      return {\r\n        inviteId: this.$route.query.id, // 签名列表传过来的id\r\n        activityId: this.$route.params.id,\r\n        testModal: false,\r\n        tabValue: 1,\r\n        searchTitle: '',\r\n        titleValue: '',\r\n        groupIdx: 0,\r\n        tagIdx: 0,\r\n        tplOptions: [{\r\n          value: 1,\r\n          label: '活动邀请'\r\n        }, {\r\n          value: 2,\r\n          label: '活动推荐'\r\n        }],\r\n        // sendOptions: [{\r\n        //   value: 'AWAIT',\r\n        //   label: '定时发送'\r\n        // }, {\r\n        //   value: 'SEND',\r\n        //   label: '立即发送'\r\n        // }, {\r\n        //   value: 'DRAFT',\r\n        //   label: '暂存为草稿'\r\n        // }],\r\n        // sendValue: '',\r\n        sendSetting: 'SEND',\r\n        wxContent: '',\r\n        qrImgurl: '',\r\n        pickDate: false,\r\n        date: '',\r\n        pickerOptions: {\r\n          disabledDate (time) {\r\n            return time.getTime() < Date.now() - 8.64e7\r\n          }\r\n        },\r\n        loading: false,\r\n        searchPerson: '',\r\n        personList: [{ id: '', name: '', count: 0, isChecked: false }],\r\n        selectedPersonList: [{ id: '', name: '', count: 0, isChecked: false }],\r\n        selectedPersonListStr: '',\r\n        selectPersonShow: false,\r\n        selectedCount: 0,\r\n        errorData: {\r\n          titleError: '',\r\n          msgError: '',\r\n          tagError: ''\r\n        },\r\n        isValided: false,\r\n        routerPass: false,\r\n        sdkParam: {}\r\n      }\r\n    },\r\n    created () {\r\n      this.initSdk()\r\n      this.queryPersonList()\r\n      if (this.inviteId) {\r\n        this.$config({ loading: true }).$get(noticeService.GET_QUERY_WECHAT, {\r\n          inviteId: this.inviteId\r\n        }).then((res) => {\r\n          this.titleValue = res.data.title\r\n          this.sendSetting = res.data.status\r\n          this.date = res.data.sendTime ? res.data.sendTime.toString() : res.data.planTime.toString()\r\n          this.wxContent = res.data.desc\r\n        })\r\n      }\r\n    },\r\n    methods: {\r\n      closeModal (e) {\r\n        if (e.target.className === 'modal-cover') {\r\n          this.testModal = false\r\n          this.groupIdx = 0\r\n          this.tagIdx = 0\r\n        }\r\n      },\r\n      chooseGroup (idx) {\r\n        this.groupIdx = idx\r\n      },\r\n      chooseTag (idx) {\r\n        this.tagIdx = idx\r\n      },\r\n      save () {\r\n        let data = {\r\n          inviteId: this.inviteId,\r\n          activityId: this.$route.params.id,\r\n          title: this.titleValue,\r\n          groupId: '1', // 分组id\r\n          status: this.sendSetting.toLowerCase(),\r\n          desc: this.wxContent,\r\n          planTime: this.date\r\n        }\r\n        if (!this.formValid()) {\r\n          return false\r\n        }\r\n        this.$nextTick((res) => {\r\n          // 更新\r\n          this.$post(noticeService.POST_SAVE_WECHAT, data).then((res) => {\r\n          // console.log(res)\r\n            this.$toast({\r\n              content: '保存成功',\r\n              position: 'center'\r\n            })\r\n            this.routerPass = true\r\n            // 跳转到列表页面\r\n            this.$router.push({ name: 'promoteWechat', params: { id: this.activityId } })\r\n          })\r\n        })\r\n      },\r\n      testSend () {\r\n        if (!this.formValid()) {\r\n          return false\r\n        }\r\n        this.$nextTick((res) => {\r\n          if (this.isValided) {\r\n            this.testModal = true\r\n            this.qrImgurl = `http://aliqr.e.vhall.com/qr.png?t=${encodeURIComponent(`http://${window.location.host}/api/expand/wechat-invite/test-send?content=${this.wxContent}&activityId=${this.activityId}`)}`\r\n          }\r\n        })\r\n      },\r\n      closeTest () {\r\n      // debugger\r\n        this.testModal = false\r\n      },\r\n      /* enter搜索 */\r\n      searchEnter () {\r\n        this.queryPersonList()\r\n      },\r\n      /* 点击确定 */\r\n      okSelectList () {\r\n        this.selectPersonShow = false\r\n      },\r\n      /* 点击取消 */\r\n      handleSelectPerson (e) {\r\n        if (e.action === 'cancel') {\r\n          this.selectPersonShow = false\r\n        }\r\n      },\r\n      /* 选中行 */\r\n      clickRow (idx) {\r\n        this.personList[idx].isChecked = !this.personList[idx].isChecked\r\n      },\r\n      /* 删除标签 */\r\n      delPerson (idx) {\r\n        const delIdx = this.personList.indexOf(this.selectedPersonList[idx])\r\n        this.personList[delIdx].isChecked = false\r\n      },\r\n      /* 查询人员 */\r\n      queryPersonList () {\r\n        this.$get(noticeService.GET_PERSON_LIST, {\r\n          activityId: this.$route.params.id,\r\n          name: this.searchPerson\r\n        }).then((res) => {\r\n          let temArray = []\r\n          res.data.forEach((item) => {\r\n            temArray.push({\r\n              id: item.id,\r\n              name: item.name,\r\n              count: 0,\r\n              isChecked: false\r\n            })\r\n          })\r\n          this.personList = temArray\r\n        })\r\n        // createHttp.queryPersonList({\r\n\r\n        // }).then((res) => {\r\n\r\n        // })\r\n      },\r\n      /* 验证 */\r\n      formValid () {\r\n        this.errorData.titleError = this.titleValue.length ? '' : '请输入通知标题'\r\n        this.errorData.msgError = this.wxContent.length ? '' : '请输入微信内容'\r\n        // this.errorData.tagError = this.msgTag.length ? '' : '请输入短信标签'\r\n        if (this.titleValue.length && this.wxContent.length) {\r\n          this.isValided = true\r\n          return true\r\n        } else {\r\n          this.isValided = false\r\n          return false\r\n        }\r\n      },\r\n      listenMsg (msg) {\r\n        console.log(msg)\r\n      },\r\n      initSdk () {\r\n        /* 获取pass信息 */\r\n        this.$get(playbackService.GET_PAAS_SDK_INFO).then((res) => {\r\n          // this.vhallParams = res.data\r\n          /* $nextTick保证dom被渲染之后进行paas插件初始化 */\r\n          this.$nextTick(() => {\r\n            // 初始化pass上传插件\r\n            // this.initVhallUpload()\r\n            this.sdkParam.sign = res.data.sign\r\n            this.sdkParam.signed_at = res.data.signedAt\r\n            this.sdkParam.app_id = res.data.appId\r\n            this.sdkPlayParam = {\r\n              app_id: res.data.appId,\r\n              accountId: res.data.accountId,\r\n              token: res.data.token,\r\n              recordId: '',\r\n              linkVideo: ''\r\n            }\r\n          })\r\n        })\r\n        this.initMsgServe()\r\n      },\r\n      async initMsgServe () {\r\n        const regActivity = await this.$get(playbackService.GET_REG_ACTIVITY, {\r\n          activityId: this.activityId\r\n        }).then(res => {\r\n          return res.data\r\n        })\r\n        const roomInfo = await this.$get(playbackService.GET_REG_SDK_INFO, {\r\n          activityId: this.activityId,\r\n          activityUserId: regActivity.activityUserId\r\n        }).then(res => {\r\n          return res.data\r\n        })\r\n        ChatService.OBJ.init({\r\n          accountId: roomInfo.accountId,\r\n          token: roomInfo.token,\r\n          appId: roomInfo.appId,\r\n          channelId: roomInfo.channelRoom\r\n        })\r\n        /* 监听微信测试发送成功消息 */\r\n        ChatService.OBJ.regHandler(ChatConfig.wechat_msg, (msg) => {\r\n          console.log(msg)\r\n          debugger\r\n        })\r\n      }\r\n    },\r\n    /* 路由守卫，离开当前页面之前被调用 */\r\n    beforeRouteLeave (to, from, next) {\r\n      if (this.routerPass) {\r\n        next(true)\r\n        return false\r\n      }\r\n      this.$messageBox({\r\n        header: '提示',\r\n        width: '400px',\r\n        content: '是否放弃当前编辑？',\r\n        cancelText: '否',\r\n        confirmText: '是',\r\n        handleClick: (e) => {\r\n          if (e.action === 'confirm') {\r\n            next(true)\r\n          } else {\r\n            next(false)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    watch: {\r\n      sendSetting: {\r\n        handler (newValue) {\r\n          newValue === 'AWAIT' ? this.pickDate = true : this.pickDate = false\r\n        }\r\n      },\r\n      personList: {\r\n        handler (newArray) {\r\n          let temArray = []\r\n          let listStr = ''\r\n          newArray.forEach((item, idx) => {\r\n            if (!item.isChecked) return\r\n            temArray.push(item)\r\n            this.selectedCount += item.count\r\n            listStr += `${item.name} (${item.count}人）、`\r\n          })\r\n          this.selectedPersonListStr = listStr.substring(0, listStr.length - 1)\r\n          this.selectedPersonList = temArray\r\n        },\r\n        deep: true\r\n      }\r\n    },\r\n    components: {\r\n      comTest,\r\n      comPhone,\r\n      veTips\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped src=\"../../css/live.scss\">\r\n</style>\r\n<style lang=\"scss\">\r\n.edit-wx-page.live-mager .live-title {\r\n  border-bottom: none;\r\n}\r\n.apply-page .el-select .el-input__inner {\r\n  border: 1px solid #e2d2d2;\r\n}\r\n.el-input.is-disabled .el-input__inner {\r\n  background-color: #fff;\r\n  color: #555;\r\n}\r\n\r\n.spe.moblie .el-select .el-input__inner {\r\n  padding-left: 25px;\r\n}\r\n.edit-wx-page.live-mager .from-title {\r\n  line-height: 40px;\r\n}\r\n</style>\r\n<style lang='scss' scoped>\r\n@import '~assets/css/mixin.scss';\r\n\r\n.edit-wx-page {\r\n  // height: 730px;\r\n  position: relative;\r\n  .select-receiver {\r\n    padding: 0;\r\n    margin: 3px 0;\r\n    width: 100px;\r\n    height: 34px;\r\n    line-height: 34px;\r\n    border-radius: 20px;\r\n    margin-right: 10px;\r\n    border: 1px solid rgba(136, 136, 136, 1);\r\n  }\r\n  .el-radio {\r\n    padding: 12px 0;\r\n    color: $color-font;\r\n  }\r\n  .from-title {\r\n    color: $color-font-sub;\r\n  }\r\n  .btn-group {\r\n    padding: 0;\r\n    button {\r\n      width: 140px;\r\n      height: 40px;\r\n      line-height: 40px;\r\n    }\r\n  }\r\n  .mager-box {\r\n    min-height: 730px;\r\n  }\r\n  .form-box {\r\n    position: relative;\r\n  }\r\n  .btn-group {\r\n    display: block;\r\n    margin: 0 auto;\r\n    width: 295px;\r\n    button {\r\n      padding: 0px;\r\n      width: 140px;\r\n      height: 40px;\r\n      line-height: 40px;\r\n    }\r\n  }\r\n  .edit-groups {\r\n    margin-top: 15px;\r\n    width: 500px;\r\n    span {\r\n      display: inline-block;\r\n      background-color: #f0f1fe;\r\n      border-radius: 17px;\r\n      padding: 8px 10px;\r\n      margin-right: 10px;\r\n      margin-bottom: 10px;\r\n      i {\r\n        color: #4b5afe;\r\n        &:hover {\r\n          cursor: pointer;\r\n          opacity: 0.8;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.modal-cover {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba($color: #000000, $alpha: 0.5);\r\n  z-index: 9;\r\n}\r\n.msg-content,\r\n.msg-title {\r\n  width: 440px;\r\n}\r\n.msg-content {\r\n  height: 90px;\r\n}\r\n.modal-box {\r\n  width: 700px;\r\n  height: 500px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  margin-top: -250px;\r\n  margin-left: -350px;\r\n  background: white;\r\n  border-radius: 10px;\r\n  border: 1px solid #666;\r\n  padding: 30px;\r\n  text-align: center;\r\n  .top {\r\n    span {\r\n      float: left;\r\n    }\r\n    span.search {\r\n      float: right;\r\n    }\r\n  }\r\n  h4 {\r\n    height: 40px;\r\n    line-height: 40px;\r\n    text-align: left;\r\n    border-bottom: 1px solid #ccc;\r\n    .close {\r\n      float: right;\r\n    }\r\n  }\r\n  .content-box {\r\n    padding: 10px 0px;\r\n  }\r\n  .btm {\r\n    span {\r\n      float: left;\r\n    }\r\n    button {\r\n      float: right;\r\n    }\r\n    i {\r\n      display: inline-block;\r\n      padding: 5px 10px;\r\n      border: 1px solid #ccc;\r\n      margin: 0 3px;\r\n    }\r\n  }\r\n}\r\n\r\n.modal-box .list {\r\n  & > li {\r\n    height: 50px;\r\n    line-height: 50px;\r\n    text-align: left;\r\n    .choose {\r\n      cursor: pointer;\r\n      float: right;\r\n    }\r\n  }\r\n}\r\n\r\n.modal-box .right {\r\n  width: 500px;\r\n}\r\n\r\n.qrcode {\r\n  display: block;\r\n  margin: 20px auto;\r\n  width: 200px;\r\n  height: 200px;\r\n  border: 1px solid #ccc;\r\n}\r\n.live-mager .mager-box .from-box {\r\n  margin: 40px 0 0 0;\r\n  height: 600px;\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=08eecc18&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"../../css/live.scss?vue&type=style&index=0&id=08eecc18&lang=scss&scoped=true&\"\nimport style1 from \"./edit.vue?vue&type=style&index=1&lang=scss&\"\nimport style2 from \"./edit.vue?vue&type=style&index=2&id=08eecc18&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08eecc18\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\work\\\\saas营销\\\\fe_management\\\\node_modules\\\\_vue-hot-reload-api@2.3.0@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('08eecc18', component.options)\n    } else {\n      api.reload('08eecc18', component.options)\n    }\n    module.hot.accept(\"./edit.vue?vue&type=template&id=08eecc18&scoped=true&\", function () {\n      api.rerender('08eecc18', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/live-mager/promote/wechat/edit.vue\"\nexport default component.exports"],"sourceRoot":""}