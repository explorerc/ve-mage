{"version":3,"sources":["webpack:///./src/pages/sales-tools/recommend-cards/detail.vue?54f3","webpack:///./src/pages/sales-tools/recommend-cards/detail.vue?e7dc","webpack:///./src/pages/sales-tools/recommend-cards/detail.vue?a673","webpack:///src/pages/sales-tools/recommend-cards/detail.vue","webpack:///./src/pages/sales-tools/recommend-cards/detail.vue"],"names":["_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_detail_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","cardId","_m","attrs","value","title","placeholder","max-length","error-tips","titleError","on","update:value","$event","focus","accept","defaultImg","fileSize","errorMsg","uploadImgErrorMsg","error","uploadError","success","uploadImgSuccess","type","desc","inactive-color","width","active-color","change","switchChange","model","btnSwitch","callback","$$v","expression","btnTxt","btnTxtError","_e","btnLink","btnLinkError","click","save","poster","length","src","imgHost","to","target","_withStripped","recommend_cards_detailvue_type_script_lang_js_","data","activityId","$route","params","id","img","query","saveData","canSave","mounted","getDetail","methods","verify","activity_id","recommend_card_id","pic","btn_display","btn_text","btn_link","saveCard","updateCard","name","console","log","msg","res","_this","$post","salesCards_service","POST_CREATE_CARD","then","$toast","content","position","$router","push","_this2","POST_UPDATE_CARD","setTimeout","_this3","$config","loading","$get","GET_CARDS_DETAIL","computed","$imgHost","components","VeUpload","ve_upload_image","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/52.971dd28a.js","sourcesContent":["import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&scope=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&scope=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"wrap-page card-page\" }, [\n    _c(\"div\", { staticClass: \"page-title\" }, [\n      _c(\"span\", { staticClass: \"title\" }, [\n        _vm._v(_vm._s(_vm.cardId === \"new\" ? \"创建\" : \"编辑\") + \"卡片\")\n      ])\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"content from-box\" }, [\n      _c(\"div\", { staticClass: \"from-row\" }, [\n        _vm._m(0),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"from-content\" },\n          [\n            _c(\"com-input\", {\n              attrs: {\n                value: _vm.title,\n                placeholder: \"请输入卡片名称\",\n                \"max-length\": 15,\n                \"error-tips\": _vm.titleError\n              },\n              on: {\n                \"update:value\": function($event) {\n                  _vm.title = $event\n                },\n                focus: function($event) {\n                  _vm.titleError = \"\"\n                }\n              }\n            })\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"from-row\" }, [\n        _vm._m(1),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"from-content\" },\n          [\n            _c(\"ve-upload\", {\n              attrs: {\n                title: \"jpg、png、bmp<br>大小不超过2M\",\n                accept: \"png|jpg|bmp\",\n                defaultImg: _vm.defaultImg,\n                fileSize: 2048,\n                errorMsg: _vm.uploadImgErrorMsg\n              },\n              on: { error: _vm.uploadError, success: _vm.uploadImgSuccess }\n            })\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"from-row\" }, [\n        _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"卡片描述：\")]),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"from-content\" },\n          [\n            _c(\"com-input\", {\n              staticClass: \"msg-content\",\n              attrs: {\n                type: \"textarea\",\n                value: _vm.desc,\n                placeholder: \"请输入卡片描述\",\n                \"max-length\": 140\n              },\n              on: {\n                \"update:value\": function($event) {\n                  _vm.desc = $event\n                }\n              }\n            })\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"from-row\" }, [\n        _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"显示按钮：\")]),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"from-content switch-box\" },\n          [\n            _c(\"el-switch\", {\n              staticClass: \"switch\",\n              attrs: {\n                \"inactive-color\": \"#DEE1FF\",\n                width: 32,\n                \"active-color\": \"#FFD021\"\n              },\n              on: {\n                change: function($event) {\n                  _vm.switchChange()\n                }\n              },\n              model: {\n                value: _vm.btnSwitch,\n                callback: function($$v) {\n                  _vm.btnSwitch = $$v\n                },\n                expression: \"btnSwitch\"\n              }\n            })\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _vm.btnSwitch\n        ? _c(\"div\", { staticClass: \"from-row\" }, [\n            _vm._m(2),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"from-content\" },\n              [\n                _c(\"com-input\", {\n                  attrs: {\n                    value: _vm.btnTxt,\n                    placeholder: \"请输入按钮文案\",\n                    \"max-length\": 6,\n                    \"error-tips\": _vm.btnTxtError\n                  },\n                  on: {\n                    \"update:value\": function($event) {\n                      _vm.btnTxt = $event\n                    },\n                    focus: function($event) {\n                      _vm.btnTxtError = \"\"\n                    }\n                  }\n                })\n              ],\n              1\n            )\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.btnSwitch\n        ? _c(\"div\", { staticClass: \"from-row\" }, [\n            _vm._m(3),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"from-content\" },\n              [\n                _c(\"com-input\", {\n                  attrs: {\n                    value: _vm.btnLink,\n                    placeholder: \"请输入按钮链接\",\n                    \"error-tips\": _vm.btnLinkError\n                  },\n                  on: {\n                    \"update:value\": function($event) {\n                      _vm.btnLink = $event\n                    },\n                    focus: function($event) {\n                      _vm.btnLinkError = \"\"\n                    }\n                  }\n                })\n              ],\n              1\n            )\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"from-row\" }, [\n        _c(\"div\", { staticClass: \"from-title\" }),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"from-content btn-box\" },\n          [\n            _c(\n              \"el-button\",\n              {\n                staticClass: \"primary-button save-btn\",\n                on: { click: _vm.save }\n              },\n              [_vm._v(\"保存\")]\n            )\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"overview\" }, [\n        _c(\"dl\", [\n          _c(\"dt\", [\n            !_vm.poster.length\n              ? _c(\"div\", { staticClass: \"img img-empty\" })\n              : _c(\"img\", {\n                  staticClass: \"img\",\n                  attrs: { src: _vm.imgHost + \"/\" + _vm.poster }\n                })\n          ]),\n          _vm._v(\" \"),\n          _vm.desc.length > 0\n            ? _c(\"dd\", { staticClass: \"desc\" }, [_vm._v(_vm._s(_vm.desc))])\n            : _c(\"dd\", { staticClass: \"desc\" }, [\n                _vm._v(\"此处是卡片描述，最多可添加140个字\")\n              ]),\n          _vm._v(\" \"),\n          _vm.btnSwitch\n            ? _c(\n                \"dd\",\n                { staticClass: \"btn-dd\" },\n                [\n                  _c(\n                    \"router-link\",\n                    { attrs: { to: _vm.btnLink, target: \"_blank\" } },\n                    [\n                      _c(\"el-button\", { staticClass: \"primary-button btn\" }, [\n                        _vm._v(\n                          _vm._s(_vm.btnTxt.length > 0 ? _vm.btnTxt : \"按钮\")\n                        )\n                      ])\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            : _vm._e()\n        ]),\n        _vm._v(\" \"),\n        _vm._m(4)\n      ])\n    ])\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"卡片名称：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"卡片图片：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"按钮文案：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"按钮链接：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"tips\" }, [\n      _c(\"p\", { staticClass: \"title\" }, [_vm._v(\"卡片预览\")]),\n      _vm._v(\" \"),\n      _c(\"p\", { staticClass: \"txt\" }, [\n        _vm._v(\"功能说明：\"),\n        _c(\"br\"),\n        _vm._v(\n          \"设置好的推荐卡片可以由主播在直播中推送 给观众，推送时机主播可以自行控制。 在推荐卡片中嵌入链接可能会导致推送时观 众跳入链接进行浏览，从侧面造成直播观看 人数下降，请合理使用。\"\n        )\n      ])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","<template>\n  <div class='wrap-page card-page'>\n    <div class=\"page-title\">\n      <span class=\"title\">{{cardId === 'new' ? '创建' :'编辑'}}卡片</span>\n    </div>\n    <div class=\"content from-box\">\n      <div class=\"from-row\">\n        <div class=\"from-title\"><i class=\"star\">*</i>卡片名称：</div>\n        <div class=\"from-content\">\n          <com-input :value.sync=\"title\" placeholder=\"请输入卡片名称\" :max-length=\"15\" :error-tips='titleError' @focus=\"titleError=''\"></com-input>\n        </div>\n      </div>\n      <div class=\"from-row\">\n        <div class=\"from-title\"><i class=\"star\">*</i>卡片图片：</div>\n        <div class=\"from-content\">\n          <ve-upload title=\"jpg、png、bmp<br>大小不超过2M\" accept=\"png|jpg|bmp\" :defaultImg=\"defaultImg\" :fileSize=\"2048\" :errorMsg=\"uploadImgErrorMsg\" @error=\"uploadError\" @success=\"uploadImgSuccess\"></ve-upload>\n        </div>\n      </div>\n      <div class=\"from-row\">\n        <div class=\"from-title\">卡片描述：</div>\n        <div class=\"from-content\">\n              <com-input type=\"textarea\"\n                         class=\"msg-content\"\n                         :value.sync=\"desc\"\n                         placeholder=\"请输入卡片描述\"\n                         :max-length=\"140\"></com-input>\n        </div>\n      </div>\n      <div class=\"from-row\">\n        <div class=\"from-title\">显示按钮：</div>\n        <div class=\"from-content switch-box\">\n          <el-switch  class='switch' v-model=\"btnSwitch\" inactive-color=\"#DEE1FF\" :width=\"32\" active-color=\"#FFD021\" @change=\"switchChange()\"></el-switch>\n        </div>\n      </div>\n      <div class=\"from-row\" v-if=\"btnSwitch\">\n        <div class=\"from-title\"><i class=\"star\">*</i>按钮文案：</div>\n        <div class=\"from-content\">\n          <com-input :value.sync=\"btnTxt\" placeholder=\"请输入按钮文案\" :max-length=\"6\" :error-tips=\"btnTxtError\" @focus=\"btnTxtError = ''\"></com-input>\n        </div>\n      </div>\n      <div class=\"from-row\" v-if=\"btnSwitch\">\n        <div class=\"from-title\"><i class=\"star\">*</i>按钮链接：</div>\n        <div class=\"from-content\">\n          <com-input :value.sync=\"btnLink\" placeholder=\"请输入按钮链接\" :error-tips=\"btnLinkError\" @focus=\"btnLinkError = ''\"></com-input>\n        </div>\n      </div>\n      <div class=\"from-row\">\n        <div class=\"from-title\"></div>\n        <div class=\"from-content btn-box\">\n          <el-button class='primary-button save-btn' @click='save'>保存</el-button>\n        </div>\n      </div>\n      <div class=\"overview\">\n        <dl>\n          <dt>\n            <div class=\"img img-empty\" v-if=\"!poster.length\"></div>\n            <img class=\"img\" :src=\"`${imgHost}/${poster}`\" v-else>\n          </dt>\n          <dd class='desc' v-if=\"desc.length>0\">{{desc}}</dd>\n          <dd class='desc' v-else>此处是卡片描述，最多可添加140个字</dd>\n          <dd class='btn-dd' v-if=\"btnSwitch\"><router-link :to=\"btnLink\" target=\"_blank\"><el-button class='primary-button btn'>{{btnTxt.length>0 ? btnTxt:'按钮'}}</el-button></router-link></dd>\n        </dl>\n        <div class=\"tips\">\n          <p class=\"title\">卡片预览</p>\n          <p class=\"txt\">功能说明：<br>设置好的推荐卡片可以由主播在直播中推送 给观众，推送时机主播可以自行控制。 在推荐卡片中嵌入链接可能会导致推送时观 众跳入链接进行浏览，从侧面造成直播观看 人数下降，请合理使用。</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import VeUpload from 'src/components/ve-upload-image'\n  import cardService from 'src/api/salesCards-service.js'\n  export default {\n    data () {\n      return {\n        activityId: this.$route.params.id,\n        title: '',\n        titleError: '',\n        img: '',\n        desc: '',\n        btnSwitch: false,\n        btnTxt: '',\n        btnTxtError: '',\n        btnLink: '',\n        btnLinkError: '',\n        poster: '',\n        imgHost: process.env.IMGHOST + '/',\n        uploadImgErrorMsg: '',\n        cardId: this.$route.query.cardId,\n        saveData: '',\n        canSave: false\n      }\n    },\n    mounted () {\n      if (this.cardId !== 'new') {\n        this.getDetail(this.cardId)\n      }\n    },\n    methods: {\n      save () {\n        this.verify()\n        if (!this.canSave) {\n          return false\n        }\n        this.saveData = {\n          activity_id: this.activityId,\n          recommend_card_id: this.cardId === 'new' ? '' : this.cardId,\n          title: this.title,\n          pic: this.poster,\n          desc: this.desc,\n          btn_display: this.btnSwitch ? 'Y' : 'N',\n          btn_text: this.btnTxt,\n          btn_link: this.btnLink\n        }\n        if (this.cardId === 'new') { // 新建\n          this.saveCard()\n        } else { // 编辑\n          this.updateCard()\n        }\n      },\n      uploadImgSuccess (data) {\n        this.poster = data.name\n      },\n      uploadError (data) {\n        console.log('上传失败:', data)\n        this.uploadImgErrorMsg = data.msg\n      },\n      switchChange (res) {\n\n      },\n      saveCard () {\n        this.$post(cardService.POST_CREATE_CARD, this.saveData).then((res) => {\n          this.$toast({\n            content: '保存成功',\n            position: 'center'\n          })\n          this.$router.push(`/salesTools/recommendCards/${this.activityId}`)\n        })\n      },\n      updateCard () {\n        this.$post(cardService.POST_UPDATE_CARD, this.saveData).then((res) => {\n          this.$toast({\n            content: '更新成功',\n            position: 'center'\n          })\n          setTimeout(() => {\n            this.$router.push(`/salesTools/recommendCards/${this.activityId}`)\n          }, 500)\n        })\n      },\n      verify () {\n        this.title.length ? this.titleError = '' : this.titleError = '请输入卡片标题'\n        this.poster.length ? this.uploadImgErrorMsg = '' : this.uploadImgErrorMsg = '请上传卡片图片'\n        if (this.btnSwitch) {\n          this.btnTxt.length ? this.btnTxtError = '' : this.btnTxtError = '请输入按钮文案'\n          this.btnLink.length ? this.btnLinkError = '' : this.btnLinkError = '请输入按钮文案'\n        } else {\n          this.canSave = false\n        }\n        if (this.title.length && this.poster.length) {\n          if (this.btnSwitch) {\n            if (this.btnTxt.length && this.btnLink.length) {\n              this.canSave = true\n            } else {\n              this.canSave = false\n            }\n          } else {\n            this.canSave = true\n          }\n        } else {\n          this.canSave = false\n        }\n      },\n      getDetail (id) {\n        this.$config({loading: true}).$get(cardService.GET_CARDS_DETAIL, {\n          recommend_card_id: id\n        }).then((res) => {\n          this.title = res.data.title\n          this.poster = res.data.pic\n          this.btnSwitch = res.data.btn_display === 'Y'\n          this.btnTxt = res.data.btn_text\n          this.btnLink = res.data.btn_link\n          this.desc = res.data.desc\n        })\n      }\n    },\n    computed: {\n      defaultImg () {\n        return this.poster ? `${this.$imgHost}/${this.poster}` : ''\n      }\n    },\n    components: {\n      VeUpload\n    }\n  }\n</script>\n\n<style lang='scss' scope>\n@import '~assets/css/mixin.scss';\n@import './common.scss';\n.card-page {\n  .from-row {\n    display: flex;\n    padding: 12px;\n    .from-title {\n      width: 180px;\n      text-align: right;\n      padding-right: 20px;\n      color: #555;\n      line-height: 40px;\n      .star {\n        position: relative;\n        top: 3px;\n        color: $color-red;\n        padding-right: 5px;\n      }\n    }\n    .error /deep/ {\n      .el-input__inner {\n        border: 1px solid $color-red;\n      }\n      .default-button {\n        border: 1px solid $color-red;\n      }\n    }\n    .from-content {\n      position: relative;\n      flex: 1;\n      .error-msg {\n        display: block;\n        color: $color-red;\n        margin-left: 10px;\n      }\n      .input-box {\n        width: 400px;\n      }\n      .from-msg-tip {\n        position: absolute;\n        top: -2px;\n        width: 100%;\n        left: 200px;\n      }\n      &.switch-box {\n        line-height: 40px;\n        // .el-switch__core {\n        //   height: 26px;\n        //   border-radius: 38px;\n        //   .el-switch__button {\n        //     width: 22px;\n        //     height: 22px;\n        //   }\n        // }\n      }\n      .msg-content {\n        width: 440px;\n        height: 200px;\n        .limit.area {\n          right: 12px;\n          bottom: 10px;\n        }\n      }\n      &.btn-box {\n        // text-align: center;\n      }\n      .ve-upload-box {\n        width: 140px;\n        .upload-img-box {\n          width: 100%;\n          .temp-img {\n            background-size: 100%;\n            background-repeat: no-repeat;\n          }\n        }\n        .upload-file-box {\n          width: 100%;\n        }\n      }\n      .com-input {\n        width: 440px;\n        textarea::-webkit-input-placeholder {\n          color: #888888;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n  .content {\n    position: relative;\n    .overview {\n      position: absolute;\n      top: 40px;\n      right: 123px;\n      width: 280px;\n      .img-empty {\n        background: url('~assets/image/cards-group.jpg') no-repeat center;\n        background-size: 140px 100px;\n      }\n    }\n    .overview dl {\n      text-align: center;\n      padding: 20px;\n      width: 100%;\n      border: 1px solid #d9d9d9;\n      border-radius: 4px;\n      .img {\n        width: 240px;\n        height: 200px;\n        border: 1px dashed #d9d9d9;\n        border-radius: 4px;\n        margin: 0 auto;\n      }\n      .desc {\n        padding: 20px 0;\n        color: #888;\n        word-break: break-all;\n      }\n      a:hover .btn {\n        color: $color-font;\n      }\n      .btn {\n        padding: 0;\n        width: 180px;\n        height: 32px;\n        line-height: 32px;\n        text-align: center;\n      }\n      .btn-dd {\n        margin-top: 20px;\n      }\n    }\n    .overview .tips {\n      width: 100%;\n      .title {\n        color: $color-font;\n        font-size: 18px;\n        text-align: center;\n        padding: 20px 0 10px 0;\n      }\n      .txt {\n        color: #888;\n        font-size: 14px;\n        text-align: justify;\n        line-height: 24px;\n        padding: 0 10px;\n      }\n    }\n    .btn-box {\n      // text-align: center;\n    }\n    .save-btn {\n      padding: 0;\n      width: 160px;\n      height: 40px;\n      line-height: 40px;\n      text-align: center;\n      &:hover span {\n        color: $color-font;\n      }\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=01f6e472&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/x.g/Documents/work/fe_management/node_modules/_vue-hot-reload-api@2.3.1@vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('01f6e472', component.options)\n    } else {\n      api.reload('01f6e472', component.options)\n    }\n    module.hot.accept(\"./detail.vue?vue&type=template&id=01f6e472&\", function () {\n      api.rerender('01f6e472', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/sales-tools/recommend-cards/detail.vue\"\nexport default component.exports"],"sourceRoot":""}