(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{219:function(a,t,s){},321:function(a,t,s){"use strict";var l=s(219);s.n(l).a},358:function(a,t,s){"use strict";s.r(t);var l=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"clearfix set-live-watch-container"},[s("p",{staticClass:"v-title"},[a._v("\n    直播观看页\n  ")]),a._v(" "),s("com-tabs",{attrs:{value:a.tabValue},on:{"update:value":function(t){a.tabValue=t}}},[s("com-tab",{attrs:{label:"品牌",index:1}},[s("div",{staticClass:"v-brand clearfix"},[s("div",{staticClass:"v-set pull-left"},[s("div",{staticClass:"input-form v-label clearfix"},[s("p",{staticClass:"v-info-label pull-left"},[a._v("\n              背景图片：\n            ")]),a._v(" "),s("p",{staticClass:"v-info pull-left"},[a._v("\n              为了保证显示效果，请上传不大于1920x1080大小的图片，支持jpg、jpeg、png格式，文件大小不超过2M\n              "),s("br"),a._v("\n              背景图片，只对PC页面生效\n            ")]),a._v(" "),s("com-upload",{attrs:{accept:"png|jpg|jpeg|bmp|gif",actionUrl:"/api/upload/do-upload",inputName:"file",fileSize:2048},on:{error:a.uploadError,load:a.uploadBgSuccess}},[s("div",{staticClass:"btn-upload"},[a._v("背景图片")])])],1),a._v(" "),s("div",{staticClass:"input-form v-label clearfix"},[s("p",{staticClass:"v-info-label pull-left"},[a._v("\n              logo图片：\n            ")]),a._v(" "),s("p",{staticClass:"v-info pull-left"},[a._v("\n              为了保证显示效果，请上传不大于140x50大小的图片，支持jpg、jpeg、png格式，文件大小不超过2M\n              "),s("br"),a._v("\n              Logo图片只对PC页面生效\n            ")]),a._v(" "),s("com-upload",{attrs:{accept:"png|jpg|jpeg|bmp|gif",actionUrl:"/api/upload/do-upload",inputName:"file",fileSize:2048},on:{error:a.uploadError,load:a.uploadLogoSuccess}},[s("div",{staticClass:"btn-upload"},[a._v("背景图片")])])],1),a._v(" "),s("a",{staticClass:"v-save",attrs:{href:"javascript:;"},on:{click:function(t){a.brandClick()}}},[a._v("\n            保存\n          ")])]),a._v(" "),s("div",{staticClass:"v-show pull-left"},[s("p",[a._v("预览")]),a._v(" "),s("div",{staticClass:"v-pc",style:{backgroundImage:"url("+a.$imgHost+"/"+a.bgImgUrl+")"}},[s("div",{staticClass:"v-content"},[s("img",{attrs:{src:a.$imgHost+"/"+a.logoImgUrl,alt:"logo"}})])])])])]),a._v(" "),s("com-tab",{attrs:{label:"分享",index:2}},[s("div",{staticClass:"v-share clearfix"},[s("div",{staticClass:"v-set pull-left"},[s("div",{staticClass:"input-form v-label clearfix"},[s("p",{staticClass:"v-info-label pull-left"},[a._v("\n              分享图标：\n            ")]),a._v(" "),s("p",{staticClass:"v-info pull-left"},[a._v("\n              为了保证显示效果，请上传不大于***X***大小的图片，支持jpg、jpeg、png格式，文件大小不超过2M\n            ")]),a._v(" "),s("com-upload",{attrs:{accept:"png|jpg|jpeg|bmp|gif",actionUrl:"/api/upload/do-upload",inputName:"file",fileSize:2048},on:{error:a.uploadError,load:a.uploadShareSuccess}},[s("div",{staticClass:"btn-upload"},[a._v("修改")])])],1),a._v(" "),s("div",{staticClass:"input-form v-label clearfix"},[s("p",{staticClass:"v-info-label pull-left"},[a._v("\n              分享标题：\n            ")]),a._v(" "),s("p",{staticClass:"v-info pull-left"},[s("com-input",{attrs:{value:a.shareTitle,placeholder:"标题","max-length":30},on:{"update:value":function(t){a.shareTitle=t}}})],1)]),a._v(" "),s("div",{staticClass:"input-form v-label clearfix"},[s("p",{staticClass:"v-info-label pull-left"},[a._v("\n              分享简介：\n            ")]),a._v(" "),s("p",{staticClass:"v-info pull-left"},[s("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入分享简介","max-length":120},model:{value:a.shareIntroduction,callback:function(t){a.shareIntroduction=t},expression:"shareIntroduction"}})],1)]),a._v(" "),s("div",{staticClass:"input-form v-label clearfix"},[s("p",{staticClass:"v-info-label pull-left"},[a._v("\n              应用页面：\n            ")]),a._v(" "),s("p",{staticClass:"v-info pull-left"},[s("el-checkbox",{model:{value:a.isShowWatch,callback:function(t){a.isShowWatch=t},expression:"isShowWatch"}},[a._v("直播观看页")]),a._v(" "),s("el-checkbox",{model:{value:a.isShowOfficialWebsite,callback:function(t){a.isShowOfficialWebsite=t},expression:"isShowOfficialWebsite"}},[a._v("活动官网")]),a._v(" "),s("el-checkbox",{model:{value:a.isShowGuided,callback:function(t){a.isShowGuided=t},expression:"isShowGuided"}},[a._v("直播引导页")])],1)]),a._v(" "),s("a",{staticClass:"v-save",attrs:{href:"javascript:;"},on:{click:function(t){a.shareClick()}}},[a._v("\n            保存\n          ")])]),a._v(" "),s("div",{staticClass:"v-show pull-left"},[s("p",[a._v("预览")]),a._v(" "),s("div",{staticClass:"v-title"},[a._v("\n            分享给好友\n          ")]),a._v(" "),s("div",{staticClass:"clearfix"},[s("img",{staticClass:"v-avatar pull-left",attrs:{src:"",alt:"头像"}}),a._v(" "),s("div",{staticClass:"pull-left v-share-friend clearfix"},[s("div",{staticClass:"pull-left"},[s("p",{staticClass:"v-share-title"},[a._v("\n                  "+a._s(a.shareTitle)+"\n                ")]),a._v(" "),s("p",{staticClass:"v-introduction"},[a._v("\n                  "+a._s(a.shareIntroduction)+"\n                ")])]),a._v(" "),s("div",{staticClass:"pull-left"},[s("img",{staticClass:"v-show-img",attrs:{src:a.$imgHost+"/"+a.shareImgUrl,alt:"分享图标"}})])])]),a._v(" "),s("div",{staticClass:"v-title"},[a._v("\n            分享到朋友圈\n          ")]),a._v(" "),s("div",{staticClass:"v-share-friend-circle clearfix"},[s("img",{staticClass:"v-avatar",attrs:{src:"",alt:"头像"}}),a._v(" "),s("span",[a._v("微信昵称")]),a._v(" "),s("div",{staticClass:"v-content clearfix"},[s("img",{staticClass:"v-show-img pull-left",attrs:{src:a.$imgHost+"/"+a.shareImgUrl,alt:"分享图标"}}),a._v(" "),s("p",{staticClass:"v-introduction pull-left"},[a._v("\n                "+a._s(a.shareIntroduction)+"\n              ")])])])])])])],1)],1)};l._withStripped=!0;var i=s(5);var e={getLiveShare:a=>i.a.ajax({method:"post",url:"/manage/share-manage/get",params:a}),setLiveShare:a=>i.a.ajax({method:"post",url:"/manage/share-manage/edit",params:a}),getLiveBrand:a=>i.a.ajax({method:"post",url:"/manage/brand-manage/get",params:a}),setLiveBrand:a=>i.a.ajax({method:"post",url:"/manage/brand-manage/edit",params:a})},o={data:()=>({activityId:0,tabValue:1,bgImgUrl:"",logoImgUrl:"",shareImgUrl:"",shareTitle:"",shareIntroduction:"",isShowWatch:!0,isShowOfficialWebsite:!0,isShowGuided:!0}),components:{},created(){this.activityId=this.$route.params.id;let a={activityId:this.activityId};this.activityId?(e.getLiveShare(a).then(a=>{200!==a.code?console.log(a.msg):a.data&&(this.shareImgUrl=a.data.imgUrl?a.data.imgUrl:"",this.shareTitle=a.data.title?a.data.title:"",this.shareIntroduction=a.data.description?a.data.description:"",this.isShowWatch=!!a.page.live_route,this.isShowOfficialWebsite=!!a.page.officia_route,this.isShowGuided=!!a.page.guide_route,this.tabValue=1)}),e.getLiveBrand(a).then(a=>{200!==a.code?console.log(a.msg):a.data&&(this.bgImgUrl=a.data.backgroundUrl?a.data.backgroundUrl:"",this.logoImgUrl=a.data.logoUrl?a.data.logoUrl:"",this.tabValue=1)})):this.$router.go(-1)},mounted(){},watch:{},methods:{uploadBgSuccess(a){const t=JSON.parse(a.data);this.bgImgUrl=t.data.name},uploadError(a){console.log("上传失败:",a)},uploadLogoSuccess(a){const t=JSON.parse(a.data);this.logoImgUrl=t.data.name},uploadShareSuccess(a){const t=JSON.parse(a.data);this.shareImgUrl=t.data.name},brandClick(){let a={activityId:this.activityId,backgroundUrl:this.bgImgUrl,logoUrl:this.logoImgUrl};e.setLiveBrand(a).then(a=>{200!==a.code?console.log(a.msg):alert("保存成功")})},shareClick(){let a={activityId:this.activityId,title:this.shareTitle,description:this.shareIntroduction,imgUrl:this.shareImgUrl,page:[]};this.isShowWatch&&a.page.push("live_route"),this.isShowOfficialWebsite&&a.page.push("officia_route"),this.isShowGuided&&a.page.push("guide_route"),e.setLiveShare(a).then(a=>{200!==a.code?console.log(a.msg):alert("保存成功")})}}},r=(s(321),s(1)),c=Object(r.a)(o,l,[],!1,null,"80700a80",null);c.options.__file="src\\pages\\set-live-watch\\index.vue";t.default=c.exports}}]);
//# sourceMappingURL=20.ec41b111.js.map