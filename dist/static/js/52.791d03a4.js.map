{"version":3,"sources":["webpack:///./src/pages/sales-tools/recommend-cards/detail.vue?9d3f","webpack:///./src/pages/sales-tools/recommend-cards/detail.vue?b404","webpack:///src/pages/sales-tools/recommend-cards/detail.vue","webpack:///./src/pages/sales-tools/recommend-cards/detail.vue","webpack:///./src/pages/sales-tools/recommend-cards/detail.vue?46c1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","keydown","$event","canPaas","_v","_s","cardId","class","_m","attrs","value","title","placeholder","max-length","error-tips","titleError","update:value","focus","accept","defaultImg","fileSize","errorMsg","uploadImgErrorMsg","error","uploadError","success","uploadImgSuccess","type","desc","staticStyle","padding","inactive-color","width","active-color","change","switchChange","model","btnSwitch","callback","$$v","expression","btnTxt","btnTxtError","_e","btnLink","btnLinkError","click","save","cancel","poster","length","style","backgroundImage","$imgHost","to","target","_withStripped","recommend_cards_detailvue_type_script_lang_js_","data","activityId","$route","params","id","img","imgHost","query","saveData","canSave","created","eventBus","$emit","url","mounted","getDetail","methods","verify","activity_id","recommend_card_id","pic","btn_display","btn_text","btn_link","saveCard","updateCard","window","history","go","name","console","log","msg","res","_this","$post","salesCards_service","POST_CREATE_CARD","then","$router","push","_this2","POST_UPDATE_CARD","$toast","content","position","setTimeout","test","_this3","$config","loading","$get","GET_CARDS_DETAIL","beforeRouteLeave","from","next","$messageBox","header","cancelText","confirmText","handleClick","e","action","computed","components","VeUpload","ve_upload_image","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_detail_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n"],"mappings":"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","file":"static/js/52.791d03a4.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"wrap-page card-page\",\n      on: {\n        keydown: function($event) {\n          _vm.canPaas = false\n        }\n      }\n    },\n    [\n      _c(\n        \"div\",\n        { staticClass: \"page-title\" },\n        [\n          _c(\"span\", { staticClass: \"title\" }, [\n            _vm._v(_vm._s(_vm.cardId === \"new\" ? \"创建\" : \"编辑\") + \"卡片\")\n          ]),\n          _vm._v(\" \"),\n          _c(\"com-back\", { class: \"back-btn\" })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _vm._m(0),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"content from-box\" }, [\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _vm._m(1),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"from-content\" },\n            [\n              _c(\"com-input\", {\n                attrs: {\n                  value: _vm.title,\n                  placeholder: \"请输入卡片名称\",\n                  \"max-length\": 15,\n                  \"error-tips\": _vm.titleError\n                },\n                on: {\n                  \"update:value\": function($event) {\n                    _vm.title = $event\n                  },\n                  focus: function($event) {\n                    _vm.titleError = \"\"\n                  }\n                }\n              })\n            ],\n            1\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _vm._m(2),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"from-content\" },\n            [\n              _c(\"ve-upload\", {\n                attrs: {\n                  title: \"gif、jpg、png、bmp<br>大小不超过2M\",\n                  accept: \"gif|png|jpg|bmp\",\n                  defaultImg: _vm.defaultImg,\n                  fileSize: 2048,\n                  errorMsg: _vm.uploadImgErrorMsg\n                },\n                on: { error: _vm.uploadError, success: _vm.uploadImgSuccess }\n              })\n            ],\n            1\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"卡片描述：\")]),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"from-content\" },\n            [\n              _c(\"com-input\", {\n                staticClass: \"msg-content\",\n                attrs: {\n                  type: \"textarea\",\n                  value: _vm.desc,\n                  placeholder: \"请输入卡片描述\",\n                  \"max-length\": 140\n                },\n                on: {\n                  \"update:value\": function($event) {\n                    _vm.desc = $event\n                  }\n                }\n              })\n            ],\n            1\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"from-row\", staticStyle: { padding: \"0 12px\" } },\n          [\n            _c(\"div\", { staticClass: \"from-title\" }, [_vm._v(\"显示按钮：\")]),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"from-content switch-box\" },\n              [\n                _c(\"el-switch\", {\n                  staticClass: \"switch\",\n                  attrs: {\n                    \"inactive-color\": \"#DEE1FF\",\n                    width: 32,\n                    \"active-color\": \"#FFD021\"\n                  },\n                  on: {\n                    change: function($event) {\n                      _vm.switchChange()\n                    }\n                  },\n                  model: {\n                    value: _vm.btnSwitch,\n                    callback: function($$v) {\n                      _vm.btnSwitch = $$v\n                    },\n                    expression: \"btnSwitch\"\n                  }\n                })\n              ],\n              1\n            )\n          ]\n        ),\n        _vm._v(\" \"),\n        _vm.btnSwitch\n          ? _c(\"div\", { staticClass: \"from-row\" }, [\n              _vm._m(3),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"from-content\" },\n                [\n                  _c(\"com-input\", {\n                    attrs: {\n                      value: _vm.btnTxt,\n                      placeholder: \"请输入按钮文案\",\n                      \"max-length\": 6,\n                      \"error-tips\": _vm.btnTxtError\n                    },\n                    on: {\n                      \"update:value\": function($event) {\n                        _vm.btnTxt = $event\n                      },\n                      focus: function($event) {\n                        _vm.btnTxtError = \"\"\n                      }\n                    }\n                  })\n                ],\n                1\n              )\n            ])\n          : _vm._e(),\n        _vm._v(\" \"),\n        _vm.btnSwitch\n          ? _c(\"div\", { staticClass: \"from-row\" }, [\n              _vm._m(4),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"from-content\" },\n                [\n                  _c(\"com-input\", {\n                    attrs: {\n                      value: _vm.btnLink,\n                      placeholder: \"请输入按钮链接\",\n                      \"error-tips\": _vm.btnLinkError,\n                      \"max-length\": 300\n                    },\n                    on: {\n                      \"update:value\": function($event) {\n                        _vm.btnLink = $event\n                      },\n                      focus: function($event) {\n                        _vm.btnLinkError = \"\"\n                      }\n                    }\n                  })\n                ],\n                1\n              )\n            ])\n          : _vm._e(),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"from-row\" }, [\n          _c(\"div\", { staticClass: \"from-title\" }),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"from-content btn-box\" },\n            [\n              _c(\n                \"el-button\",\n                {\n                  staticClass: \"primary-button save-btn\",\n                  on: { click: _vm.save }\n                },\n                [_vm._v(\"保存\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-button\",\n                {\n                  staticClass: \"default-button save-btn\",\n                  on: { click: _vm.cancel }\n                },\n                [_vm._v(\"取消\")]\n              )\n            ],\n            1\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"overview\" }, [\n          _c(\"dl\", [\n            _c(\"dt\", [\n              !_vm.poster.length\n                ? _c(\"div\", { staticClass: \"img img-empty\" })\n                : _c(\"div\", {\n                    staticClass: \"img cov_img\",\n                    style: {\n                      backgroundImage:\n                        \"url(\" + _vm.$imgHost + \"/\" + _vm.poster + \")\"\n                    }\n                  })\n            ]),\n            _vm._v(\" \"),\n            _vm.desc.length > 0\n              ? _c(\"dd\", { staticClass: \"desc\" }, [_vm._v(_vm._s(_vm.desc))])\n              : _c(\"dd\", { staticClass: \"desc\" }, [\n                  _vm._v(\"此处是卡片描述，最多可添加140个字\")\n                ]),\n            _vm._v(\" \"),\n            _vm.btnSwitch\n              ? _c(\n                  \"dd\",\n                  { staticClass: \"btn-dd\" },\n                  [\n                    _c(\n                      \"router-link\",\n                      { attrs: { to: _vm.btnLink, target: \"_blank\" } },\n                      [\n                        _c(\"el-button\", { staticClass: \"primary-button btn\" }, [\n                          _vm._v(\n                            _vm._s(_vm.btnTxt.length > 0 ? _vm.btnTxt : \"按钮\")\n                          )\n                        ])\n                      ],\n                      1\n                    )\n                  ],\n                  1\n                )\n              : _vm._e()\n          ]),\n          _vm._v(\" \"),\n          _vm._m(5)\n        ])\n      ])\n    ]\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"tips-title\" }, [\n      _c(\"i\"),\n      _vm._v(\"注意：在推荐卡片中嵌入链接可能会导致观众跳转分流，请合理使用\\n  \")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"卡片名称：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"卡片图片：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"按钮文案：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"from-title\" }, [\n      _c(\"i\", { staticClass: \"star\" }, [_vm._v(\"*\")]),\n      _vm._v(\"按钮链接：\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"tips\" }, [\n      _c(\"p\", { staticClass: \"title\" }, [_vm._v(\"卡片预览\")])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","<template>\n  <div class='wrap-page card-page' @keydown=\"canPaas = false\">\n    <div class=\"page-title\">\n      <span class=\"title\">{{cardId === 'new' ? '创建' :'编辑'}}卡片</span>\n      <com-back :class='\"back-btn\"'></com-back>\n    </div>\n    <div class=\"tips-title\">\n      <i></i>注意：在推荐卡片中嵌入链接可能会导致观众跳转分流，请合理使用\n    </div>\n    <div class=\"content from-box\">\n      <div class=\"from-row\">\n        <div class=\"from-title\"><i class=\"star\">*</i>卡片名称：</div>\n        <div class=\"from-content\">\n          <com-input :value.sync=\"title\" placeholder=\"请输入卡片名称\" :max-length=\"15\" :error-tips='titleError' @focus=\"titleError=''\"></com-input>\n        </div>\n      </div>\n      <div class=\"from-row\">\n        <div class=\"from-title\"><i class=\"star\">*</i>卡片图片：</div>\n        <div class=\"from-content\">\n          <ve-upload title=\"gif、jpg、png、bmp<br>大小不超过2M\" accept=\"gif|png|jpg|bmp\" :defaultImg=\"defaultImg\" :fileSize=\"2048\" :errorMsg=\"uploadImgErrorMsg\" @error=\"uploadError\" @success=\"uploadImgSuccess\"></ve-upload>\n        </div>\n      </div>\n      <div class=\"from-row\">\n        <div class=\"from-title\">卡片描述：</div>\n        <div class=\"from-content\">\n          <com-input type=\"textarea\" class=\"msg-content\" :value.sync=\"desc\" placeholder=\"请输入卡片描述\" :max-length=\"140\"></com-input>\n        </div>\n      </div>\n      <div class=\"from-row\" style=\"padding:0 12px;\">\n        <div class=\"from-title\">显示按钮：</div>\n        <div class=\"from-content switch-box\">\n          <el-switch class='switch' v-model=\"btnSwitch\" inactive-color=\"#DEE1FF\" :width=\"32\" active-color=\"#FFD021\" @change=\"switchChange()\"></el-switch>\n        </div>\n      </div>\n      <div class=\"from-row\" v-if=\"btnSwitch\">\n        <div class=\"from-title\"><i class=\"star\">*</i>按钮文案：</div>\n        <div class=\"from-content\">\n          <com-input :value.sync=\"btnTxt\" placeholder=\"请输入按钮文案\" :max-length=\"6\" :error-tips=\"btnTxtError\" @focus=\"btnTxtError = ''\"></com-input>\n        </div>\n      </div>\n      <div class=\"from-row\" v-if=\"btnSwitch\">\n        <div class=\"from-title\"><i class=\"star\">*</i>按钮链接：</div>\n        <div class=\"from-content\">\n          <com-input :value.sync=\"btnLink\" placeholder=\"请输入按钮链接\" :error-tips=\"btnLinkError\" @focus=\"btnLinkError = ''\" :max-length=\"300\"></com-input>\n        </div>\n      </div>\n      <div class=\"from-row\">\n        <div class=\"from-title\"></div>\n        <div class=\"from-content btn-box\">\n          <el-button class='primary-button save-btn' @click='save'>保存</el-button>\n          <el-button class='default-button save-btn' @click='cancel'>取消</el-button>\n        </div>\n      </div>\n      <div class=\"overview\">\n        <dl>\n          <dt>\n              <div class=\"img img-empty\" v-if=\"!poster.length\"></div>\n            <div class=\"img cov_img\" :style=\"{backgroundImage:`url(${$imgHost}/${poster})`}\" v-else></div>\n              <!--<img :src=\"`${imgHost}/${poster}?x-oss-process=image/resize,m_fill,h_200,w_240`\">-->\n            </dt>\n          <dd class='desc' v-if=\"desc.length>0\">{{desc}}</dd>\n          <dd class='desc' v-else>此处是卡片描述，最多可添加140个字</dd>\n          <dd class='btn-dd' v-if=\"btnSwitch\">\n            <router-link :to=\"btnLink\" target=\"_blank\">\n              <el-button class='primary-button btn'>{{btnTxt.length>0 ? btnTxt:'按钮'}}</el-button>\n            </router-link>\n          </dd>\n        </dl>\n        <div class=\"tips\">\n          <p class=\"title\">卡片预览</p>\n          <!-- <p class=\"txt\">功能说明：<br></p> -->\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import VeUpload from 'src/components/ve-upload-image'\n  import cardService from 'src/api/salesCards-service.js'\n  import EventBus from 'src/utils/eventBus'\n  export default {\n    data () {\n      return {\n        activityId: this.$route.params.id,\n        title: '',\n        titleError: '',\n        img: '',\n        desc: '',\n        btnSwitch: true,\n        btnTxt: '',\n        btnTxtError: '',\n        btnLink: '',\n        btnLinkError: '',\n        poster: '',\n        imgHost: process.env.IMGHOST + '/',\n        uploadImgErrorMsg: '',\n        cardId: this.$route.query.cardId,\n        saveData: '',\n        canSave: false,\n        canPaas: true\n      }\n    },\n    created () {\n      EventBus.$emit('breads', [{\n        title: '活动管理'\n      }, {\n        title: '活动列表',\n        url: '/liveMager/list'\n      }, {\n        title: '活动详情',\n        url: `/liveMager/detail/${this.$route.params.id}`\n      }, {\n        title: '推荐卡片',\n        url: `/salesTools/recommendCards/${this.$route.params.id}`\n      }, {\n        title: this.cardId !== 'new' ? '编辑卡片' : '新建卡片'\n      }])\n    },\n    mounted () {\n      if (this.cardId !== 'new') {\n        this.getDetail(this.cardId)\n      }\n    },\n    methods: {\n      save () {\n        this.verify()\n        if (!this.canSave) {\n          return false\n        }\n        this.saveData = {\n          activity_id: this.activityId,\n          recommend_card_id: this.cardId === 'new' ? '' : this.cardId,\n          title: this.title,\n          pic: this.poster,\n          desc: this.desc,\n          btn_display: this.btnSwitch ? 'Y' : 'N',\n          btn_text: this.btnTxt,\n          btn_link: this.btnLink\n        }\n        if (this.cardId === 'new') { // 新建\n          this.saveCard()\n        } else { // 编辑\n          this.updateCard()\n        }\n      },\n      cancel () {\n        window.history.go(-1)\n      },\n      uploadImgSuccess (data) {\n        this.poster = data.name\n      },\n      uploadError (data) {\n        console.log('上传失败:', data)\n        this.uploadImgErrorMsg = data.msg\n      },\n      switchChange (res) {\n\n      },\n      saveCard () {\n        this.$post(cardService.POST_CREATE_CARD, this.saveData).then((res) => {\n          // this.$toast({\n          //   content: '保存成功',\n          //   position: 'center'\n          // })\n          this.canPaas = true\n          this.$router.push(`/salesTools/recommendCards/${this.activityId}`)\n        })\n      },\n      updateCard () {\n        this.$post(cardService.POST_UPDATE_CARD, this.saveData).then((res) => {\n          this.$toast({\n            content: '更新成功',\n            position: 'center'\n          })\n          this.canPaas = true\n          setTimeout(() => {\n            this.$router.push(`/salesTools/recommendCards/${this.activityId}`)\n          }, 500)\n        })\n      },\n      verify () {\n        // const reg = new RegExp(/(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:/~\\+#]*[\\w\\-\\@?^=%&/~\\+#])?/) // eslint-disable-line\n        const reg = /(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:/~\\+#]*[\\w\\-\\@?^=%&/~\\+#])?/ // eslint-disable-line\n        this.title.length ? this.titleError = '' : this.titleError = '请输入卡片名称'\n        this.poster.length ? this.uploadImgErrorMsg = '' : this.uploadImgErrorMsg = '请上传卡片图片'\n        if (this.btnSwitch) {\n          this.btnTxt.length ? this.btnTxtError = '' : this.btnTxtError = '请输入按钮文案'\n          reg.test(this.btnLink) ? this.btnLinkError = '' : this.btnLinkError = '请输入有效的按钮链接以http或https开头'\n        } else {\n          this.canSave = false\n        }\n        if (this.title.length && this.poster.length) {\n          if (this.btnSwitch) {\n            if (this.btnTxt.length && !this.btnLinkError.length) {\n              this.canSave = true\n            } else {\n              this.canSave = false\n            }\n          } else {\n            this.canSave = true\n          }\n        } else {\n          this.canSave = false\n        }\n      },\n      getDetail (id) {\n        this.$config({\n          loading: true\n        }).$get(cardService.GET_CARDS_DETAIL, {\n          recommend_card_id: id\n        }).then((res) => {\n          this.title = res.data.title\n          this.poster = res.data.pic\n          this.btnSwitch = res.data.btn_display === 'Y'\n          this.btnTxt = res.data.btn_text\n          this.btnLink = res.data.btn_link\n          this.desc = res.data.desc\n        })\n      }\n    },\n    /* 路由守卫，离开当前页面之前被调用 */\n    beforeRouteLeave (to, from, next) {\n      if (this.canPaas) {\n        next(true)\n        return false\n      }\n      this.$messageBox({\n        header: '提示',\n        width: '400px',\n        content: '是否放弃当前编辑？',\n        cancelText: '否',\n        confirmText: '是',\n        handleClick: (e) => {\n          if (e.action === 'confirm') {\n            next(true)\n          } else {\n            next(false)\n          }\n        }\n      })\n    },\n    computed: {\n      defaultImg () {\n        return this.poster ? `${this.$imgHost}/${this.poster}` : ''\n      }\n    },\n    components: {\n      VeUpload\n    }\n  }\n</script>\n\n<style lang='scss' scope>\n@import '~assets/css/mixin.scss';\n@import './common.scss';\n.card-page {\n  .from-row {\n    display: flex;\n    padding: 12px;\n    .from-title {\n      width: 180px;\n      text-align: right;\n      padding-right: 20px;\n      color: #555;\n      line-height: 40px;\n      .star {\n        position: relative;\n        top: 3px;\n        color: $color-red;\n        padding-right: 5px;\n      }\n    }\n    .error /deep/ {\n      .el-input__inner {\n        border: 1px solid $color-red;\n      }\n      .default-button {\n        border: 1px solid $color-red;\n      }\n    }\n    .from-content {\n      position: relative;\n      flex: 1;\n      .error-msg {\n        display: block;\n        color: $color-red;\n        margin-left: 10px;\n      }\n      .input-box {\n        width: 400px;\n      }\n      .from-msg-tip {\n        position: absolute;\n        top: -2px;\n        width: 100%;\n        left: 200px;\n      }\n      &.switch-box {\n        line-height: 40px;\n        // .el-switch__core {\n        //   height: 26px;\n        //   border-radius: 38px;\n        //   .el-switch__button {\n        //     width: 22px;\n        //     height: 22px;\n        //   }\n        // }\n      }\n      .msg-content {\n        width: 440px;\n        height: 200px;\n        .limit.area {\n          right: 12px;\n          bottom: 10px;\n        }\n      }\n      &.btn-box {\n        text-align: center;\n      }\n      .ve-upload-box {\n        width: 140px;\n        .upload-img-box {\n          width: 100%;\n          .temp-img {\n            background-size: 100%;\n            background-repeat: no-repeat;\n          }\n        }\n        .upload-file-box {\n          width: 100%;\n        }\n      }\n      .com-input {\n        width: 440px;\n        textarea::-webkit-input-placeholder {\n          color: #888888;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n  .content {\n    position: relative;\n    .overview {\n      position: absolute;\n      top: 40px;\n      right: 123px;\n      width: 280px;\n      .img-empty {\n        background: url('~assets/image/cards-group.jpg') no-repeat center;\n        background-size: 140px 100px;\n      }\n    }\n    .overview dl {\n      text-align: center;\n      padding: 20px;\n      width: 100%;\n      border: 1px solid #d9d9d9;\n      border-radius: 4px;\n      .img {\n        width: 240px;\n        height: 200px;\n        border: 1px dashed #d9d9d9;\n        border-radius: 4px;\n        margin: 0 auto;\n      }\n      .cov_img{\n        background: no-repeat center;\n        background-size: cover;\n      }\n      .desc {\n        padding: 20px 0;\n        color: #888;\n        word-break: break-all;\n      }\n      a:hover .btn {\n        color: $color-font;\n      }\n      .btn {\n        padding: 0;\n        width: 180px;\n        height: 32px;\n        line-height: 32px;\n        text-align: center;\n      }\n      .btn-dd {\n        margin-top: 20px;\n      }\n    }\n    .overview .tips {\n      width: 100%;\n      .title {\n        color: $color-font;\n        font-size: 18px;\n        text-align: center;\n        padding: 20px 0 10px 0;\n      }\n      .txt {\n        color: #888;\n        font-size: 14px;\n        text-align: justify;\n        line-height: 24px;\n        padding: 0 10px;\n      }\n    }\n    .btn-box {\n      // text-align: center;\n    }\n    .save-btn {\n      padding: 0;\n      width: 160px;\n      height: 40px;\n      line-height: 40px;\n      text-align: center;\n      &:hover span {\n        color: $color-font;\n      }\n    }\n  }\n  .tips-title {\n    width: 100%;\n    height: 50px;\n    line-height: 50px;\n    text-align: center;\n    background: rgba(233, 235, 255, 1);\n    border-radius: 4px;\n    border: 1px solid rgba(129, 140, 254, 1);\n    margin-bottom: 20px;\n    i {\n      width: 20px;\n      height: 20px;\n      display: inline-block;\n      background: url('~assets/image/excal.svg') no-repeat;\n      position: relative;\n      top: 4px;\n      right: 4px;\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=01f6e472&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/chenqi/Desktop/Wswork/fe_management/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('01f6e472', component.options)\n    } else {\n      api.reload('01f6e472', component.options)\n    }\n    module.hot.accept(\"./detail.vue?vue&type=template&id=01f6e472&\", function () {\n      api.rerender('01f6e472', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/sales-tools/recommend-cards/detail.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&scope=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&scope=true&\""],"sourceRoot":""}