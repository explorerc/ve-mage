(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{183:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mage-list"}},[a("header",[a("p",[t._v("管理员列表")]),t._v(" "),a("div",{staticClass:"btn-box"},[a("span",[t._v("共"+t._s(t.tableData.length)+"位管理员")]),t._v(" "),a("com-button",{staticClass:"add-goods primary-button",attrs:{round:""},on:{click:function(e){t.handleEditShow(null)}}},[t._v("\n        新建管理员\n      ")])],1)]),t._v(" "),a("div",{staticClass:"table-box"},[a("table",{attrs:{border:"1"}},[a("thead",[a("tr",[a("th",[t._v("id")]),t._v(" "),a("th",[t._v("名字")]),t._v(" "),a("th",[t._v("电话")]),t._v(" "),1===t.status?a("th",[t._v("密码")]):t._e(),t._v(" "),a("th",{staticStyle:{width:"15%","min-width":"140px"}},[t._v("操作")])])]),t._v(" "),a("draggable",{attrs:{element:"tbody"}},t._l(t.tableData,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.id<10?"0"+e.id:e.id))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.phone))]),t._v(" "),1===t.status?a("td",[t._v(t._s(e.password))]):t._e(),t._v(" "),a("td",{staticStyle:{width:"15%","min-width":"140px"}},[a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleEditShow(e)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleDelShow(e)}}},[t._v("删除")])],1)])])}))],1)]),t._v(" "),t.isEditShow?a("message-box",{staticClass:"mage-edit",attrs:{width:"464px",type:"prompt",header:t.editTitle},on:{handleClick:t.editMage}},[a("div",{staticClass:"mager-box message-box-content"},[a("div",{staticClass:"from-box"},[t.mageInfo.id?a("div",{staticClass:"from-row"},[a("span",{staticClass:"from-title"},[t._v("管理员id:")]),a("span",{staticStyle:{"line-height":"20px"}},[t._v(t._s(t.mageInfo.id))])]):t._e(),t._v(" "),a("div",{staticClass:"from-row"},[a("span",{staticClass:"from-title"},[t._v("管理员名称:")]),t._v(" "),a("com-input",{attrs:{type:"text",placeholder:"请输入管理员名称",value:t.mageInfo.name,errorTips:t.mageError},on:{"update:value":function(e){t.$set(t.mageInfo,"name",e)}},model:{value:t.mageInfo.name,callback:function(e){t.$set(t.mageInfo,"name",e)},expression:"mageInfo.name"}})],1),t._v(" "),a("div",{staticClass:"from-row"},[a("span",{staticClass:"from-title"},[t._v("手机号:")]),t._v(" "),a("com-input",{attrs:{type:"text",placeholder:"请输入手机号",value:t.mageInfo.phone,errorTips:t.mageError},on:{"update:value":function(e){t.$set(t.mageInfo,"phone",e)}},model:{value:t.mageInfo.phone,callback:function(e){t.$set(t.mageInfo,"phone",e)},expression:"mageInfo.phone"}})],1),t._v(" "),a("div",{staticClass:"from-row"},[a("span",{staticClass:"from-title"},[t._v("密码:")]),t._v(" "),a("com-input",{attrs:{type:"text",placeholder:"请输入密码",value:t.mageInfo.password,errorTips:t.mageError},on:{"update:value":function(e){t.$set(t.mageInfo,"password",e)}},model:{value:t.mageInfo.password,callback:function(e){t.$set(t.mageInfo,"password",e)},expression:"mageInfo.password"}})],1)])])]):t._e(),t._v(" "),t.isDelShow?a("message-box",{staticClass:"mage-edit",attrs:{width:"464px",type:"error"},on:{handleClick:t.handleDelete}},[a("div",{staticClass:"mager-box message-box-content"},[t._v("\n            删除该管理员后，将无法再找回，请问要删除吗？\n        ")])]):t._e()],1)};s._withStripped=!0;var i=a(62),n=a.n(i),o=a(176),l=a.n(o),d=a(189),r=a(59),c=a(190),h={components:{draggable:l.a,VePagination:c.a},data:function(){return{tableData:[],isInit:!1,isNoGoods:!1,isEditShow:!1,isDelShow:!1,editTitle:"",mageInfo:{id:null,name:"",phone:"",password:"",status:null},mageError:"",status:null}},created:function(){this.queryList(),r.a.$emit("breads",[{title:"用户管理"},{title:"管理列表",url:"/goodMager/mage/"}])},watch:{tableData:{handler:function(t,e){t.length>=1&&this.isInit},deep:!0}},methods:{queryList:function(){var t=this;this.$get(d.a.GET_MAGE_INFO).then(function(e){200===e.code&&(t.tableData=e.data.info,t.status=e.data.status,t.tableData.length<1?t.isNoGoods=!0:t.isNoGoods=!1)}).catch(function(){t.tableData=[]})},handleEditShow:function(t){t?(this.mageInfo.id=t.id,this.mageInfo.password=t.password,this.mageInfo.status=t.status,this.mageInfo.name=t.name,this.mageInfo.phone=t.phone,this.editTitle="编辑管理员"):this.editTitle="新增管理员",this.isEditShow=!0},editMage:function(t){var e,a=this;"cancel"===t.action?(this.isEditShow=!1,this.mageInfo.id=null):(e=this.mageInfo.id?d.a.GET_MAGE_ADD:d.a.GET_MAGE_UPDATE,this.$get.apply(this,[e].concat(n()(this.mageInfo))).then(function(t){200===t.code&&(a.isEditShow=!1)}))},handleDelete:function(t){var e=this;if("cancel"===t.action)this.isDelShow=!1,this.mageInfo.id=null;else{var a={id:this.mageInfo.id};this.$get(d.a.GET_MAGE_DELETE,a).then(function(t){200===t.code&&(e.isEditShow=!1)})}},handleDelShow:function(t){this.isDelShow=!0,this.mageInfo=t}}},m=(a(236),a(0)),u=Object(m.a)(h,s,[],!1,null,"6864b68c",null);u.options.__file="src/pages/user-mager/mage-list.vue";e.default=u.exports},210:function(t,e,a){},236:function(t,e,a){"use strict";var s=a(210);a.n(s).a}}]);
//# sourceMappingURL=14.dc3219f9.js.map