(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{180:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"kind-list"}},[e("header",[e("p",[t._v("分类管理")]),t._v(" "),e("div",{staticClass:"btn-box"},[e("com-button",{staticClass:"add-goods primary-button",attrs:{round:""},on:{click:function(i){t.handleEdit(null)}}},[t._v("\n        新建分类\n      ")])],1)]),t._v(" "),e("div",{staticClass:"table-box"},[e("table",{attrs:{border:"1"}},[t._m(0),t._v(" "),e("draggable",{attrs:{element:"tbody"}},t._l(t.tableData,function(i,a){return e("tr",{key:a},[e("td",[t._v(t._s(i.id<10?"0"+i.id:i.id))]),t._v(" "),e("td",[t._v(t._s(i.name))]),t._v(" "),e("td",{staticStyle:{width:"15%","min-width":"140px"}},[e("div",{staticClass:"btn-box"},[e("el-button",{attrs:{type:"text"},on:{click:function(e){t.handleEdit(i)}}},[t._v("编辑")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(e){t.handleDelete(i)}}},[t._v("删除")])],1)])])}))],1),t._v(" "),t.total>t.searchParams.pageSize?e("div",{staticClass:"page-pagination"},[e("ve-pagination",{attrs:{total:t.total,pageSize:t.searchParams.pageSize,currentPage:t.currentPage},on:{changePage:t.changePage}})],1):t._e()]),t._v(" "),t.isEditShow?e("message-box",{staticClass:"kind-edit",attrs:{width:"464px",type:"prompt",header:t.editTitle},on:{handleClick:t.editKind}},[e("div",{staticClass:"mager-box message-box-content"},[e("div",{staticClass:"from-box"},[t.kindInfo.id?e("div",{staticClass:"from-row"},[e("span",{staticClass:"from-title"},[t._v("分类id:")]),e("span",{staticStyle:{"line-height":"20px"}},[t._v(t._s(t.kindInfo.id))])]):t._e(),t._v(" "),e("div",{staticClass:"from-row"},[e("span",{staticClass:"from-title"},[t._v("分类名称:")]),t._v(" "),e("com-input",{attrs:{type:"text",placeholder:"请输入分类名称",value:t.kindInfo.name,errorTips:t.kindError},on:{"update:value":function(i){t.$set(t.kindInfo,"name",i)}},model:{value:t.kindInfo.name,callback:function(i){t.$set(t.kindInfo,"name",i)},expression:"kindInfo.name"}})],1)])])]):t._e(),t._v(" "),t.isDelShow?e("message-box",{staticClass:"kind-edit",attrs:{width:"464px",type:"error"},on:{handleClick:t.handleDelShow}},[e("div",{staticClass:"mager-box message-box-content"},[t._v("\n            删除该分类后，将无法再找回，请问要删除吗？\n        ")])]):t._e()],1)};a._withStripped=!0;var n=e(9),s=e.n(n),o=e(176),d=e.n(o),l="/kind/page",r="/kind/update",c="/kind/add",h=e(59),u=e(190),f={components:{draggable:d.a,VePagination:u.a},data:function(){return{tableData:[{id:1,name:""}],isInit:!1,isNoGoods:!1,isEditShow:!1,isDelShow:!1,editTitle:"",kindInfo:{id:null,name:""},kindError:"",searchParams:{type:"",date:"",page:1,pageSize:10},total:null,currentPage:1}},created:function(){this.queryList(),h.a.$emit("breads",[{title:"分类管理"},{title:"分类列表",url:"/goodMager/list/"}])},mounted:function(){},watch:{tableData:{handler:function(t,i){t.length>=1&&this.isInit},deep:!0}},methods:{queryList:function(){var t=this;this.$get(this.$baseUrl+l,s()({},this.searchParams)).then(function(i){200===i.code&&(t.tableData=i.data.info,t.total=i.data.total,t.tableData.length<1?t.isNoGoods=!0:t.isNoGoods=!1)}).catch(function(){t.tableData=[]})},editKind:function(t){var i=this;if("confirm"===t.action){var e=void 0;e=this.kindInfo.id?this.$baseUrl+r:this.$baseUrl+c,this.$get(e,s()({},this.kindInfo)).then(function(t){200===t.code&&(i.queryList(),i.isEditShow=!1,i.kindInfo.id=null,i.kindInfo.name="")}).catch(function(){i.tableData=[]})}else this.isEditShow=!1},handleEdit:function(t){t?(this.editTitle="编辑分类",this.kindInfo.id=t.id,this.kindInfo.name=t.name):this.editTitle="新建分类",this.isEditShow=!0},changeTitle:function(t){this.titleId=t},handleDelete:function(t){this.isDelShow=!0,this.kindInfo=t},handleDelShow:function(t){"cancel"===t.action&&(this.isDelShow=!1)},changePage:function(t){this.searchParams.page=t,this.queryList()}}},v=(e(231),e(0)),p=Object(v.a)(f,a,[function(){var t=this.$createElement,i=this._self._c||t;return i("thead",[i("tr",[i("th",[this._v("分类id")]),this._v(" "),i("th",[this._v("分类名称")]),this._v(" "),i("th",{staticStyle:{width:"15%","min-width":"140px"}},[this._v("操作")])])])}],!1,null,"6b130812",null);p.options.__file="src/pages/kind-mager/list.vue";i.default=p.exports},206:function(t,i,e){},231:function(t,i,e){"use strict";var a=e(206);e.n(a).a}}]);
//# sourceMappingURL=11.396f3120.js.map