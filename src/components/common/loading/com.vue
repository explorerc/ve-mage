<template>
  <div v-show="visible" class="com-notification" :class="{'notification-model':type=='model'}" :style="style">
    <div class="inner-wrap">
      <i class="iconfont icon-Loading"></i>
      <span class="loading-txt">{{loadingText}}</span>
    </div>
    <div class="model-wrap">
      <div class="model-content">
        <svg width="36px" height="34px" viewBox="0 0 36 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <title>loading</title>
          <desc>Created with Sketch.</desc>
          <defs></defs>
          <g id="loading" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <path d="M18,1 C18.5522847,1 19,1.44771525 19,2 L19,8 C19,8.55228475 18.5522847,9 18,9 C17.4477153,9 17,8.55228475 17,8 L17,2 C17,1.44771525 17.4477153,1 18,1 Z M25.9978445,3.14733466 C26.4761316,3.42345645 26.6400189,4.0350257 26.3638972,4.51331281 C26.3638926,4.51332068 26.3638881,4.51332856 26.3638835,4.51333644 L23.3638562,9.70953612 C23.0877139,10.1878287 22.4761234,10.3517039 21.9978308,10.0755615 C21.5195382,9.79941915 21.355663,9.18782874 21.6318054,8.70953612 L24.6318054,3.5133837 C24.90795,3.03508725 25.5195405,2.87120313 25.9978445,3.14733466 Z M31.8522991,8.99858012 C32.128447,9.47685216 31.964593,10.0884303 31.486321,10.3645782 C31.4863131,10.3645828 31.4863052,10.3645873 31.4862974,10.3645919 L26.2900977,13.3646192 C25.811805,13.6407615 25.2002146,13.4768864 24.9240723,12.9985938 C24.6479299,12.5203011 24.811805,11.9087107 25.2900977,11.6325684 L30.4862501,8.63256836 C30.9645465,8.35642378 31.5761415,8.52029121 31.8522991,8.99858012 Z M34,17 C34,17.5522847 33.5522847,18 33,18 L27,18 C26.4477153,18 26,17.5522847 26,17 C26,16.4477153 26.4477153,16 27,16 L33,16 C33.5522847,16 34,16.4477153 34,17 Z M31.8469223,24.9957277 C31.5707793,25.4740214 30.9591875,25.6378969 30.4808938,25.3617539 L25.2847456,22.3617512 C24.8064531,22.0856084 24.6425782,21.4740178 24.9187206,20.9957251 C25.194863,20.5174325 25.8064534,20.3535573 26.284746,20.6296997 L31.4808958,23.6296982 C31.9591899,23.9058414 32.1230655,24.5174337 31.8469223,24.9957277 Z M26.0014598,30.8586441 C25.5231661,31.1347871 24.9115743,30.9709116 24.6354313,30.4926179 L21.6354364,25.2964651 C21.3592943,24.8181722 21.5231697,24.2065818 22.0014624,23.9304393 C22.479755,23.654297 23.0913454,23.8181721 23.3674878,24.2964648 L26.3674863,29.4926146 C26.6436295,29.9709086 26.4797539,30.5825009 26.0014598,30.8586441 Z M18,33 C17.4477153,33 17,32.5522847 17,32 L17,26 C17,25.4477153 17.4477153,25 18,25 C18.5522847,25 19,25.4477153 19,26 L19,32 C19,32.5522847 18.5522847,33 18,33 Z M10.0123179,30.8462761 C9.53403078,30.5701543 9.37014341,29.958585 9.6462652,29.4802979 C9.64626975,29.4802901 9.64627429,29.4802822 9.64627884,29.4802743 L12.6463061,24.2840746 C12.9224485,23.805782 13.5340389,23.6419068 14.0123315,23.9180492 C14.4906242,24.1941916 14.6544993,24.805782 14.3783569,25.2840746 L11.3783569,30.480227 C11.1022124,30.9585235 10.4906219,31.1224076 10.0123179,30.8462761 Z M4.15288886,25.0045937 C3.87674097,24.5263217 4.04059497,23.9147435 4.51886701,23.6385956 C4.51887488,23.638591 4.51888276,23.6385865 4.51889064,23.6385819 L9.71509032,20.6385547 C10.1933829,20.3624123 10.8049733,20.5262874 11.0811157,21.0045801 C11.3572581,21.4828727 11.1933829,22.0944631 10.7150903,22.3706055 L5.5189379,25.3706055 C5.04064145,25.6467501 4.42904649,25.4828826 4.15288886,25.0045937 Z M2,17 C2,16.4477153 2.44771525,16 3,16 L9,16 C9.55228475,16 10,16.4477153 10,17 C10,17.5522847 9.55228475,18 9,18 L3,18 C2.44771525,18 2,17.5522847 2,17 Z M4.13326068,8.99920151 C4.40940368,8.5209078 5.02099546,8.35703228 5.49928916,8.63317528 L10.6954374,11.6331781 C11.1737299,11.9093209 11.3376048,12.5209114 11.0614624,12.9992041 C10.78532,13.4774967 10.1737296,13.6413719 9.695437,13.3652295 L4.49928718,10.365231 C4.02099312,10.0890878 3.85711747,9.47749557 4.13326068,8.99920151 Z M9.99278664,3.1473957 C10.4710587,2.87124781 11.0826369,3.0351018 11.3587848,3.51337384 C11.3587893,3.51338172 11.3587939,3.5133896 11.3587984,3.51339747 L14.3588257,8.70959715 C14.6349681,9.18788978 14.4710929,9.79948018 13.9928003,10.0756226 C13.5145077,10.3517649 12.9029173,10.1878898 12.6267749,9.70959715 L9.62677488,4.51344473 C9.35063029,4.03514829 9.51449773,3.42355333 9.99278664,3.1473957 Z" fill="#FFD021"></path>
          </g>
        </svg>
        <p v-html="loadingText"></p>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'ComLoading',
  props: {
    type: {
      type: String,
      default: ''
    },
    loadingText: {
      type: String,
      default: 'Loading'
    },
    relative: Boolean
  },
  data () {
    return {
      visible: true
    }
  },
  computed: {
    style () {
      const ret = {}
      if (this.relative) {
        ret.position = 'absolute'
      }
      return ret
    }
  }
}
</script>

<style lang="scss" scoped>
.com-notification /deep/ {
  position: fixed;
  z-index: 1100;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: rgba(0, 0, 0, 0.6);
  .inner-wrap {
    color: #fff;
    display: inline-block;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    font-size: 14px;
    .iconfont {
      display: inline-block;
      animation: com-rotating 1s linear infinite;
    }
    .loading-txt {
      margin-top: 3px;
      display: block;
    }
  }
  .model-wrap{
    display: none;
  }
  @keyframes com-rotating {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
}
.notification-model{
  background-color: rgba(0, 0, 0, 0);
  .inner-wrap{
    display: none;
  }
  .model-wrap{
    display: inline-block;
    position: absolute;
    top: 50%;
    left: 50%;
    width: 160px;
    height: 160px;
    background-color: #313131;
    transform: translate(-50%, -50%);
    text-align: center;
    font-size: 14px;
    border-radius:4px;
    opacity:0.95;
    box-shadow:0px 0 6px rgba(0,0,0,0.4);
    .model-content{
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      text-align: center;
      svg{
        display: inline-block;
        animation:gogogo 1.6s infinite linear;
      }
      p{
        font-size: 14px;
        display: block;
        margin: 10px 20px 0 20px;
        color: #F7F7F7;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
      }
    }
  }
}
@-webkit-keyframes gogogo {
  0%{
    transform: rotate(0deg);
  }
  50%{
    transform: rotate(180deg);
  }
  100%{
    transform: rotate(360deg);
  }
}
</style>
